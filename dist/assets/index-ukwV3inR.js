function e3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var t3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zw={exports:{}},wm={},Yw={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=Symbol.for("react.element"),n3=Symbol.for("react.portal"),r3=Symbol.for("react.fragment"),i3=Symbol.for("react.strict_mode"),s3=Symbol.for("react.profiler"),o3=Symbol.for("react.provider"),a3=Symbol.for("react.context"),l3=Symbol.for("react.forward_ref"),u3=Symbol.for("react.suspense"),c3=Symbol.for("react.memo"),h3=Symbol.for("react.lazy"),Oy=Symbol.iterator;function f3(t){return t===null||typeof t!="object"?null:(t=Oy&&t[Oy]||t["@@iterator"],typeof t=="function"?t:null)}var Qw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xw=Object.assign,Jw={};function uh(t,e,n){this.props=t,this.context=e,this.refs=Jw,this.updater=n||Qw}uh.prototype.isReactComponent={};uh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eb(){}eb.prototype=uh.prototype;function f1(t,e,n){this.props=t,this.context=e,this.refs=Jw,this.updater=n||Qw}var d1=f1.prototype=new eb;d1.constructor=f1;Xw(d1,uh.prototype);d1.isPureReactComponent=!0;var My=Array.isArray,tb=Object.prototype.hasOwnProperty,p1={current:null},nb={key:!0,ref:!0,__self:!0,__source:!0};function rb(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)tb.call(e,r)&&!nb.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),f=0;f<l;f++)u[f]=arguments[f+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Zf,type:t,key:s,ref:a,props:i,_owner:p1.current}}function d3(t,e){return{$$typeof:Zf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function m1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zf}function p3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dy=/\/+/g;function Ig(t,e){return typeof t=="object"&&t!==null&&t.key!=null?p3(""+t.key):e.toString(36)}function rp(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Zf:case n3:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Ig(a,0):r,My(i)?(n="",t!=null&&(n=t.replace(Dy,"$&/")+"/"),rp(i,e,n,"",function(f){return f})):i!=null&&(m1(i)&&(i=d3(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Dy,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",My(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Ig(s,l);a+=rp(s,e,n,u,i)}else if(u=f3(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Ig(s,l++),a+=rp(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Nd(t,e,n){if(t==null)return t;var r=[],i=0;return rp(t,r,"","",function(s){return e.call(n,s,i++)}),r}function m3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bi={current:null},ip={transition:null},g3={ReactCurrentDispatcher:Bi,ReactCurrentBatchConfig:ip,ReactCurrentOwner:p1};function ib(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:Nd,forEach:function(t,e,n){Nd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nd(t,function(){e++}),e},toArray:function(t){return Nd(t,function(e){return e})||[]},only:function(t){if(!m1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Gt.Component=uh;Gt.Fragment=r3;Gt.Profiler=s3;Gt.PureComponent=f1;Gt.StrictMode=i3;Gt.Suspense=u3;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g3;Gt.act=ib;Gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Xw({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=p1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)tb.call(e,u)&&!nb.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var f=0;f<u;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:Zf,type:t.type,key:i,ref:s,props:r,_owner:a}};Gt.createContext=function(t){return t={$$typeof:a3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:o3,_context:t},t.Consumer=t};Gt.createElement=rb;Gt.createFactory=function(t){var e=rb.bind(null,t);return e.type=t,e};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(t){return{$$typeof:l3,render:t}};Gt.isValidElement=m1;Gt.lazy=function(t){return{$$typeof:h3,_payload:{_status:-1,_result:t},_init:m3}};Gt.memo=function(t,e){return{$$typeof:c3,type:t,compare:e===void 0?null:e}};Gt.startTransition=function(t){var e=ip.transition;ip.transition={};try{t()}finally{ip.transition=e}};Gt.unstable_act=ib;Gt.useCallback=function(t,e){return Bi.current.useCallback(t,e)};Gt.useContext=function(t){return Bi.current.useContext(t)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(t){return Bi.current.useDeferredValue(t)};Gt.useEffect=function(t,e){return Bi.current.useEffect(t,e)};Gt.useId=function(){return Bi.current.useId()};Gt.useImperativeHandle=function(t,e,n){return Bi.current.useImperativeHandle(t,e,n)};Gt.useInsertionEffect=function(t,e){return Bi.current.useInsertionEffect(t,e)};Gt.useLayoutEffect=function(t,e){return Bi.current.useLayoutEffect(t,e)};Gt.useMemo=function(t,e){return Bi.current.useMemo(t,e)};Gt.useReducer=function(t,e,n){return Bi.current.useReducer(t,e,n)};Gt.useRef=function(t){return Bi.current.useRef(t)};Gt.useState=function(t){return Bi.current.useState(t)};Gt.useSyncExternalStore=function(t,e,n){return Bi.current.useSyncExternalStore(t,e,n)};Gt.useTransition=function(){return Bi.current.useTransition()};Gt.version="18.3.1";Yw.exports=Gt;var Ie=Yw.exports;const vf=Kw(Ie),v3=e3({__proto__:null,default:vf},[Ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _3=Ie,y3=Symbol.for("react.element"),w3=Symbol.for("react.fragment"),b3=Object.prototype.hasOwnProperty,x3=_3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S3={key:!0,ref:!0,__self:!0,__source:!0};function sb(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)b3.call(e,r)&&!S3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:y3,type:t,key:s,ref:a,props:i,_owner:x3.current}}wm.Fragment=w3;wm.jsx=sb;wm.jsxs=sb;Zw.exports=wm;var W=Zw.exports,Iv={},ob={exports:{}},Es={},ab={exports:{}},lb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,ce){var ae=Y.length;Y.push(ce);e:for(;0<ae;){var Ne=ae-1>>>1,F=Y[Ne];if(0<i(F,ce))Y[Ne]=ce,Y[ae]=F,ae=Ne;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ce=Y[0],ae=Y.pop();if(ae!==ce){Y[0]=ae;e:for(var Ne=0,F=Y.length,X=F>>>1;Ne<X;){var J=2*(Ne+1)-1,ie=Y[J],le=J+1,xe=Y[le];if(0>i(ie,ae))le<F&&0>i(xe,ie)?(Y[Ne]=xe,Y[le]=ae,Ne=le):(Y[Ne]=ie,Y[J]=ae,Ne=J);else if(le<F&&0>i(xe,ae))Y[Ne]=xe,Y[le]=ae,Ne=le;else break e}}return ce}function i(Y,ce){var ae=Y.sortIndex-ce.sortIndex;return ae!==0?ae:Y.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],f=[],g=1,v=null,b=3,_=!1,k=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Y){for(var ce=n(f);ce!==null;){if(ce.callback===null)r(f);else if(ce.startTime<=Y)r(f),ce.sortIndex=ce.expirationTime,e(u,ce);else break;ce=n(f)}}function te(Y){if(C=!1,j(Y),!k)if(n(u)!==null)k=!0,de(he);else{var ce=n(f);ce!==null&&re(te,ce.startTime-Y)}}function he(Y,ce){k=!1,C&&(C=!1,E(R),R=-1),_=!0;var ae=b;try{for(j(ce),v=n(u);v!==null&&(!(v.expirationTime>ce)||Y&&!N());){var Ne=v.callback;if(typeof Ne=="function"){v.callback=null,b=v.priorityLevel;var F=Ne(v.expirationTime<=ce);ce=t.unstable_now(),typeof F=="function"?v.callback=F:v===n(u)&&r(u),j(ce)}else r(u);v=n(u)}if(v!==null)var X=!0;else{var J=n(f);J!==null&&re(te,J.startTime-ce),X=!1}return X}finally{v=null,b=ae,_=!1}}var we=!1,z=null,R=-1,U=5,K=-1;function N(){return!(t.unstable_now()-K<U)}function O(){if(z!==null){var Y=t.unstable_now();K=Y;var ce=!0;try{ce=z(!0,Y)}finally{ce?D():(we=!1,z=null)}}else we=!1}var D;if(typeof T=="function")D=function(){T(O)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,pe=oe.port2;oe.port1.onmessage=O,D=function(){pe.postMessage(null)}}else D=function(){M(O,0)};function de(Y){z=Y,we||(we=!0,D())}function re(Y,ce){R=M(function(){Y(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){k||_||(k=!0,de(he))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var ae=b;b=ce;try{return Y()}finally{b=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ce){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ae=b;b=Y;try{return ce()}finally{b=ae}},t.unstable_scheduleCallback=function(Y,ce,ae){var Ne=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ne+ae:Ne):ae=Ne,Y){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ae+F,Y={id:g++,callback:ce,priorityLevel:Y,startTime:ae,expirationTime:F,sortIndex:-1},ae>Ne?(Y.sortIndex=ae,e(f,Y),n(u)===null&&Y===n(f)&&(C?(E(R),R=-1):C=!0,re(te,ae-Ne))):(Y.sortIndex=F,e(u,Y),k||_||(k=!0,de(he))),Y},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(Y){var ce=b;return function(){var ae=b;b=ce;try{return Y.apply(this,arguments)}finally{b=ae}}}})(lb);ab.exports=lb;var E3=ab.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A3=Ie,Ss=E3;function Ge(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ub=new Set,_f={};function zu(t,e){$c(t,e),$c(t+"Capture",e)}function $c(t,e){for(_f[t]=e,t=0;t<e.length;t++)ub.add(e[t])}var qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nv=Object.prototype.hasOwnProperty,P3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fy={},jy={};function T3(t){return Nv.call(jy,t)?!0:Nv.call(Fy,t)?!1:P3.test(t)?jy[t]=!0:(Fy[t]=!0,!1)}function I3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N3(t,e,n,r){if(e===null||typeof e>"u"||I3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vi(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ii[t]=new Vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ii[e]=new Vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ii[t]=new Vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ii[t]=new Vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ii[t]=new Vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ii[t]=new Vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ii[t]=new Vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ii[t]=new Vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ii[t]=new Vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var g1=/[\-:]([a-z])/g;function v1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(g1,v1);ii[e]=new Vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(g1,v1);ii[e]=new Vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(g1,v1);ii[e]=new Vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ii[t]=new Vi(t,1,!1,t.toLowerCase(),null,!1,!1)});ii.xlinkHref=new Vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ii[t]=new Vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function _1(t,e,n,r){var i=ii.hasOwnProperty(e)?ii[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N3(e,n,i,r)&&(n=null),r||i===null?T3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xa=A3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ld=Symbol.for("react.element"),gc=Symbol.for("react.portal"),vc=Symbol.for("react.fragment"),y1=Symbol.for("react.strict_mode"),Lv=Symbol.for("react.profiler"),cb=Symbol.for("react.provider"),hb=Symbol.for("react.context"),w1=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),kv=Symbol.for("react.suspense_list"),b1=Symbol.for("react.memo"),vl=Symbol.for("react.lazy"),fb=Symbol.for("react.offscreen"),By=Symbol.iterator;function Lh(t){return t===null||typeof t!="object"?null:(t=By&&t[By]||t["@@iterator"],typeof t=="function"?t:null)}var Gn=Object.assign,Ng;function Uh(t){if(Ng===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ng=e&&e[1]||""}return`
`+Ng+t}var Lg=!1;function Cg(t,e){if(!t||Lg)return"";Lg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{Lg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Uh(t):""}function L3(t){switch(t.tag){case 5:return Uh(t.type);case 16:return Uh("Lazy");case 13:return Uh("Suspense");case 19:return Uh("SuspenseList");case 0:case 2:case 15:return t=Cg(t.type,!1),t;case 11:return t=Cg(t.type.render,!1),t;case 1:return t=Cg(t.type,!0),t;default:return""}}function Rv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vc:return"Fragment";case gc:return"Portal";case Lv:return"Profiler";case y1:return"StrictMode";case Cv:return"Suspense";case kv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hb:return(t.displayName||"Context")+".Consumer";case cb:return(t._context.displayName||"Context")+".Provider";case w1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case b1:return e=t.displayName||null,e!==null?e:Rv(t.type)||"Memo";case vl:e=t._payload,t=t._init;try{return Rv(t(e))}catch{}}return null}function C3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rv(e);case 8:return e===y1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function db(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k3(t){var e=db(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cd(t){t._valueTracker||(t._valueTracker=k3(t))}function pb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=db(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Np(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ov(t,e){var n=e.checked;return Gn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mb(t,e){e=e.checked,e!=null&&_1(t,"checked",e,!1)}function Mv(t,e){mb(t,e);var n=Hl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dv(t,e.type,Hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dv(t,e,n){(e!=="number"||Np(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qh=Array.isArray;function Lc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return Gn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ge(92));if(qh(n)){if(1<n.length)throw Error(Ge(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hl(n)}}function gb(t,e){var n=Hl(e.value),r=Hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kd,_b=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kd=kd||document.createElement("div"),kd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R3=["Webkit","ms","Moz","O"];Object.keys(Jh).forEach(function(t){R3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jh[e]=Jh[t]})});function yb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Jh.hasOwnProperty(t)&&Jh[t]?(""+e).trim():e+"px"}function wb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var O3=Gn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bv(t,e){if(e){if(O3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ge(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ge(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ge(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ge(62))}}function Vv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zv=null;function x1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uv=null,Cc=null,kc=null;function Wy(t){if(t=Xf(t)){if(typeof Uv!="function")throw Error(Ge(280));var e=t.stateNode;e&&(e=Am(e),Uv(t.stateNode,t.type,e))}}function bb(t){Cc?kc?kc.push(t):kc=[t]:Cc=t}function xb(){if(Cc){var t=Cc,e=kc;if(kc=Cc=null,Wy(t),e)for(t=0;t<e.length;t++)Wy(e[t])}}function Sb(t,e){return t(e)}function Eb(){}var kg=!1;function Ab(t,e,n){if(kg)return t(e,n);kg=!0;try{return Sb(t,e,n)}finally{kg=!1,(Cc!==null||kc!==null)&&(Eb(),xb())}}function wf(t,e){var n=t.stateNode;if(n===null)return null;var r=Am(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ge(231,e,typeof n));return n}var qv=!1;if(qa)try{var Ch={};Object.defineProperty(Ch,"passive",{get:function(){qv=!0}}),window.addEventListener("test",Ch,Ch),window.removeEventListener("test",Ch,Ch)}catch{qv=!1}function M3(t,e,n,r,i,s,a,l,u){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(g){this.onError(g)}}var ef=!1,Lp=null,Cp=!1,Wv=null,D3={onError:function(t){ef=!0,Lp=t}};function F3(t,e,n,r,i,s,a,l,u){ef=!1,Lp=null,M3.apply(D3,arguments)}function j3(t,e,n,r,i,s,a,l,u){if(F3.apply(this,arguments),ef){if(ef){var f=Lp;ef=!1,Lp=null}else throw Error(Ge(198));Cp||(Cp=!0,Wv=f)}}function Uu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hy(t){if(Uu(t)!==t)throw Error(Ge(188))}function B3(t){var e=t.alternate;if(!e){if(e=Uu(t),e===null)throw Error(Ge(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Hy(i),t;if(s===r)return Hy(i),e;s=s.sibling}throw Error(Ge(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(Ge(189))}}if(n.alternate!==r)throw Error(Ge(190))}if(n.tag!==3)throw Error(Ge(188));return n.stateNode.current===n?t:e}function Tb(t){return t=B3(t),t!==null?Ib(t):null}function Ib(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ib(t);if(e!==null)return e;t=t.sibling}return null}var Nb=Ss.unstable_scheduleCallback,$y=Ss.unstable_cancelCallback,V3=Ss.unstable_shouldYield,z3=Ss.unstable_requestPaint,ar=Ss.unstable_now,U3=Ss.unstable_getCurrentPriorityLevel,S1=Ss.unstable_ImmediatePriority,Lb=Ss.unstable_UserBlockingPriority,kp=Ss.unstable_NormalPriority,q3=Ss.unstable_LowPriority,Cb=Ss.unstable_IdlePriority,bm=null,ca=null;function W3(t){if(ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(bm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ro=Math.clz32?Math.clz32:G3,H3=Math.log,$3=Math.LN2;function G3(t){return t>>>=0,t===0?32:31-(H3(t)/$3|0)|0}var Rd=64,Od=4194304;function Wh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Wh(l):(s&=a,s!==0&&(r=Wh(s)))}else a=n&~i,a!==0?r=Wh(a):s!==0&&(r=Wh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ro(e),i=1<<n,r|=t[n],e&=~i;return r}function K3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ro(s),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=K3(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Hv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kb(){var t=Rd;return Rd<<=1,!(Rd&4194240)&&(Rd=64),t}function Rg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ro(e),t[e]=n}function Y3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ro(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function E1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ro(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var wn=0;function Rb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ob,A1,Mb,Db,Fb,$v=!1,Md=[],Ll=null,Cl=null,kl=null,bf=new Map,xf=new Map,yl=[],Q3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gy(t,e){switch(t){case"focusin":case"focusout":Ll=null;break;case"dragenter":case"dragleave":Cl=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":bf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xf.delete(e.pointerId)}}function kh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xf(e),e!==null&&A1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function X3(t,e,n,r,i){switch(e){case"focusin":return Ll=kh(Ll,t,e,n,r,i),!0;case"dragenter":return Cl=kh(Cl,t,e,n,r,i),!0;case"mouseover":return kl=kh(kl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bf.set(s,kh(bf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xf.set(s,kh(xf.get(s)||null,t,e,n,r,i)),!0}return!1}function jb(t){var e=bu(t.target);if(e!==null){var n=Uu(e);if(n!==null){if(e=n.tag,e===13){if(e=Pb(n),e!==null){t.blockedOn=e,Fb(t.priority,function(){Mb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zv=r,n.target.dispatchEvent(r),zv=null}else return e=Xf(n),e!==null&&A1(e),t.blockedOn=n,!1;e.shift()}return!0}function Ky(t,e,n){sp(t)&&n.delete(e)}function J3(){$v=!1,Ll!==null&&sp(Ll)&&(Ll=null),Cl!==null&&sp(Cl)&&(Cl=null),kl!==null&&sp(kl)&&(kl=null),bf.forEach(Ky),xf.forEach(Ky)}function Rh(t,e){t.blockedOn===e&&(t.blockedOn=null,$v||($v=!0,Ss.unstable_scheduleCallback(Ss.unstable_NormalPriority,J3)))}function Sf(t){function e(i){return Rh(i,t)}if(0<Md.length){Rh(Md[0],t);for(var n=1;n<Md.length;n++){var r=Md[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ll!==null&&Rh(Ll,t),Cl!==null&&Rh(Cl,t),kl!==null&&Rh(kl,t),bf.forEach(e),xf.forEach(e),n=0;n<yl.length;n++)r=yl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yl.length&&(n=yl[0],n.blockedOn===null);)jb(n),n.blockedOn===null&&yl.shift()}var Rc=Xa.ReactCurrentBatchConfig,Op=!0;function eP(t,e,n,r){var i=wn,s=Rc.transition;Rc.transition=null;try{wn=1,P1(t,e,n,r)}finally{wn=i,Rc.transition=s}}function tP(t,e,n,r){var i=wn,s=Rc.transition;Rc.transition=null;try{wn=4,P1(t,e,n,r)}finally{wn=i,Rc.transition=s}}function P1(t,e,n,r){if(Op){var i=Gv(t,e,n,r);if(i===null)qg(t,e,r,Mp,n),Gy(t,r);else if(X3(i,t,e,n,r))r.stopPropagation();else if(Gy(t,r),e&4&&-1<Q3.indexOf(t)){for(;i!==null;){var s=Xf(i);if(s!==null&&Ob(s),s=Gv(t,e,n,r),s===null&&qg(t,e,r,Mp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qg(t,e,r,null,n)}}var Mp=null;function Gv(t,e,n,r){if(Mp=null,t=x1(r),t=bu(t),t!==null)if(e=Uu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mp=t,null}function Bb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U3()){case S1:return 1;case Lb:return 4;case kp:case q3:return 16;case Cb:return 536870912;default:return 16}default:return 16}}var Al=null,T1=null,op=null;function Vb(){if(op)return op;var t,e=T1,n=e.length,r,i="value"in Al?Al.value:Al.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return op=i.slice(t,1<r?1-r:void 0)}function ap(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dd(){return!0}function Zy(){return!1}function As(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dd:Zy,this.isPropagationStopped=Zy,this}return Gn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dd)},persist:function(){},isPersistent:Dd}),e}var ch={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I1=As(ch),Qf=Gn({},ch,{view:0,detail:0}),nP=As(Qf),Og,Mg,Oh,xm=Gn({},Qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oh&&(Oh&&t.type==="mousemove"?(Og=t.screenX-Oh.screenX,Mg=t.screenY-Oh.screenY):Mg=Og=0,Oh=t),Og)},movementY:function(t){return"movementY"in t?t.movementY:Mg}}),Yy=As(xm),rP=Gn({},xm,{dataTransfer:0}),iP=As(rP),sP=Gn({},Qf,{relatedTarget:0}),Dg=As(sP),oP=Gn({},ch,{animationName:0,elapsedTime:0,pseudoElement:0}),aP=As(oP),lP=Gn({},ch,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uP=As(lP),cP=Gn({},ch,{data:0}),Qy=As(cP),hP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dP[t])?!!e[t]:!1}function N1(){return pP}var mP=Gn({},Qf,{key:function(t){if(t.key){var e=hP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ap(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N1,charCode:function(t){return t.type==="keypress"?ap(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ap(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gP=As(mP),vP=Gn({},xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=As(vP),_P=Gn({},Qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N1}),yP=As(_P),wP=Gn({},ch,{propertyName:0,elapsedTime:0,pseudoElement:0}),bP=As(wP),xP=Gn({},xm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SP=As(xP),EP=[9,13,27,32],L1=qa&&"CompositionEvent"in window,tf=null;qa&&"documentMode"in document&&(tf=document.documentMode);var AP=qa&&"TextEvent"in window&&!tf,zb=qa&&(!L1||tf&&8<tf&&11>=tf),Jy=" ",e2=!1;function Ub(t,e){switch(t){case"keyup":return EP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _c=!1;function PP(t,e){switch(t){case"compositionend":return qb(e);case"keypress":return e.which!==32?null:(e2=!0,Jy);case"textInput":return t=e.data,t===Jy&&e2?null:t;default:return null}}function TP(t,e){if(_c)return t==="compositionend"||!L1&&Ub(t,e)?(t=Vb(),op=T1=Al=null,_c=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zb&&e.locale!=="ko"?null:e.data;default:return null}}var IP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!IP[t.type]:e==="textarea"}function Wb(t,e,n,r){bb(r),e=Dp(e,"onChange"),0<e.length&&(n=new I1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nf=null,Ef=null;function NP(t){tx(t,0)}function Sm(t){var e=bc(t);if(pb(e))return t}function LP(t,e){if(t==="change")return e}var Hb=!1;if(qa){var Fg;if(qa){var jg="oninput"in document;if(!jg){var n2=document.createElement("div");n2.setAttribute("oninput","return;"),jg=typeof n2.oninput=="function"}Fg=jg}else Fg=!1;Hb=Fg&&(!document.documentMode||9<document.documentMode)}function r2(){nf&&(nf.detachEvent("onpropertychange",$b),Ef=nf=null)}function $b(t){if(t.propertyName==="value"&&Sm(Ef)){var e=[];Wb(e,Ef,t,x1(t)),Ab(NP,e)}}function CP(t,e,n){t==="focusin"?(r2(),nf=e,Ef=n,nf.attachEvent("onpropertychange",$b)):t==="focusout"&&r2()}function kP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sm(Ef)}function RP(t,e){if(t==="click")return Sm(e)}function OP(t,e){if(t==="input"||t==="change")return Sm(e)}function MP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fo=typeof Object.is=="function"?Object.is:MP;function Af(t,e){if(Fo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Nv.call(e,i)||!Fo(t[i],e[i]))return!1}return!0}function i2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function s2(t,e){var n=i2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=i2(n)}}function Gb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Kb(){for(var t=window,e=Np();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Np(t.document)}return e}function C1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DP(t){var e=Kb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Gb(n.ownerDocument.documentElement,n)){if(r!==null&&C1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=s2(n,s);var a=s2(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FP=qa&&"documentMode"in document&&11>=document.documentMode,yc=null,Kv=null,rf=null,Zv=!1;function o2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zv||yc==null||yc!==Np(r)||(r=yc,"selectionStart"in r&&C1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rf&&Af(rf,r)||(rf=r,r=Dp(Kv,"onSelect"),0<r.length&&(e=new I1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yc)))}function Fd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wc={animationend:Fd("Animation","AnimationEnd"),animationiteration:Fd("Animation","AnimationIteration"),animationstart:Fd("Animation","AnimationStart"),transitionend:Fd("Transition","TransitionEnd")},Bg={},Zb={};qa&&(Zb=document.createElement("div").style,"AnimationEvent"in window||(delete wc.animationend.animation,delete wc.animationiteration.animation,delete wc.animationstart.animation),"TransitionEvent"in window||delete wc.transitionend.transition);function Em(t){if(Bg[t])return Bg[t];if(!wc[t])return t;var e=wc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zb)return Bg[t]=e[n];return t}var Yb=Em("animationend"),Qb=Em("animationiteration"),Xb=Em("animationstart"),Jb=Em("transitionend"),ex=new Map,a2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jl(t,e){ex.set(t,e),zu(e,[t])}for(var Vg=0;Vg<a2.length;Vg++){var zg=a2[Vg],jP=zg.toLowerCase(),BP=zg[0].toUpperCase()+zg.slice(1);Jl(jP,"on"+BP)}Jl(Yb,"onAnimationEnd");Jl(Qb,"onAnimationIteration");Jl(Xb,"onAnimationStart");Jl("dblclick","onDoubleClick");Jl("focusin","onFocus");Jl("focusout","onBlur");Jl(Jb,"onTransitionEnd");$c("onMouseEnter",["mouseout","mouseover"]);$c("onMouseLeave",["mouseout","mouseover"]);$c("onPointerEnter",["pointerout","pointerover"]);$c("onPointerLeave",["pointerout","pointerover"]);zu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zu("onBeforeInput",["compositionend","keypress","textInput","paste"]);zu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hh));function l2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,j3(r,e,void 0,t),t.currentTarget=null}function tx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,f=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;l2(i,l,f),s=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,f=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;l2(i,l,f),s=u}}}if(Cp)throw t=Wv,Cp=!1,Wv=null,t}function Mn(t,e){var n=e[e0];n===void 0&&(n=e[e0]=new Set);var r=t+"__bubble";n.has(r)||(nx(e,t,2,!1),n.add(r))}function Ug(t,e,n){var r=0;e&&(r|=4),nx(n,t,r,e)}var jd="_reactListening"+Math.random().toString(36).slice(2);function Pf(t){if(!t[jd]){t[jd]=!0,ub.forEach(function(n){n!=="selectionchange"&&(VP.has(n)||Ug(n,!1,t),Ug(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jd]||(e[jd]=!0,Ug("selectionchange",!1,e))}}function nx(t,e,n,r){switch(Bb(e)){case 1:var i=eP;break;case 4:i=tP;break;default:i=P1}n=i.bind(null,e,n,t),i=void 0,!qv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=bu(l),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}l=l.parentNode}}r=r.return}Ab(function(){var f=s,g=x1(n),v=[];e:{var b=ex.get(t);if(b!==void 0){var _=I1,k=t;switch(t){case"keypress":if(ap(n)===0)break e;case"keydown":case"keyup":_=gP;break;case"focusin":k="focus",_=Dg;break;case"focusout":k="blur",_=Dg;break;case"beforeblur":case"afterblur":_=Dg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=iP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=yP;break;case Yb:case Qb:case Xb:_=aP;break;case Jb:_=bP;break;case"scroll":_=nP;break;case"wheel":_=SP;break;case"copy":case"cut":case"paste":_=uP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Xy}var C=(e&4)!==0,M=!C&&t==="scroll",E=C?b!==null?b+"Capture":null:b;C=[];for(var T=f,j;T!==null;){j=T;var te=j.stateNode;if(j.tag===5&&te!==null&&(j=te,E!==null&&(te=wf(T,E),te!=null&&C.push(Tf(T,te,j)))),M)break;T=T.return}0<C.length&&(b=new _(b,k,null,n,g),v.push({event:b,listeners:C}))}}if(!(e&7)){e:{if(b=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",b&&n!==zv&&(k=n.relatedTarget||n.fromElement)&&(bu(k)||k[Wa]))break e;if((_||b)&&(b=g.window===g?g:(b=g.ownerDocument)?b.defaultView||b.parentWindow:window,_?(k=n.relatedTarget||n.toElement,_=f,k=k?bu(k):null,k!==null&&(M=Uu(k),k!==M||k.tag!==5&&k.tag!==6)&&(k=null)):(_=null,k=f),_!==k)){if(C=Yy,te="onMouseLeave",E="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(C=Xy,te="onPointerLeave",E="onPointerEnter",T="pointer"),M=_==null?b:bc(_),j=k==null?b:bc(k),b=new C(te,T+"leave",_,n,g),b.target=M,b.relatedTarget=j,te=null,bu(g)===f&&(C=new C(E,T+"enter",k,n,g),C.target=j,C.relatedTarget=M,te=C),M=te,_&&k)t:{for(C=_,E=k,T=0,j=C;j;j=lc(j))T++;for(j=0,te=E;te;te=lc(te))j++;for(;0<T-j;)C=lc(C),T--;for(;0<j-T;)E=lc(E),j--;for(;T--;){if(C===E||E!==null&&C===E.alternate)break t;C=lc(C),E=lc(E)}C=null}else C=null;_!==null&&u2(v,b,_,C,!1),k!==null&&M!==null&&u2(v,M,k,C,!0)}}e:{if(b=f?bc(f):window,_=b.nodeName&&b.nodeName.toLowerCase(),_==="select"||_==="input"&&b.type==="file")var he=LP;else if(t2(b))if(Hb)he=OP;else{he=kP;var we=CP}else(_=b.nodeName)&&_.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(he=RP);if(he&&(he=he(t,f))){Wb(v,he,n,g);break e}we&&we(t,b,f),t==="focusout"&&(we=b._wrapperState)&&we.controlled&&b.type==="number"&&Dv(b,"number",b.value)}switch(we=f?bc(f):window,t){case"focusin":(t2(we)||we.contentEditable==="true")&&(yc=we,Kv=f,rf=null);break;case"focusout":rf=Kv=yc=null;break;case"mousedown":Zv=!0;break;case"contextmenu":case"mouseup":case"dragend":Zv=!1,o2(v,n,g);break;case"selectionchange":if(FP)break;case"keydown":case"keyup":o2(v,n,g)}var z;if(L1)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else _c?Ub(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(zb&&n.locale!=="ko"&&(_c||R!=="onCompositionStart"?R==="onCompositionEnd"&&_c&&(z=Vb()):(Al=g,T1="value"in Al?Al.value:Al.textContent,_c=!0)),we=Dp(f,R),0<we.length&&(R=new Qy(R,t,null,n,g),v.push({event:R,listeners:we}),z?R.data=z:(z=qb(n),z!==null&&(R.data=z)))),(z=AP?PP(t,n):TP(t,n))&&(f=Dp(f,"onBeforeInput"),0<f.length&&(g=new Qy("onBeforeInput","beforeinput",null,n,g),v.push({event:g,listeners:f}),g.data=z))}tx(v,e)})}function Tf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wf(t,n),s!=null&&r.unshift(Tf(t,s,i)),s=wf(t,e),s!=null&&r.push(Tf(t,s,i))),t=t.return}return r}function lc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function u2(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,f=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&f!==null&&(l=f,i?(u=wf(n,s),u!=null&&a.unshift(Tf(n,u,l))):i||(u=wf(n,s),u!=null&&a.push(Tf(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var zP=/\r\n?/g,UP=/\u0000|\uFFFD/g;function c2(t){return(typeof t=="string"?t:""+t).replace(zP,`
`).replace(UP,"")}function Bd(t,e,n){if(e=c2(e),c2(t)!==e&&n)throw Error(Ge(425))}function Fp(){}var Yv=null,Qv=null;function Xv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jv=typeof setTimeout=="function"?setTimeout:void 0,qP=typeof clearTimeout=="function"?clearTimeout:void 0,h2=typeof Promise=="function"?Promise:void 0,WP=typeof queueMicrotask=="function"?queueMicrotask:typeof h2<"u"?function(t){return h2.resolve(null).then(t).catch(HP)}:Jv;function HP(t){setTimeout(function(){throw t})}function Wg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sf(e)}function Rl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function f2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hh=Math.random().toString(36).slice(2),la="__reactFiber$"+hh,If="__reactProps$"+hh,Wa="__reactContainer$"+hh,e0="__reactEvents$"+hh,$P="__reactListeners$"+hh,GP="__reactHandles$"+hh;function bu(t){var e=t[la];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wa]||n[la]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=f2(t);t!==null;){if(n=t[la])return n;t=f2(t)}return e}t=n,n=t.parentNode}return null}function Xf(t){return t=t[la]||t[Wa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ge(33))}function Am(t){return t[If]||null}var t0=[],xc=-1;function eu(t){return{current:t}}function jn(t){0>xc||(t.current=t0[xc],t0[xc]=null,xc--)}function Cn(t,e){xc++,t0[xc]=t.current,t.current=e}var $l={},Ai=eu($l),ns=eu(!1),Nu=$l;function Gc(t,e){var n=t.type.contextTypes;if(!n)return $l;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rs(t){return t=t.childContextTypes,t!=null}function jp(){jn(ns),jn(Ai)}function d2(t,e,n){if(Ai.current!==$l)throw Error(Ge(168));Cn(Ai,e),Cn(ns,n)}function rx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ge(108,C3(t)||"Unknown",i));return Gn({},n,r)}function Bp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$l,Nu=Ai.current,Cn(Ai,t),Cn(ns,ns.current),!0}function p2(t,e,n){var r=t.stateNode;if(!r)throw Error(Ge(169));n?(t=rx(t,e,Nu),r.__reactInternalMemoizedMergedChildContext=t,jn(ns),jn(Ai),Cn(Ai,t)):jn(ns),Cn(ns,n)}var Oa=null,Pm=!1,Hg=!1;function ix(t){Oa===null?Oa=[t]:Oa.push(t)}function KP(t){Pm=!0,ix(t)}function tu(){if(!Hg&&Oa!==null){Hg=!0;var t=0,e=wn;try{var n=Oa;for(wn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Oa=null,Pm=!1}catch(i){throw Oa!==null&&(Oa=Oa.slice(t+1)),Nb(S1,tu),i}finally{wn=e,Hg=!1}}return null}var Sc=[],Ec=0,Vp=null,zp=0,eo=[],to=0,Lu=null,Ma=1,Da="";function gu(t,e){Sc[Ec++]=zp,Sc[Ec++]=Vp,Vp=t,zp=e}function sx(t,e,n){eo[to++]=Ma,eo[to++]=Da,eo[to++]=Lu,Lu=t;var r=Ma;t=Da;var i=32-Ro(r)-1;r&=~(1<<i),n+=1;var s=32-Ro(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ma=1<<32-Ro(e)+i|n<<i|r,Da=s+t}else Ma=1<<s|n<<i|r,Da=t}function k1(t){t.return!==null&&(gu(t,1),sx(t,1,0))}function R1(t){for(;t===Vp;)Vp=Sc[--Ec],Sc[Ec]=null,zp=Sc[--Ec],Sc[Ec]=null;for(;t===Lu;)Lu=eo[--to],eo[to]=null,Da=eo[--to],eo[to]=null,Ma=eo[--to],eo[to]=null}var xs=null,ys=null,zn=!1,ko=null;function ox(t,e){var n=no(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function m2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xs=t,ys=Rl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xs=t,ys=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lu!==null?{id:Ma,overflow:Da}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=no(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xs=t,ys=null,!0):!1;default:return!1}}function n0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function r0(t){if(zn){var e=ys;if(e){var n=e;if(!m2(t,e)){if(n0(t))throw Error(Ge(418));e=Rl(n.nextSibling);var r=xs;e&&m2(t,e)?ox(r,n):(t.flags=t.flags&-4097|2,zn=!1,xs=t)}}else{if(n0(t))throw Error(Ge(418));t.flags=t.flags&-4097|2,zn=!1,xs=t}}}function g2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xs=t}function Vd(t){if(t!==xs)return!1;if(!zn)return g2(t),zn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xv(t.type,t.memoizedProps)),e&&(e=ys)){if(n0(t))throw ax(),Error(Ge(418));for(;e;)ox(t,e),e=Rl(e.nextSibling)}if(g2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ge(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ys=Rl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ys=null}}else ys=xs?Rl(t.stateNode.nextSibling):null;return!0}function ax(){for(var t=ys;t;)t=Rl(t.nextSibling)}function Kc(){ys=xs=null,zn=!1}function O1(t){ko===null?ko=[t]:ko.push(t)}var ZP=Xa.ReactCurrentBatchConfig;function Mh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ge(309));var r=n.stateNode}if(!r)throw Error(Ge(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ge(284));if(!n._owner)throw Error(Ge(290,t))}return t}function zd(t,e){throw t=Object.prototype.toString.call(e),Error(Ge(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function v2(t){var e=t._init;return e(t._payload)}function lx(t){function e(E,T){if(t){var j=E.deletions;j===null?(E.deletions=[T],E.flags|=16):j.push(T)}}function n(E,T){if(!t)return null;for(;T!==null;)e(E,T),T=T.sibling;return null}function r(E,T){for(E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function i(E,T){return E=Fl(E,T),E.index=0,E.sibling=null,E}function s(E,T,j){return E.index=j,t?(j=E.alternate,j!==null?(j=j.index,j<T?(E.flags|=2,T):j):(E.flags|=2,T)):(E.flags|=1048576,T)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,T,j,te){return T===null||T.tag!==6?(T=Xg(j,E.mode,te),T.return=E,T):(T=i(T,j),T.return=E,T)}function u(E,T,j,te){var he=j.type;return he===vc?g(E,T,j.props.children,te,j.key):T!==null&&(T.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===vl&&v2(he)===T.type)?(te=i(T,j.props),te.ref=Mh(E,T,j),te.return=E,te):(te=pp(j.type,j.key,j.props,null,E.mode,te),te.ref=Mh(E,T,j),te.return=E,te)}function f(E,T,j,te){return T===null||T.tag!==4||T.stateNode.containerInfo!==j.containerInfo||T.stateNode.implementation!==j.implementation?(T=Jg(j,E.mode,te),T.return=E,T):(T=i(T,j.children||[]),T.return=E,T)}function g(E,T,j,te,he){return T===null||T.tag!==7?(T=Pu(j,E.mode,te,he),T.return=E,T):(T=i(T,j),T.return=E,T)}function v(E,T,j){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Xg(""+T,E.mode,j),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ld:return j=pp(T.type,T.key,T.props,null,E.mode,j),j.ref=Mh(E,null,T),j.return=E,j;case gc:return T=Jg(T,E.mode,j),T.return=E,T;case vl:var te=T._init;return v(E,te(T._payload),j)}if(qh(T)||Lh(T))return T=Pu(T,E.mode,j,null),T.return=E,T;zd(E,T)}return null}function b(E,T,j,te){var he=T!==null?T.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return he!==null?null:l(E,T,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ld:return j.key===he?u(E,T,j,te):null;case gc:return j.key===he?f(E,T,j,te):null;case vl:return he=j._init,b(E,T,he(j._payload),te)}if(qh(j)||Lh(j))return he!==null?null:g(E,T,j,te,null);zd(E,j)}return null}function _(E,T,j,te,he){if(typeof te=="string"&&te!==""||typeof te=="number")return E=E.get(j)||null,l(T,E,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Ld:return E=E.get(te.key===null?j:te.key)||null,u(T,E,te,he);case gc:return E=E.get(te.key===null?j:te.key)||null,f(T,E,te,he);case vl:var we=te._init;return _(E,T,j,we(te._payload),he)}if(qh(te)||Lh(te))return E=E.get(j)||null,g(T,E,te,he,null);zd(T,te)}return null}function k(E,T,j,te){for(var he=null,we=null,z=T,R=T=0,U=null;z!==null&&R<j.length;R++){z.index>R?(U=z,z=null):U=z.sibling;var K=b(E,z,j[R],te);if(K===null){z===null&&(z=U);break}t&&z&&K.alternate===null&&e(E,z),T=s(K,T,R),we===null?he=K:we.sibling=K,we=K,z=U}if(R===j.length)return n(E,z),zn&&gu(E,R),he;if(z===null){for(;R<j.length;R++)z=v(E,j[R],te),z!==null&&(T=s(z,T,R),we===null?he=z:we.sibling=z,we=z);return zn&&gu(E,R),he}for(z=r(E,z);R<j.length;R++)U=_(z,E,R,j[R],te),U!==null&&(t&&U.alternate!==null&&z.delete(U.key===null?R:U.key),T=s(U,T,R),we===null?he=U:we.sibling=U,we=U);return t&&z.forEach(function(N){return e(E,N)}),zn&&gu(E,R),he}function C(E,T,j,te){var he=Lh(j);if(typeof he!="function")throw Error(Ge(150));if(j=he.call(j),j==null)throw Error(Ge(151));for(var we=he=null,z=T,R=T=0,U=null,K=j.next();z!==null&&!K.done;R++,K=j.next()){z.index>R?(U=z,z=null):U=z.sibling;var N=b(E,z,K.value,te);if(N===null){z===null&&(z=U);break}t&&z&&N.alternate===null&&e(E,z),T=s(N,T,R),we===null?he=N:we.sibling=N,we=N,z=U}if(K.done)return n(E,z),zn&&gu(E,R),he;if(z===null){for(;!K.done;R++,K=j.next())K=v(E,K.value,te),K!==null&&(T=s(K,T,R),we===null?he=K:we.sibling=K,we=K);return zn&&gu(E,R),he}for(z=r(E,z);!K.done;R++,K=j.next())K=_(z,E,R,K.value,te),K!==null&&(t&&K.alternate!==null&&z.delete(K.key===null?R:K.key),T=s(K,T,R),we===null?he=K:we.sibling=K,we=K);return t&&z.forEach(function(O){return e(E,O)}),zn&&gu(E,R),he}function M(E,T,j,te){if(typeof j=="object"&&j!==null&&j.type===vc&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Ld:e:{for(var he=j.key,we=T;we!==null;){if(we.key===he){if(he=j.type,he===vc){if(we.tag===7){n(E,we.sibling),T=i(we,j.props.children),T.return=E,E=T;break e}}else if(we.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===vl&&v2(he)===we.type){n(E,we.sibling),T=i(we,j.props),T.ref=Mh(E,we,j),T.return=E,E=T;break e}n(E,we);break}else e(E,we);we=we.sibling}j.type===vc?(T=Pu(j.props.children,E.mode,te,j.key),T.return=E,E=T):(te=pp(j.type,j.key,j.props,null,E.mode,te),te.ref=Mh(E,T,j),te.return=E,E=te)}return a(E);case gc:e:{for(we=j.key;T!==null;){if(T.key===we)if(T.tag===4&&T.stateNode.containerInfo===j.containerInfo&&T.stateNode.implementation===j.implementation){n(E,T.sibling),T=i(T,j.children||[]),T.return=E,E=T;break e}else{n(E,T);break}else e(E,T);T=T.sibling}T=Jg(j,E.mode,te),T.return=E,E=T}return a(E);case vl:return we=j._init,M(E,T,we(j._payload),te)}if(qh(j))return k(E,T,j,te);if(Lh(j))return C(E,T,j,te);zd(E,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,T!==null&&T.tag===6?(n(E,T.sibling),T=i(T,j),T.return=E,E=T):(n(E,T),T=Xg(j,E.mode,te),T.return=E,E=T),a(E)):n(E,T)}return M}var Zc=lx(!0),ux=lx(!1),Up=eu(null),qp=null,Ac=null,M1=null;function D1(){M1=Ac=qp=null}function F1(t){var e=Up.current;jn(Up),t._currentValue=e}function i0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oc(t,e){qp=t,M1=Ac=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ts=!0),t.firstContext=null)}function io(t){var e=t._currentValue;if(M1!==t)if(t={context:t,memoizedValue:e,next:null},Ac===null){if(qp===null)throw Error(Ge(308));Ac=t,qp.dependencies={lanes:0,firstContext:t}}else Ac=Ac.next=t;return e}var xu=null;function j1(t){xu===null?xu=[t]:xu.push(t)}function cx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,j1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ha(t,r)}function Ha(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _l=!1;function B1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ua(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ol(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,on&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ha(t,n)}return i=r.interleaved,i===null?(e.next=e,j1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ha(t,n)}function lp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,E1(t,n)}}function _2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wp(t,e,n,r){var i=t.updateQueue;_l=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,f=u.next;u.next=null,a===null?s=f:a.next=f,a=u;var g=t.alternate;g!==null&&(g=g.updateQueue,l=g.lastBaseUpdate,l!==a&&(l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=u))}if(s!==null){var v=i.baseState;a=0,g=f=u=null,l=s;do{var b=l.lane,_=l.eventTime;if((r&b)===b){g!==null&&(g=g.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,C=l;switch(b=e,_=n,C.tag){case 1:if(k=C.payload,typeof k=="function"){v=k.call(_,v,b);break e}v=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=C.payload,b=typeof k=="function"?k.call(_,v,b):k,b==null)break e;v=Gn({},v,b);break e;case 2:_l=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,b=i.effects,b===null?i.effects=[l]:b.push(l))}else _={eventTime:_,lane:b,tag:l.tag,payload:l.payload,callback:l.callback,next:null},g===null?(f=g=_,u=v):g=g.next=_,a|=b;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;b=l,l=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(!0);if(g===null&&(u=v),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ku|=a,t.lanes=a,t.memoizedState=v}}function y2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var Jf={},ha=eu(Jf),Nf=eu(Jf),Lf=eu(Jf);function Su(t){if(t===Jf)throw Error(Ge(174));return t}function V1(t,e){switch(Cn(Lf,e),Cn(Nf,t),Cn(ha,Jf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jv(e,t)}jn(ha),Cn(ha,e)}function Yc(){jn(ha),jn(Nf),jn(Lf)}function fx(t){Su(Lf.current);var e=Su(ha.current),n=jv(e,t.type);e!==n&&(Cn(Nf,t),Cn(ha,n))}function z1(t){Nf.current===t&&(jn(ha),jn(Nf))}var Hn=eu(0);function Hp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $g=[];function U1(){for(var t=0;t<$g.length;t++)$g[t]._workInProgressVersionPrimary=null;$g.length=0}var up=Xa.ReactCurrentDispatcher,Gg=Xa.ReactCurrentBatchConfig,Cu=0,$n=null,Er=null,Vr=null,$p=!1,sf=!1,Cf=0,YP=0;function di(){throw Error(Ge(321))}function q1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fo(t[n],e[n]))return!1;return!0}function W1(t,e,n,r,i,s){if(Cu=s,$n=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,up.current=t===null||t.memoizedState===null?eT:tT,t=n(r,i),sf){s=0;do{if(sf=!1,Cf=0,25<=s)throw Error(Ge(301));s+=1,Vr=Er=null,e.updateQueue=null,up.current=nT,t=n(r,i)}while(sf)}if(up.current=Gp,e=Er!==null&&Er.next!==null,Cu=0,Vr=Er=$n=null,$p=!1,e)throw Error(Ge(300));return t}function H1(){var t=Cf!==0;return Cf=0,t}function aa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?$n.memoizedState=Vr=t:Vr=Vr.next=t,Vr}function so(){if(Er===null){var t=$n.alternate;t=t!==null?t.memoizedState:null}else t=Er.next;var e=Vr===null?$n.memoizedState:Vr.next;if(e!==null)Vr=e,Er=t;else{if(t===null)throw Error(Ge(310));Er=t,t={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Vr===null?$n.memoizedState=Vr=t:Vr=Vr.next=t}return Vr}function kf(t,e){return typeof e=="function"?e(t):e}function Kg(t){var e=so(),n=e.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=t;var r=Er,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,u=null,f=s;do{var g=f.lane;if((Cu&g)===g)u!==null&&(u=u.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var v={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};u===null?(l=u=v,a=r):u=u.next=v,$n.lanes|=g,ku|=g}f=f.next}while(f!==null&&f!==s);u===null?a=r:u.next=l,Fo(r,e.memoizedState)||(ts=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$n.lanes|=s,ku|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zg(t){var e=so(),n=e.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Fo(s,e.memoizedState)||(ts=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function dx(){}function px(t,e){var n=$n,r=so(),i=e(),s=!Fo(r.memoizedState,i);if(s&&(r.memoizedState=i,ts=!0),r=r.queue,$1(vx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Vr!==null&&Vr.memoizedState.tag&1){if(n.flags|=2048,Rf(9,gx.bind(null,n,r,i,e),void 0,null),Ur===null)throw Error(Ge(349));Cu&30||mx(n,e,i)}return i}function mx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gx(t,e,n,r){e.value=n,e.getSnapshot=r,_x(e)&&yx(t)}function vx(t,e,n){return n(function(){_x(e)&&yx(t)})}function _x(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fo(t,n)}catch{return!0}}function yx(t){var e=Ha(t,1);e!==null&&Oo(e,t,1,-1)}function w2(t){var e=aa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:t},e.queue=t,t=t.dispatch=JP.bind(null,$n,t),[e.memoizedState,t]}function Rf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$n.updateQueue,e===null?(e={lastEffect:null,stores:null},$n.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function wx(){return so().memoizedState}function cp(t,e,n,r){var i=aa();$n.flags|=t,i.memoizedState=Rf(1|e,n,void 0,r===void 0?null:r)}function Tm(t,e,n,r){var i=so();r=r===void 0?null:r;var s=void 0;if(Er!==null){var a=Er.memoizedState;if(s=a.destroy,r!==null&&q1(r,a.deps)){i.memoizedState=Rf(e,n,s,r);return}}$n.flags|=t,i.memoizedState=Rf(1|e,n,s,r)}function b2(t,e){return cp(8390656,8,t,e)}function $1(t,e){return Tm(2048,8,t,e)}function bx(t,e){return Tm(4,2,t,e)}function xx(t,e){return Tm(4,4,t,e)}function Sx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ex(t,e,n){return n=n!=null?n.concat([t]):null,Tm(4,4,Sx.bind(null,e,t),n)}function G1(){}function Ax(t,e){var n=so();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&q1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Px(t,e){var n=so();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&q1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Tx(t,e,n){return Cu&21?(Fo(n,e)||(n=kb(),$n.lanes|=n,ku|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ts=!0),t.memoizedState=n)}function QP(t,e){var n=wn;wn=n!==0&&4>n?n:4,t(!0);var r=Gg.transition;Gg.transition={};try{t(!1),e()}finally{wn=n,Gg.transition=r}}function Ix(){return so().memoizedState}function XP(t,e,n){var r=Dl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nx(t))Lx(e,n);else if(n=cx(t,e,n,r),n!==null){var i=ji();Oo(n,t,r,i),Cx(n,e,r)}}function JP(t,e,n){var r=Dl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nx(t))Lx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Fo(l,a)){var u=e.interleaved;u===null?(i.next=i,j1(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=cx(t,e,i,r),n!==null&&(i=ji(),Oo(n,t,r,i),Cx(n,e,r))}}function Nx(t){var e=t.alternate;return t===$n||e!==null&&e===$n}function Lx(t,e){sf=$p=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Cx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,E1(t,n)}}var Gp={readContext:io,useCallback:di,useContext:di,useEffect:di,useImperativeHandle:di,useInsertionEffect:di,useLayoutEffect:di,useMemo:di,useReducer:di,useRef:di,useState:di,useDebugValue:di,useDeferredValue:di,useTransition:di,useMutableSource:di,useSyncExternalStore:di,useId:di,unstable_isNewReconciler:!1},eT={readContext:io,useCallback:function(t,e){return aa().memoizedState=[t,e===void 0?null:e],t},useContext:io,useEffect:b2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cp(4194308,4,Sx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cp(4194308,4,t,e)},useInsertionEffect:function(t,e){return cp(4,2,t,e)},useMemo:function(t,e){var n=aa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=aa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XP.bind(null,$n,t),[r.memoizedState,t]},useRef:function(t){var e=aa();return t={current:t},e.memoizedState=t},useState:w2,useDebugValue:G1,useDeferredValue:function(t){return aa().memoizedState=t},useTransition:function(){var t=w2(!1),e=t[0];return t=QP.bind(null,t[1]),aa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$n,i=aa();if(zn){if(n===void 0)throw Error(Ge(407));n=n()}else{if(n=e(),Ur===null)throw Error(Ge(349));Cu&30||mx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,b2(vx.bind(null,r,s,t),[t]),r.flags|=2048,Rf(9,gx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=aa(),e=Ur.identifierPrefix;if(zn){var n=Da,r=Ma;n=(r&~(1<<32-Ro(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tT={readContext:io,useCallback:Ax,useContext:io,useEffect:$1,useImperativeHandle:Ex,useInsertionEffect:bx,useLayoutEffect:xx,useMemo:Px,useReducer:Kg,useRef:wx,useState:function(){return Kg(kf)},useDebugValue:G1,useDeferredValue:function(t){var e=so();return Tx(e,Er.memoizedState,t)},useTransition:function(){var t=Kg(kf)[0],e=so().memoizedState;return[t,e]},useMutableSource:dx,useSyncExternalStore:px,useId:Ix,unstable_isNewReconciler:!1},nT={readContext:io,useCallback:Ax,useContext:io,useEffect:$1,useImperativeHandle:Ex,useInsertionEffect:bx,useLayoutEffect:xx,useMemo:Px,useReducer:Zg,useRef:wx,useState:function(){return Zg(kf)},useDebugValue:G1,useDeferredValue:function(t){var e=so();return Er===null?e.memoizedState=t:Tx(e,Er.memoizedState,t)},useTransition:function(){var t=Zg(kf)[0],e=so().memoizedState;return[t,e]},useMutableSource:dx,useSyncExternalStore:px,useId:Ix,unstable_isNewReconciler:!1};function No(t,e){if(t&&t.defaultProps){e=Gn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function s0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Gn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Im={isMounted:function(t){return(t=t._reactInternals)?Uu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ji(),i=Dl(t),s=Ua(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ol(t,s,i),e!==null&&(Oo(e,t,i,r),lp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ji(),i=Dl(t),s=Ua(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ol(t,s,i),e!==null&&(Oo(e,t,i,r),lp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ji(),r=Dl(t),i=Ua(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ol(t,i,r),e!==null&&(Oo(e,t,r,n),lp(e,t,r))}};function x2(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Af(n,r)||!Af(i,s):!0}function kx(t,e,n){var r=!1,i=$l,s=e.contextType;return typeof s=="object"&&s!==null?s=io(s):(i=rs(e)?Nu:Ai.current,r=e.contextTypes,s=(r=r!=null)?Gc(t,i):$l),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Im,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function S2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Im.enqueueReplaceState(e,e.state,null)}function o0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},B1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=io(s):(s=rs(e)?Nu:Ai.current,i.context=Gc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(s0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Im.enqueueReplaceState(i,i.state,null),Wp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qc(t,e){try{var n="",r=e;do n+=L3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function a0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rT=typeof WeakMap=="function"?WeakMap:Map;function Rx(t,e,n){n=Ua(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zp||(Zp=!0,v0=r),a0(t,e)},n}function Ox(t,e,n){n=Ua(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){a0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){a0(t,e),typeof r!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function E2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=vT.bind(null,t,e,n),e.then(t,t))}function A2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function P2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ua(-1,1),e.tag=2,Ol(n,e,1))),n.lanes|=1),t)}var iT=Xa.ReactCurrentOwner,ts=!1;function Fi(t,e,n,r){e.child=t===null?ux(e,null,n,r):Zc(e,t.child,n,r)}function T2(t,e,n,r,i){n=n.render;var s=e.ref;return Oc(e,i),r=W1(t,e,n,r,s,i),n=H1(),t!==null&&!ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$a(t,e,i)):(zn&&n&&k1(e),e.flags|=1,Fi(t,e,r,i),e.child)}function I2(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!t_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Mx(t,e,s,r,i)):(t=pp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Af,n(a,r)&&t.ref===e.ref)return $a(t,e,i)}return e.flags|=1,t=Fl(s,r),t.ref=e.ref,t.return=e,e.child=t}function Mx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Af(s,r)&&t.ref===e.ref)if(ts=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ts=!0);else return e.lanes=t.lanes,$a(t,e,i)}return l0(t,e,n,r,i)}function Dx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn(Tc,_s),_s|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Cn(Tc,_s),_s|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Cn(Tc,_s),_s|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Cn(Tc,_s),_s|=r;return Fi(t,e,i,n),e.child}function Fx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function l0(t,e,n,r,i){var s=rs(n)?Nu:Ai.current;return s=Gc(e,s),Oc(e,i),n=W1(t,e,n,r,s,i),r=H1(),t!==null&&!ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$a(t,e,i)):(zn&&r&&k1(e),e.flags|=1,Fi(t,e,n,i),e.child)}function N2(t,e,n,r,i){if(rs(n)){var s=!0;Bp(e)}else s=!1;if(Oc(e,i),e.stateNode===null)hp(t,e),kx(e,n,r),o0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,f=n.contextType;typeof f=="object"&&f!==null?f=io(f):(f=rs(n)?Nu:Ai.current,f=Gc(e,f));var g=n.getDerivedStateFromProps,v=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==f)&&S2(e,a,r,f),_l=!1;var b=e.memoizedState;a.state=b,Wp(e,r,a,i),u=e.memoizedState,l!==r||b!==u||ns.current||_l?(typeof g=="function"&&(s0(e,n,g,r),u=e.memoizedState),(l=_l||x2(e,n,l,r,b,u,f))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=f,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,hx(t,e),l=e.memoizedProps,f=e.type===e.elementType?l:No(e.type,l),a.props=f,v=e.pendingProps,b=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=io(u):(u=rs(n)?Nu:Ai.current,u=Gc(e,u));var _=n.getDerivedStateFromProps;(g=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||b!==u)&&S2(e,a,r,u),_l=!1,b=e.memoizedState,a.state=b,Wp(e,r,a,i);var k=e.memoizedState;l!==v||b!==k||ns.current||_l?(typeof _=="function"&&(s0(e,n,_,r),k=e.memoizedState),(f=_l||x2(e,n,f,r,b,k,u)||!1)?(g||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&b===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&b===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),a.props=r,a.state=k,a.context=u,r=f):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&b===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&b===t.memoizedState||(e.flags|=1024),r=!1)}return u0(t,e,n,r,s,i)}function u0(t,e,n,r,i,s){Fx(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&p2(e,n,!1),$a(t,e,s);r=e.stateNode,iT.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Zc(e,t.child,null,s),e.child=Zc(e,null,l,s)):Fi(t,e,l,s),e.memoizedState=r.state,i&&p2(e,n,!0),e.child}function jx(t){var e=t.stateNode;e.pendingContext?d2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d2(t,e.context,!1),V1(t,e.containerInfo)}function L2(t,e,n,r,i){return Kc(),O1(i),e.flags|=256,Fi(t,e,n,r),e.child}var c0={dehydrated:null,treeContext:null,retryLane:0};function h0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bx(t,e,n){var r=e.pendingProps,i=Hn.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Cn(Hn,i&1),t===null)return r0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Cm(a,r,0,null),t=Pu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=h0(n),e.memoizedState=c0,t):K1(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return sT(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Fl(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Fl(l,s):(s=Pu(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?h0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=c0,r}return s=t.child,t=s.sibling,r=Fl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function K1(t,e){return e=Cm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ud(t,e,n,r){return r!==null&&O1(r),Zc(e,t.child,null,n),t=K1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sT(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Yg(Error(Ge(422))),Ud(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cm({mode:"visible",children:r.children},i,0,null),s=Pu(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zc(e,t.child,null,a),e.child.memoizedState=h0(a),e.memoizedState=c0,s);if(!(e.mode&1))return Ud(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(Ge(419)),r=Yg(s,r,void 0),Ud(t,e,a,r)}if(l=(a&t.childLanes)!==0,ts||l){if(r=Ur,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ha(t,i),Oo(r,t,i,-1))}return e_(),r=Yg(Error(Ge(421))),Ud(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_T.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ys=Rl(i.nextSibling),xs=e,zn=!0,ko=null,t!==null&&(eo[to++]=Ma,eo[to++]=Da,eo[to++]=Lu,Ma=t.id,Da=t.overflow,Lu=e),e=K1(e,r.children),e.flags|=4096,e)}function C2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),i0(t.return,e,n)}function Qg(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Vx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Fi(t,e,r.children,n),r=Hn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C2(t,n,e);else if(t.tag===19)C2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Cn(Hn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qg(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qg(e,!0,n,null,s);break;case"together":Qg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $a(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ku|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ge(153));if(e.child!==null){for(t=e.child,n=Fl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oT(t,e,n){switch(e.tag){case 3:jx(e),Kc();break;case 5:fx(e);break;case 1:rs(e.type)&&Bp(e);break;case 4:V1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Cn(Up,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Cn(Hn,Hn.current&1),e.flags|=128,null):n&e.child.childLanes?Bx(t,e,n):(Cn(Hn,Hn.current&1),t=$a(t,e,n),t!==null?t.sibling:null);Cn(Hn,Hn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Cn(Hn,Hn.current),r)break;return null;case 22:case 23:return e.lanes=0,Dx(t,e,n)}return $a(t,e,n)}var zx,f0,Ux,qx;zx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};f0=function(){};Ux=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Su(ha.current);var s=null;switch(n){case"input":i=Ov(t,i),r=Ov(t,r),s=[];break;case"select":i=Gn({},i,{value:void 0}),r=Gn({},r,{value:void 0}),s=[];break;case"textarea":i=Fv(t,i),r=Fv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fp)}Bv(n,r);var a;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(_f.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var u=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&u!==l&&(u!=null||l!=null))if(f==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(f,n)),n=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(_f.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&Mn("scroll",t),s||l===u||(s=[])):(s=s||[]).push(f,u))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};qx=function(t,e,n,r){n!==r&&(e.flags|=4)};function Dh(t,e){if(!zn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aT(t,e,n){var r=e.pendingProps;switch(R1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(e),null;case 1:return rs(e.type)&&jp(),pi(e),null;case 3:return r=e.stateNode,Yc(),jn(ns),jn(Ai),U1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ko!==null&&(w0(ko),ko=null))),f0(t,e),pi(e),null;case 5:z1(e);var i=Su(Lf.current);if(n=e.type,t!==null&&e.stateNode!=null)Ux(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ge(166));return pi(e),null}if(t=Su(ha.current),Vd(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[la]=e,r[If]=s,t=(e.mode&1)!==0,n){case"dialog":Mn("cancel",r),Mn("close",r);break;case"iframe":case"object":case"embed":Mn("load",r);break;case"video":case"audio":for(i=0;i<Hh.length;i++)Mn(Hh[i],r);break;case"source":Mn("error",r);break;case"img":case"image":case"link":Mn("error",r),Mn("load",r);break;case"details":Mn("toggle",r);break;case"input":Vy(r,s),Mn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mn("invalid",r);break;case"textarea":Uy(r,s),Mn("invalid",r)}Bv(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Bd(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Bd(r.textContent,l,t),i=["children",""+l]):_f.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Mn("scroll",r)}switch(n){case"input":Cd(r),zy(r,s,!0);break;case"textarea":Cd(r),qy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[la]=e,t[If]=r,zx(t,e,!1,!1),e.stateNode=t;e:{switch(a=Vv(n,r),n){case"dialog":Mn("cancel",t),Mn("close",t),i=r;break;case"iframe":case"object":case"embed":Mn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Hh.length;i++)Mn(Hh[i],t);i=r;break;case"source":Mn("error",t),i=r;break;case"img":case"image":case"link":Mn("error",t),Mn("load",t),i=r;break;case"details":Mn("toggle",t),i=r;break;case"input":Vy(t,r),i=Ov(t,r),Mn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Gn({},r,{value:void 0}),Mn("invalid",t);break;case"textarea":Uy(t,r),i=Fv(t,r),Mn("invalid",t);break;default:i=r}Bv(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?wb(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_b(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&yf(t,u):typeof u=="number"&&yf(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_f.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Mn("scroll",t):u!=null&&_1(t,s,u,a))}switch(n){case"input":Cd(t),zy(t,r,!1);break;case"textarea":Cd(t),qy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lc(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pi(e),null;case 6:if(t&&e.stateNode!=null)qx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ge(166));if(n=Su(Lf.current),Su(ha.current),Vd(e)){if(r=e.stateNode,n=e.memoizedProps,r[la]=e,(s=r.nodeValue!==n)&&(t=xs,t!==null))switch(t.tag){case 3:Bd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[la]=e,e.stateNode=r}return pi(e),null;case 13:if(jn(Hn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zn&&ys!==null&&e.mode&1&&!(e.flags&128))ax(),Kc(),e.flags|=98560,s=!1;else if(s=Vd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ge(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ge(317));s[la]=e}else Kc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pi(e),s=!1}else ko!==null&&(w0(ko),ko=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Hn.current&1?Ar===0&&(Ar=3):e_())),e.updateQueue!==null&&(e.flags|=4),pi(e),null);case 4:return Yc(),f0(t,e),t===null&&Pf(e.stateNode.containerInfo),pi(e),null;case 10:return F1(e.type._context),pi(e),null;case 17:return rs(e.type)&&jp(),pi(e),null;case 19:if(jn(Hn),s=e.memoizedState,s===null)return pi(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Dh(s,!1);else{if(Ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Hp(t),a!==null){for(e.flags|=128,Dh(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Cn(Hn,Hn.current&1|2),e.child}t=t.sibling}s.tail!==null&&ar()>Xc&&(e.flags|=128,r=!0,Dh(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hp(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!zn)return pi(e),null}else 2*ar()-s.renderingStartTime>Xc&&n!==1073741824&&(e.flags|=128,r=!0,Dh(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ar(),e.sibling=null,n=Hn.current,Cn(Hn,r?n&1|2:n&1),e):(pi(e),null);case 22:case 23:return J1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_s&1073741824&&(pi(e),e.subtreeFlags&6&&(e.flags|=8192)):pi(e),null;case 24:return null;case 25:return null}throw Error(Ge(156,e.tag))}function lT(t,e){switch(R1(e),e.tag){case 1:return rs(e.type)&&jp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yc(),jn(ns),jn(Ai),U1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z1(e),null;case 13:if(jn(Hn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ge(340));Kc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return jn(Hn),null;case 4:return Yc(),null;case 10:return F1(e.type._context),null;case 22:case 23:return J1(),null;case 24:return null;default:return null}}var qd=!1,bi=!1,uT=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Pc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nr(t,e,r)}else n.current=null}function d0(t,e,n){try{n()}catch(r){nr(t,e,r)}}var k2=!1;function cT(t,e){if(Yv=Op,t=Kb(),C1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,f=0,g=0,v=t,b=null;t:for(;;){for(var _;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(u=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(_=v.firstChild)!==null;)b=v,v=_;for(;;){if(v===t)break t;if(b===n&&++f===i&&(l=a),b===s&&++g===r&&(u=a),(_=v.nextSibling)!==null)break;v=b,b=v.parentNode}v=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qv={focusedElem:t,selectionRange:n},Op=!1,ut=e;ut!==null;)if(e=ut,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ut=t;else for(;ut!==null;){e=ut;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var C=k.memoizedProps,M=k.memoizedState,E=e.stateNode,T=E.getSnapshotBeforeUpdate(e.elementType===e.type?C:No(e.type,C),M);E.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(te){nr(e,e.return,te)}if(t=e.sibling,t!==null){t.return=e.return,ut=t;break}ut=e.return}return k=k2,k2=!1,k}function of(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&d0(e,n,s)}i=i.next}while(i!==r)}}function Nm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function p0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Wx(t){var e=t.alternate;e!==null&&(t.alternate=null,Wx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[la],delete e[If],delete e[e0],delete e[$P],delete e[GP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hx(t){return t.tag===5||t.tag===3||t.tag===4}function R2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function m0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fp));else if(r!==4&&(t=t.child,t!==null))for(m0(t,e,n),t=t.sibling;t!==null;)m0(t,e,n),t=t.sibling}function g0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(g0(t,e,n),t=t.sibling;t!==null;)g0(t,e,n),t=t.sibling}var Jr=null,Co=!1;function dl(t,e,n){for(n=n.child;n!==null;)$x(t,e,n),n=n.sibling}function $x(t,e,n){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(bm,n)}catch{}switch(n.tag){case 5:bi||Pc(n,e);case 6:var r=Jr,i=Co;Jr=null,dl(t,e,n),Jr=r,Co=i,Jr!==null&&(Co?(t=Jr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jr.removeChild(n.stateNode));break;case 18:Jr!==null&&(Co?(t=Jr,n=n.stateNode,t.nodeType===8?Wg(t.parentNode,n):t.nodeType===1&&Wg(t,n),Sf(t)):Wg(Jr,n.stateNode));break;case 4:r=Jr,i=Co,Jr=n.stateNode.containerInfo,Co=!0,dl(t,e,n),Jr=r,Co=i;break;case 0:case 11:case 14:case 15:if(!bi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&d0(n,e,a),i=i.next}while(i!==r)}dl(t,e,n);break;case 1:if(!bi&&(Pc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){nr(n,e,l)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:n.mode&1?(bi=(r=bi)||n.memoizedState!==null,dl(t,e,n),bi=r):dl(t,e,n);break;default:dl(t,e,n)}}function O2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uT),e.forEach(function(r){var i=yT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Po(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Jr=l.stateNode,Co=!1;break e;case 3:Jr=l.stateNode.containerInfo,Co=!0;break e;case 4:Jr=l.stateNode.containerInfo,Co=!0;break e}l=l.return}if(Jr===null)throw Error(Ge(160));$x(s,a,i),Jr=null,Co=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(f){nr(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Gx(e,t),e=e.sibling}function Gx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Po(e,t),sa(t),r&4){try{of(3,t,t.return),Nm(3,t)}catch(C){nr(t,t.return,C)}try{of(5,t,t.return)}catch(C){nr(t,t.return,C)}}break;case 1:Po(e,t),sa(t),r&512&&n!==null&&Pc(n,n.return);break;case 5:if(Po(e,t),sa(t),r&512&&n!==null&&Pc(n,n.return),t.flags&32){var i=t.stateNode;try{yf(i,"")}catch(C){nr(t,t.return,C)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&mb(i,s),Vv(l,a);var f=Vv(l,s);for(a=0;a<u.length;a+=2){var g=u[a],v=u[a+1];g==="style"?wb(i,v):g==="dangerouslySetInnerHTML"?_b(i,v):g==="children"?yf(i,v):_1(i,g,v,f)}switch(l){case"input":Mv(i,s);break;case"textarea":gb(i,s);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Lc(i,!!s.multiple,_,!1):b!==!!s.multiple&&(s.defaultValue!=null?Lc(i,!!s.multiple,s.defaultValue,!0):Lc(i,!!s.multiple,s.multiple?[]:"",!1))}i[If]=s}catch(C){nr(t,t.return,C)}}break;case 6:if(Po(e,t),sa(t),r&4){if(t.stateNode===null)throw Error(Ge(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){nr(t,t.return,C)}}break;case 3:if(Po(e,t),sa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sf(e.containerInfo)}catch(C){nr(t,t.return,C)}break;case 4:Po(e,t),sa(t);break;case 13:Po(e,t),sa(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Q1=ar())),r&4&&O2(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(bi=(f=bi)||g,Po(e,t),bi=f):Po(e,t),sa(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!g&&t.mode&1)for(ut=t,g=t.child;g!==null;){for(v=ut=g;ut!==null;){switch(b=ut,_=b.child,b.tag){case 0:case 11:case 14:case 15:of(4,b,b.return);break;case 1:Pc(b,b.return);var k=b.stateNode;if(typeof k.componentWillUnmount=="function"){r=b,n=b.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(C){nr(r,n,C)}}break;case 5:Pc(b,b.return);break;case 22:if(b.memoizedState!==null){D2(v);continue}}_!==null?(_.return=b,ut=_):D2(v)}g=g.sibling}e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{i=v.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,u=v.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=yb("display",a))}catch(C){nr(t,t.return,C)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=f?"":v.memoizedProps}catch(C){nr(t,t.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Po(e,t),sa(t),r&4&&O2(t);break;case 21:break;default:Po(e,t),sa(t)}}function sa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Hx(n)){var r=n;break e}n=n.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yf(i,""),r.flags&=-33);var s=R2(t);g0(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=R2(t);m0(t,l,a);break;default:throw Error(Ge(161))}}catch(u){nr(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hT(t,e,n){ut=t,Kx(t)}function Kx(t,e,n){for(var r=(t.mode&1)!==0;ut!==null;){var i=ut,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||qd;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||bi;l=qd;var f=bi;if(qd=a,(bi=u)&&!f)for(ut=i;ut!==null;)a=ut,u=a.child,a.tag===22&&a.memoizedState!==null?F2(i):u!==null?(u.return=a,ut=u):F2(i);for(;s!==null;)ut=s,Kx(s),s=s.sibling;ut=i,qd=l,bi=f}M2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ut=s):M2(t)}}function M2(t){for(;ut!==null;){var e=ut;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bi||Nm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:No(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&y2(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y2(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&Sf(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}bi||e.flags&512&&p0(e)}catch(b){nr(e,e.return,b)}}if(e===t){ut=null;break}if(n=e.sibling,n!==null){n.return=e.return,ut=n;break}ut=e.return}}function D2(t){for(;ut!==null;){var e=ut;if(e===t){ut=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ut=n;break}ut=e.return}}function F2(t){for(;ut!==null;){var e=ut;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nm(4,e)}catch(u){nr(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){nr(e,i,u)}}var s=e.return;try{p0(e)}catch(u){nr(e,s,u)}break;case 5:var a=e.return;try{p0(e)}catch(u){nr(e,a,u)}}}catch(u){nr(e,e.return,u)}if(e===t){ut=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ut=l;break}ut=e.return}}var fT=Math.ceil,Kp=Xa.ReactCurrentDispatcher,Z1=Xa.ReactCurrentOwner,ro=Xa.ReactCurrentBatchConfig,on=0,Ur=null,gr=null,ni=0,_s=0,Tc=eu(0),Ar=0,Of=null,ku=0,Lm=0,Y1=0,af=null,Ji=null,Q1=0,Xc=1/0,Ra=null,Zp=!1,v0=null,Ml=null,Wd=!1,Pl=null,Yp=0,lf=0,_0=null,fp=-1,dp=0;function ji(){return on&6?ar():fp!==-1?fp:fp=ar()}function Dl(t){return t.mode&1?on&2&&ni!==0?ni&-ni:ZP.transition!==null?(dp===0&&(dp=kb()),dp):(t=wn,t!==0||(t=window.event,t=t===void 0?16:Bb(t.type)),t):1}function Oo(t,e,n,r){if(50<lf)throw lf=0,_0=null,Error(Ge(185));Yf(t,n,r),(!(on&2)||t!==Ur)&&(t===Ur&&(!(on&2)&&(Lm|=n),Ar===4&&wl(t,ni)),is(t,r),n===1&&on===0&&!(e.mode&1)&&(Xc=ar()+500,Pm&&tu()))}function is(t,e){var n=t.callbackNode;Z3(t,e);var r=Rp(t,t===Ur?ni:0);if(r===0)n!==null&&$y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$y(n),e===1)t.tag===0?KP(j2.bind(null,t)):ix(j2.bind(null,t)),WP(function(){!(on&6)&&tu()}),n=null;else{switch(Rb(r)){case 1:n=S1;break;case 4:n=Lb;break;case 16:n=kp;break;case 536870912:n=Cb;break;default:n=kp}n=nS(n,Zx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zx(t,e){if(fp=-1,dp=0,on&6)throw Error(Ge(327));var n=t.callbackNode;if(Mc()&&t.callbackNode!==n)return null;var r=Rp(t,t===Ur?ni:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qp(t,r);else{e=r;var i=on;on|=2;var s=Qx();(Ur!==t||ni!==e)&&(Ra=null,Xc=ar()+500,Au(t,e));do try{mT();break}catch(l){Yx(t,l)}while(!0);D1(),Kp.current=s,on=i,gr!==null?e=0:(Ur=null,ni=0,e=Ar)}if(e!==0){if(e===2&&(i=Hv(t),i!==0&&(r=i,e=y0(t,i))),e===1)throw n=Of,Au(t,0),wl(t,r),is(t,ar()),n;if(e===6)wl(t,r);else{if(i=t.current.alternate,!(r&30)&&!dT(i)&&(e=Qp(t,r),e===2&&(s=Hv(t),s!==0&&(r=s,e=y0(t,s))),e===1))throw n=Of,Au(t,0),wl(t,r),is(t,ar()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ge(345));case 2:vu(t,Ji,Ra);break;case 3:if(wl(t,r),(r&130023424)===r&&(e=Q1+500-ar(),10<e)){if(Rp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ji(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jv(vu.bind(null,t,Ji,Ra),e);break}vu(t,Ji,Ra);break;case 4:if(wl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ro(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fT(r/1960))-r,10<r){t.timeoutHandle=Jv(vu.bind(null,t,Ji,Ra),r);break}vu(t,Ji,Ra);break;case 5:vu(t,Ji,Ra);break;default:throw Error(Ge(329))}}}return is(t,ar()),t.callbackNode===n?Zx.bind(null,t):null}function y0(t,e){var n=af;return t.current.memoizedState.isDehydrated&&(Au(t,e).flags|=256),t=Qp(t,e),t!==2&&(e=Ji,Ji=n,e!==null&&w0(e)),t}function w0(t){Ji===null?Ji=t:Ji.push.apply(Ji,t)}function dT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Fo(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wl(t,e){for(e&=~Y1,e&=~Lm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ro(e),r=1<<n;t[n]=-1,e&=~r}}function j2(t){if(on&6)throw Error(Ge(327));Mc();var e=Rp(t,0);if(!(e&1))return is(t,ar()),null;var n=Qp(t,e);if(t.tag!==0&&n===2){var r=Hv(t);r!==0&&(e=r,n=y0(t,r))}if(n===1)throw n=Of,Au(t,0),wl(t,e),is(t,ar()),n;if(n===6)throw Error(Ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vu(t,Ji,Ra),is(t,ar()),null}function X1(t,e){var n=on;on|=1;try{return t(e)}finally{on=n,on===0&&(Xc=ar()+500,Pm&&tu())}}function Ru(t){Pl!==null&&Pl.tag===0&&!(on&6)&&Mc();var e=on;on|=1;var n=ro.transition,r=wn;try{if(ro.transition=null,wn=1,t)return t()}finally{wn=r,ro.transition=n,on=e,!(on&6)&&tu()}}function J1(){_s=Tc.current,jn(Tc)}function Au(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qP(n)),gr!==null)for(n=gr.return;n!==null;){var r=n;switch(R1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jp();break;case 3:Yc(),jn(ns),jn(Ai),U1();break;case 5:z1(r);break;case 4:Yc();break;case 13:jn(Hn);break;case 19:jn(Hn);break;case 10:F1(r.type._context);break;case 22:case 23:J1()}n=n.return}if(Ur=t,gr=t=Fl(t.current,null),ni=_s=e,Ar=0,Of=null,Y1=Lm=ku=0,Ji=af=null,xu!==null){for(e=0;e<xu.length;e++)if(n=xu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}xu=null}return t}function Yx(t,e){do{var n=gr;try{if(D1(),up.current=Gp,$p){for(var r=$n.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$p=!1}if(Cu=0,Vr=Er=$n=null,sf=!1,Cf=0,Z1.current=null,n===null||n.return===null){Ar=1,Of=e,gr=null;break}e:{var s=t,a=n.return,l=n,u=e;if(e=ni,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u,g=l,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var b=g.alternate;b?(g.updateQueue=b.updateQueue,g.memoizedState=b.memoizedState,g.lanes=b.lanes):(g.updateQueue=null,g.memoizedState=null)}var _=A2(a);if(_!==null){_.flags&=-257,P2(_,a,l,s,e),_.mode&1&&E2(s,f,e),e=_,u=f;var k=e.updateQueue;if(k===null){var C=new Set;C.add(u),e.updateQueue=C}else k.add(u);break e}else{if(!(e&1)){E2(s,f,e),e_();break e}u=Error(Ge(426))}}else if(zn&&l.mode&1){var M=A2(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),P2(M,a,l,s,e),O1(Qc(u,l));break e}}s=u=Qc(u,l),Ar!==4&&(Ar=2),af===null?af=[s]:af.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=Rx(s,u,e);_2(s,E);break e;case 1:l=u;var T=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ml===null||!Ml.has(j)))){s.flags|=65536,e&=-e,s.lanes|=e;var te=Ox(s,l,e);_2(s,te);break e}}s=s.return}while(s!==null)}Jx(n)}catch(he){e=he,gr===n&&n!==null&&(gr=n=n.return);continue}break}while(!0)}function Qx(){var t=Kp.current;return Kp.current=Gp,t===null?Gp:t}function e_(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Ur===null||!(ku&268435455)&&!(Lm&268435455)||wl(Ur,ni)}function Qp(t,e){var n=on;on|=2;var r=Qx();(Ur!==t||ni!==e)&&(Ra=null,Au(t,e));do try{pT();break}catch(i){Yx(t,i)}while(!0);if(D1(),on=n,Kp.current=r,gr!==null)throw Error(Ge(261));return Ur=null,ni=0,Ar}function pT(){for(;gr!==null;)Xx(gr)}function mT(){for(;gr!==null&&!V3();)Xx(gr)}function Xx(t){var e=tS(t.alternate,t,_s);t.memoizedProps=t.pendingProps,e===null?Jx(t):gr=e,Z1.current=null}function Jx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lT(n,e),n!==null){n.flags&=32767,gr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ar=6,gr=null;return}}else if(n=aT(n,e,_s),n!==null){gr=n;return}if(e=e.sibling,e!==null){gr=e;return}gr=e=t}while(e!==null);Ar===0&&(Ar=5)}function vu(t,e,n){var r=wn,i=ro.transition;try{ro.transition=null,wn=1,gT(t,e,n,r)}finally{ro.transition=i,wn=r}return null}function gT(t,e,n,r){do Mc();while(Pl!==null);if(on&6)throw Error(Ge(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ge(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Y3(t,s),t===Ur&&(gr=Ur=null,ni=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wd||(Wd=!0,nS(kp,function(){return Mc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ro.transition,ro.transition=null;var a=wn;wn=1;var l=on;on|=4,Z1.current=null,cT(t,n),Gx(n,t),DP(Qv),Op=!!Yv,Qv=Yv=null,t.current=n,hT(n),z3(),on=l,wn=a,ro.transition=s}else t.current=n;if(Wd&&(Wd=!1,Pl=t,Yp=i),s=t.pendingLanes,s===0&&(Ml=null),W3(n.stateNode),is(t,ar()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zp)throw Zp=!1,t=v0,v0=null,t;return Yp&1&&t.tag!==0&&Mc(),s=t.pendingLanes,s&1?t===_0?lf++:(lf=0,_0=t):lf=0,tu(),null}function Mc(){if(Pl!==null){var t=Rb(Yp),e=ro.transition,n=wn;try{if(ro.transition=null,wn=16>t?16:t,Pl===null)var r=!1;else{if(t=Pl,Pl=null,Yp=0,on&6)throw Error(Ge(331));var i=on;for(on|=4,ut=t.current;ut!==null;){var s=ut,a=s.child;if(ut.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var f=l[u];for(ut=f;ut!==null;){var g=ut;switch(g.tag){case 0:case 11:case 15:of(8,g,s)}var v=g.child;if(v!==null)v.return=g,ut=v;else for(;ut!==null;){g=ut;var b=g.sibling,_=g.return;if(Wx(g),g===f){ut=null;break}if(b!==null){b.return=_,ut=b;break}ut=_}}}var k=s.alternate;if(k!==null){var C=k.child;if(C!==null){k.child=null;do{var M=C.sibling;C.sibling=null,C=M}while(C!==null)}}ut=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ut=a;else e:for(;ut!==null;){if(s=ut,s.flags&2048)switch(s.tag){case 0:case 11:case 15:of(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,ut=E;break e}ut=s.return}}var T=t.current;for(ut=T;ut!==null;){a=ut;var j=a.child;if(a.subtreeFlags&2064&&j!==null)j.return=a,ut=j;else e:for(a=T;ut!==null;){if(l=ut,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nm(9,l)}}catch(he){nr(l,l.return,he)}if(l===a){ut=null;break e}var te=l.sibling;if(te!==null){te.return=l.return,ut=te;break e}ut=l.return}}if(on=i,tu(),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(bm,t)}catch{}r=!0}return r}finally{wn=n,ro.transition=e}}return!1}function B2(t,e,n){e=Qc(n,e),e=Rx(t,e,1),t=Ol(t,e,1),e=ji(),t!==null&&(Yf(t,1,e),is(t,e))}function nr(t,e,n){if(t.tag===3)B2(t,t,n);else for(;e!==null;){if(e.tag===3){B2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ml===null||!Ml.has(r))){t=Qc(n,t),t=Ox(e,t,1),e=Ol(e,t,1),t=ji(),e!==null&&(Yf(e,1,t),is(e,t));break}}e=e.return}}function vT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ji(),t.pingedLanes|=t.suspendedLanes&n,Ur===t&&(ni&n)===n&&(Ar===4||Ar===3&&(ni&130023424)===ni&&500>ar()-Q1?Au(t,0):Y1|=n),is(t,e)}function eS(t,e){e===0&&(t.mode&1?(e=Od,Od<<=1,!(Od&130023424)&&(Od=4194304)):e=1);var n=ji();t=Ha(t,e),t!==null&&(Yf(t,e,n),is(t,n))}function _T(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eS(t,n)}function yT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(e),eS(t,n)}var tS;tS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ns.current)ts=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ts=!1,oT(t,e,n);ts=!!(t.flags&131072)}else ts=!1,zn&&e.flags&1048576&&sx(e,zp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hp(t,e),t=e.pendingProps;var i=Gc(e,Ai.current);Oc(e,n),i=W1(null,e,r,t,i,n);var s=H1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rs(r)?(s=!0,Bp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B1(e),i.updater=Im,e.stateNode=i,i._reactInternals=e,o0(e,r,t,n),e=u0(null,e,r,!0,s,n)):(e.tag=0,zn&&s&&k1(e),Fi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=bT(r),t=No(r,t),i){case 0:e=l0(null,e,r,t,n);break e;case 1:e=N2(null,e,r,t,n);break e;case 11:e=T2(null,e,r,t,n);break e;case 14:e=I2(null,e,r,No(r.type,t),n);break e}throw Error(Ge(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:No(r,i),l0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:No(r,i),N2(t,e,r,i,n);case 3:e:{if(jx(e),t===null)throw Error(Ge(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hx(t,e),Wp(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qc(Error(Ge(423)),e),e=L2(t,e,r,n,i);break e}else if(r!==i){i=Qc(Error(Ge(424)),e),e=L2(t,e,r,n,i);break e}else for(ys=Rl(e.stateNode.containerInfo.firstChild),xs=e,zn=!0,ko=null,n=ux(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Kc(),r===i){e=$a(t,e,n);break e}Fi(t,e,r,n)}e=e.child}return e;case 5:return fx(e),t===null&&r0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Xv(r,i)?a=null:s!==null&&Xv(r,s)&&(e.flags|=32),Fx(t,e),Fi(t,e,a,n),e.child;case 6:return t===null&&r0(e),null;case 13:return Bx(t,e,n);case 4:return V1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zc(e,null,r,n):Fi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:No(r,i),T2(t,e,r,i,n);case 7:return Fi(t,e,e.pendingProps,n),e.child;case 8:return Fi(t,e,e.pendingProps.children,n),e.child;case 12:return Fi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Cn(Up,r._currentValue),r._currentValue=a,s!==null)if(Fo(s.value,a)){if(s.children===i.children&&!ns.current){e=$a(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Ua(-1,n&-n),u.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?u.next=u:(u.next=g.next,g.next=u),f.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),i0(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ge(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),i0(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Fi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oc(e,n),i=io(i),r=r(i),e.flags|=1,Fi(t,e,r,n),e.child;case 14:return r=e.type,i=No(r,e.pendingProps),i=No(r.type,i),I2(t,e,r,i,n);case 15:return Mx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:No(r,i),hp(t,e),e.tag=1,rs(r)?(t=!0,Bp(e)):t=!1,Oc(e,n),kx(e,r,i),o0(e,r,i,n),u0(null,e,r,!0,t,n);case 19:return Vx(t,e,n);case 22:return Dx(t,e,n)}throw Error(Ge(156,e.tag))};function nS(t,e){return Nb(t,e)}function wT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function no(t,e,n,r){return new wT(t,e,n,r)}function t_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bT(t){if(typeof t=="function")return t_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===w1)return 11;if(t===b1)return 14}return 2}function Fl(t,e){var n=t.alternate;return n===null?(n=no(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pp(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")t_(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case vc:return Pu(n.children,i,s,e);case y1:a=8,i|=8;break;case Lv:return t=no(12,n,e,i|2),t.elementType=Lv,t.lanes=s,t;case Cv:return t=no(13,n,e,i),t.elementType=Cv,t.lanes=s,t;case kv:return t=no(19,n,e,i),t.elementType=kv,t.lanes=s,t;case fb:return Cm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cb:a=10;break e;case hb:a=9;break e;case w1:a=11;break e;case b1:a=14;break e;case vl:a=16,r=null;break e}throw Error(Ge(130,t==null?t:typeof t,""))}return e=no(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Pu(t,e,n,r){return t=no(7,t,r,e),t.lanes=n,t}function Cm(t,e,n,r){return t=no(22,t,r,e),t.elementType=fb,t.lanes=n,t.stateNode={isHidden:!1},t}function Xg(t,e,n){return t=no(6,t,null,e),t.lanes=n,t}function Jg(t,e,n){return e=no(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rg(0),this.expirationTimes=Rg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function n_(t,e,n,r,i,s,a,l,u){return t=new xT(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=no(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},B1(s),t}function ST(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rS(t){if(!t)return $l;t=t._reactInternals;e:{if(Uu(t)!==t||t.tag!==1)throw Error(Ge(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ge(171))}if(t.tag===1){var n=t.type;if(rs(n))return rx(t,n,e)}return e}function iS(t,e,n,r,i,s,a,l,u){return t=n_(n,r,!0,t,i,s,a,l,u),t.context=rS(null),n=t.current,r=ji(),i=Dl(n),s=Ua(r,i),s.callback=e??null,Ol(n,s,i),t.current.lanes=i,Yf(t,i,r),is(t,r),t}function km(t,e,n,r){var i=e.current,s=ji(),a=Dl(i);return n=rS(n),e.context===null?e.context=n:e.pendingContext=n,e=Ua(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ol(i,e,a),t!==null&&(Oo(t,i,a,s),lp(t,i,a)),a}function Xp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function r_(t,e){V2(t,e),(t=t.alternate)&&V2(t,e)}function ET(){return null}var sS=typeof reportError=="function"?reportError:function(t){console.error(t)};function i_(t){this._internalRoot=t}Rm.prototype.render=i_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ge(409));km(t,e,null,null)};Rm.prototype.unmount=i_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ru(function(){km(null,t,null,null)}),e[Wa]=null}};function Rm(t){this._internalRoot=t}Rm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Db();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yl.length&&e!==0&&e<yl[n].priority;n++);yl.splice(n,0,t),n===0&&jb(t)}};function s_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function z2(){}function AT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Xp(a);s.call(f)}}var a=iS(e,r,t,0,null,!1,!1,"",z2);return t._reactRootContainer=a,t[Wa]=a.current,Pf(t.nodeType===8?t.parentNode:t),Ru(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=Xp(u);l.call(f)}}var u=n_(t,0,!1,null,null,!1,!1,"",z2);return t._reactRootContainer=u,t[Wa]=u.current,Pf(t.nodeType===8?t.parentNode:t),Ru(function(){km(e,u,n,r)}),u}function Mm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var u=Xp(a);l.call(u)}}km(e,a,t,i)}else a=AT(n,e,t,i,r);return Xp(a)}Ob=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wh(e.pendingLanes);n!==0&&(E1(e,n|1),is(e,ar()),!(on&6)&&(Xc=ar()+500,tu()))}break;case 13:Ru(function(){var r=Ha(t,1);if(r!==null){var i=ji();Oo(r,t,1,i)}}),r_(t,1)}};A1=function(t){if(t.tag===13){var e=Ha(t,134217728);if(e!==null){var n=ji();Oo(e,t,134217728,n)}r_(t,134217728)}};Mb=function(t){if(t.tag===13){var e=Dl(t),n=Ha(t,e);if(n!==null){var r=ji();Oo(n,t,e,r)}r_(t,e)}};Db=function(){return wn};Fb=function(t,e){var n=wn;try{return wn=t,e()}finally{wn=n}};Uv=function(t,e,n){switch(e){case"input":if(Mv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Am(r);if(!i)throw Error(Ge(90));pb(r),Mv(r,i)}}}break;case"textarea":gb(t,n);break;case"select":e=n.value,e!=null&&Lc(t,!!n.multiple,e,!1)}};Sb=X1;Eb=Ru;var PT={usingClientEntryPoint:!1,Events:[Xf,bc,Am,bb,xb,X1]},Fh={findFiberByHostInstance:bu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TT={bundleType:Fh.bundleType,version:Fh.version,rendererPackageName:Fh.rendererPackageName,rendererConfig:Fh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tb(t),t===null?null:t.stateNode},findFiberByHostInstance:Fh.findFiberByHostInstance||ET,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{bm=Hd.inject(TT),ca=Hd}catch{}}Es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PT;Es.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s_(e))throw Error(Ge(200));return ST(t,e,null,n)};Es.createRoot=function(t,e){if(!s_(t))throw Error(Ge(299));var n=!1,r="",i=sS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=n_(t,1,!1,null,null,n,!1,r,i),t[Wa]=e.current,Pf(t.nodeType===8?t.parentNode:t),new i_(e)};Es.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ge(188)):(t=Object.keys(t).join(","),Error(Ge(268,t)));return t=Tb(e),t=t===null?null:t.stateNode,t};Es.flushSync=function(t){return Ru(t)};Es.hydrate=function(t,e,n){if(!Om(e))throw Error(Ge(200));return Mm(null,t,e,!0,n)};Es.hydrateRoot=function(t,e,n){if(!s_(t))throw Error(Ge(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=sS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=iS(e,null,t,1,n??null,i,!1,s,a),t[Wa]=e.current,Pf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rm(e)};Es.render=function(t,e,n){if(!Om(e))throw Error(Ge(200));return Mm(null,t,e,!1,n)};Es.unmountComponentAtNode=function(t){if(!Om(t))throw Error(Ge(40));return t._reactRootContainer?(Ru(function(){Mm(null,null,t,!1,function(){t._reactRootContainer=null,t[Wa]=null})}),!0):!1};Es.unstable_batchedUpdates=X1;Es.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Om(n))throw Error(Ge(200));if(t==null||t._reactInternals===void 0)throw Error(Ge(38));return Mm(t,e,n,!1,r)};Es.version="18.3.1-next-f1338f8080-20240426";function oS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oS)}catch(t){console.error(t)}}oS(),ob.exports=Es;var aS=ob.exports,U2=aS;Iv.createRoot=U2.createRoot,Iv.hydrateRoot=U2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mf.apply(this,arguments)}var Tl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tl||(Tl={}));const q2="popstate";function IT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return b0("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jp(i)}return LT(e,n,null,t)}function hr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NT(){return Math.random().toString(36).substr(2,8)}function W2(t,e){return{usr:t.state,key:t.key,idx:e}}function b0(t,e,n,r){return n===void 0&&(n=null),Mf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fh(e):e,{state:n,key:e&&e.key||r||NT()})}function Jp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Tl.Pop,u=null,f=g();f==null&&(f=0,a.replaceState(Mf({},a.state,{idx:f}),""));function g(){return(a.state||{idx:null}).idx}function v(){l=Tl.Pop;let M=g(),E=M==null?null:M-f;f=M,u&&u({action:l,location:C.location,delta:E})}function b(M,E){l=Tl.Push;let T=b0(C.location,M,E);f=g()+1;let j=W2(T,f),te=C.createHref(T);try{a.pushState(j,"",te)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;i.location.assign(te)}s&&u&&u({action:l,location:C.location,delta:1})}function _(M,E){l=Tl.Replace;let T=b0(C.location,M,E);f=g();let j=W2(T,f),te=C.createHref(T);a.replaceState(j,"",te),s&&u&&u({action:l,location:C.location,delta:0})}function k(M){let E=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof M=="string"?M:Jp(M);return T=T.replace(/ $/,"%20"),hr(E,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,E)}let C={get action(){return l},get location(){return t(i,a)},listen(M){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(q2,v),u=M,()=>{i.removeEventListener(q2,v),u=null}},createHref(M){return e(i,M)},createURL:k,encodeLocation(M){let E=k(M);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:_,go(M){return a.go(M)}};return C}var H2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(H2||(H2={}));function CT(t,e,n){return n===void 0&&(n="/"),kT(t,e,n)}function kT(t,e,n,r){let i=typeof e=="string"?fh(e):e,s=o_(i.pathname||"/",n);if(s==null)return null;let a=uS(t);RT(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let f=HT(s);l=UT(a[u],f)}return l}function uS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(hr(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=jl([r,u.relativePath]),g=n.concat(u);s.children&&s.children.length>0&&(hr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),uS(s.children,e,g,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:VT(f,s.index),routesMeta:g})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let u of cS(s.path))i(s,a,u)}),e}function cS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=cS(r.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function RT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OT=/^:[\w-]+$/,MT=3,DT=2,FT=1,jT=10,BT=-2,$2=t=>t==="*";function VT(t,e){let n=t.split("/"),r=n.length;return n.some($2)&&(r+=BT),e&&(r+=DT),n.filter(i=>!$2(i)).reduce((i,s)=>i+(OT.test(s)?MT:s===""?FT:jT),r)}function zT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function UT(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],f=l===r.length-1,g=s==="/"?e:e.slice(s.length)||"/",v=qT({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},g),b=u.route;if(!v)return null;Object.assign(i,v.params),a.push({params:i,pathname:jl([s,v.pathname]),pathnameBase:ZT(jl([s,v.pathnameBase])),route:b}),v.pathnameBase!=="/"&&(s=jl([s,v.pathnameBase]))}return a}function qT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,g,v)=>{let{paramName:b,isOptional:_}=g;if(b==="*"){let C=l[v]||"";a=s.slice(0,s.length-C.length).replace(/(.)\/+$/,"$1")}const k=l[v];return _&&!k?f[b]=void 0:f[b]=(k||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:a,pattern:t}}function WT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function HT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function o_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $T(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fh(t):t;return{pathname:n?n.startsWith("/")?n:GT(n,e):e,search:YT(r),hash:QT(i)}}function GT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ev(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a_(t,e){let n=KT(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function l_(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=fh(t):(i=Mf({},t),hr(!i.pathname||!i.pathname.includes("?"),ev("?","pathname","search",i)),hr(!i.pathname||!i.pathname.includes("#"),ev("#","pathname","hash",i)),hr(!i.search||!i.search.includes("#"),ev("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let v=e.length-1;if(!r&&a.startsWith("..")){let b=a.split("/");for(;b[0]==="..";)b.shift(),v-=1;i.pathname=b.join("/")}l=v>=0?e[v]:"/"}let u=$T(i,l),f=a&&a!=="/"&&a.endsWith("/"),g=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||g)&&(u.pathname+="/"),u}const jl=t=>t.join("/").replace(/\/\/+/g,"/"),ZT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hS=["post","put","patch","delete"];new Set(hS);const JT=["get",...hS];new Set(JT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Df.apply(this,arguments)}const u_=Ie.createContext(null),eI=Ie.createContext(null),nu=Ie.createContext(null),Dm=Ie.createContext(null),ru=Ie.createContext({outlet:null,matches:[],isDataRoute:!1}),fS=Ie.createContext(null);function tI(t,e){let{relative:n}=e===void 0?{}:e;dh()||hr(!1);let{basename:r,navigator:i}=Ie.useContext(nu),{hash:s,pathname:a,search:l}=pS(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:jl([r,a])),i.createHref({pathname:u,search:l,hash:s})}function dh(){return Ie.useContext(Dm)!=null}function qu(){return dh()||hr(!1),Ie.useContext(Dm).location}function dS(t){Ie.useContext(nu).static||Ie.useLayoutEffect(t)}function c_(){let{isDataRoute:t}=Ie.useContext(ru);return t?pI():nI()}function nI(){dh()||hr(!1);let t=Ie.useContext(u_),{basename:e,future:n,navigator:r}=Ie.useContext(nu),{matches:i}=Ie.useContext(ru),{pathname:s}=qu(),a=JSON.stringify(a_(i,n.v7_relativeSplatPath)),l=Ie.useRef(!1);return dS(()=>{l.current=!0}),Ie.useCallback(function(f,g){if(g===void 0&&(g={}),!l.current)return;if(typeof f=="number"){r.go(f);return}let v=l_(f,JSON.parse(a),s,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:jl([e,v.pathname])),(g.replace?r.replace:r.push)(v,g.state,g)},[e,r,a,s,t])}function pS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=Ie.useContext(nu),{matches:i}=Ie.useContext(ru),{pathname:s}=qu(),a=JSON.stringify(a_(i,r.v7_relativeSplatPath));return Ie.useMemo(()=>l_(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function rI(t,e){return iI(t,e)}function iI(t,e,n,r){dh()||hr(!1);let{navigator:i}=Ie.useContext(nu),{matches:s}=Ie.useContext(ru),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let f=qu(),g;if(e){var v;let M=typeof e=="string"?fh(e):e;u==="/"||(v=M.pathname)!=null&&v.startsWith(u)||hr(!1),g=M}else g=f;let b=g.pathname||"/",_=b;if(u!=="/"){let M=u.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(M.length).join("/")}let k=CT(t,{pathname:_}),C=uI(k&&k.map(M=>Object.assign({},M,{params:Object.assign({},l,M.params),pathname:jl([u,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?u:jl([u,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,n,r);return e&&C?Ie.createElement(Dm.Provider,{value:{location:Df({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Tl.Pop}},C):C}function sI(){let t=dI(),e=XT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Ie.createElement(Ie.Fragment,null,Ie.createElement("h2",null,"Unexpected Application Error!"),Ie.createElement("h3",{style:{fontStyle:"italic"}},e),n?Ie.createElement("pre",{style:i},n):null,null)}const oI=Ie.createElement(sI,null);class aI extends Ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Ie.createElement(ru.Provider,{value:this.props.routeContext},Ie.createElement(fS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lI(t){let{routeContext:e,match:n,children:r}=t,i=Ie.useContext(u_);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Ie.createElement(ru.Provider,{value:e},r)}function uI(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let g=a.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);g>=0||hr(!1),a=a.slice(0,Math.min(a.length,g+1))}let u=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=g),v.route.id){let{loaderData:b,errors:_}=n,k=v.route.loader&&b[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||k){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((g,v,b)=>{let _,k=!1,C=null,M=null;n&&(_=l&&v.route.id?l[v.route.id]:void 0,C=v.route.errorElement||oI,u&&(f<0&&b===0?(mI("route-fallback"),k=!0,M=null):f===b&&(k=!0,M=v.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,b+1)),T=()=>{let j;return _?j=C:k?j=M:v.route.Component?j=Ie.createElement(v.route.Component,null):v.route.element?j=v.route.element:j=g,Ie.createElement(lI,{match:v,routeContext:{outlet:g,matches:E,isDataRoute:n!=null},children:j})};return n&&(v.route.ErrorBoundary||v.route.errorElement||b===0)?Ie.createElement(aI,{location:n.location,revalidation:n.revalidation,component:C,error:_,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):T()},null)}var mS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mS||{}),gS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gS||{});function cI(t){let e=Ie.useContext(u_);return e||hr(!1),e}function hI(t){let e=Ie.useContext(eI);return e||hr(!1),e}function fI(t){let e=Ie.useContext(ru);return e||hr(!1),e}function vS(t){let e=fI(),n=e.matches[e.matches.length-1];return n.route.id||hr(!1),n.route.id}function dI(){var t;let e=Ie.useContext(fS),n=hI(),r=vS();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pI(){let{router:t}=cI(mS.UseNavigateStable),e=vS(gS.UseNavigateStable),n=Ie.useRef(!1);return dS(()=>{n.current=!0}),Ie.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Df({fromRouteId:e},s)))},[t,e])}const G2={};function mI(t,e,n){G2[t]||(G2[t]=!0)}function gI(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function _S(t){let{to:e,replace:n,state:r,relative:i}=t;dh()||hr(!1);let{future:s,static:a}=Ie.useContext(nu),{matches:l}=Ie.useContext(ru),{pathname:u}=qu(),f=c_(),g=l_(e,a_(l,s.v7_relativeSplatPath),u,i==="path"),v=JSON.stringify(g);return Ie.useEffect(()=>f(JSON.parse(v),{replace:n,state:r,relative:i}),[f,v,i,n,r]),null}function $h(t){hr(!1)}function vI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Tl.Pop,navigator:s,static:a=!1,future:l}=t;dh()&&hr(!1);let u=e.replace(/^\/*/,"/"),f=Ie.useMemo(()=>({basename:u,navigator:s,static:a,future:Df({v7_relativeSplatPath:!1},l)}),[u,l,s,a]);typeof r=="string"&&(r=fh(r));let{pathname:g="/",search:v="",hash:b="",state:_=null,key:k="default"}=r,C=Ie.useMemo(()=>{let M=o_(g,u);return M==null?null:{location:{pathname:M,search:v,hash:b,state:_,key:k},navigationType:i}},[u,g,v,b,_,k,i]);return C==null?null:Ie.createElement(nu.Provider,{value:f},Ie.createElement(Dm.Provider,{children:n,value:C}))}function _I(t){let{children:e,location:n}=t;return rI(x0(e),n)}new Promise(()=>{});function x0(t,e){e===void 0&&(e=[]);let n=[];return Ie.Children.forEach(t,(r,i)=>{if(!Ie.isValidElement(r))return;let s=[...e,i];if(r.type===Ie.Fragment){n.push.apply(n,x0(r.props.children,s));return}r.type!==$h&&hr(!1),!r.props.index||!r.props.children||hr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=x0(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S0.apply(this,arguments)}function yI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bI(t,e){return t.button===0&&(!e||e==="_self")&&!wI(t)}const xI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SI="6";try{window.__reactRouterVersion=SI}catch{}const EI="startTransition",K2=v3[EI];function AI(t){let{basename:e,children:n,future:r,window:i}=t,s=Ie.useRef();s.current==null&&(s.current=IT({window:i,v5Compat:!0}));let a=s.current,[l,u]=Ie.useState({action:a.action,location:a.location}),{v7_startTransition:f}=r||{},g=Ie.useCallback(v=>{f&&K2?K2(()=>u(v)):u(v)},[u,f]);return Ie.useLayoutEffect(()=>a.listen(g),[a,g]),Ie.useEffect(()=>gI(r),[r]),Ie.createElement(vI,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const PI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,II=Ie.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:u,to:f,preventScrollReset:g,viewTransition:v}=e,b=yI(e,xI),{basename:_}=Ie.useContext(nu),k,C=!1;if(typeof f=="string"&&TI.test(f)&&(k=f,PI))try{let j=new URL(window.location.href),te=f.startsWith("//")?new URL(j.protocol+f):new URL(f),he=o_(te.pathname,_);te.origin===j.origin&&he!=null?f=he+te.search+te.hash:C=!0}catch{}let M=tI(f,{relative:i}),E=NI(f,{replace:a,state:l,target:u,preventScrollReset:g,relative:i,viewTransition:v});function T(j){r&&r(j),j.defaultPrevented||E(j)}return Ie.createElement("a",S0({},b,{href:k||M,onClick:C||s?r:T,ref:n,target:u}))});var Z2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Z2||(Z2={}));var Y2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Y2||(Y2={}));function NI(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,u=c_(),f=qu(),g=pS(t,{relative:a});return Ie.useCallback(v=>{if(bI(v,n)){v.preventDefault();let b=r!==void 0?r:Jp(f)===Jp(g);u(t,{replace:b,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[f,u,g,r,i,n,t,s,a,l])}function yS(t,e){const n=Ie.useRef(e);Ie.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function LI(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const CI=1;function kI(t){return Object.freeze({__version:CI,map:t})}function h_(t,e){return Object.freeze({...t,...e})}const wS=Ie.createContext(null),bS=wS.Provider;function Fm(){const t=Ie.useContext(wS);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function xS(t){function e(n,r){const{instance:i,context:s}=t(n).current;return Ie.useImperativeHandle(r,()=>i),n.children==null?null:vf.createElement(bS,{value:s},n.children)}return Ie.forwardRef(e)}function RI(t){function e(n,r){const[i,s]=Ie.useState(!1),{instance:a}=t(n,s).current;Ie.useImperativeHandle(r,()=>a),Ie.useEffect(function(){i&&a.update()},[a,i,n.children]);const l=a._contentNode;return l?aS.createPortal(n.children,l):null}return Ie.forwardRef(e)}function OI(t){function e(n,r){const{instance:i}=t(n).current;return Ie.useImperativeHandle(r,()=>i),null}return Ie.forwardRef(e)}function f_(t,e){const n=Ie.useRef();Ie.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function jm(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function MI(t,e){return function(r,i){const s=Fm(),a=t(jm(r,s),s);return yS(s.map,r.attribution),f_(a.current,r.eventHandlers),e(a.current,s,r,i),a}}var E0={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(t3,function(n){var r="1.9.4";function i(o){var c,p,w,P;for(p=1,w=arguments.length;p<w;p++){P=arguments[p];for(c in P)o[c]=P[c]}return o}var s=Object.create||function(){function o(){}return function(c){return o.prototype=c,new o}}();function a(o,c){var p=Array.prototype.slice;if(o.bind)return o.bind.apply(o,p.call(arguments,1));var w=p.call(arguments,2);return function(){return o.apply(c,w.length?w.concat(p.call(arguments)):arguments)}}var l=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++l),o._leaflet_id}function f(o,c,p){var w,P,$,ue;return ue=function(){w=!1,P&&($.apply(p,P),P=!1)},$=function(){w?P=arguments:(o.apply(p,arguments),setTimeout(ue,c),w=!0)},$}function g(o,c,p){var w=c[1],P=c[0],$=w-P;return o===w&&p?o:((o-P)%$+$)%$+P}function v(){return!1}function b(o,c){if(c===!1)return o;var p=Math.pow(10,c===void 0?6:c);return Math.round(o*p)/p}function _(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function k(o){return _(o).split(/\s+/)}function C(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?s(o.options):{});for(var p in c)o.options[p]=c[p];return o.options}function M(o,c,p){var w=[];for(var P in o)w.push(encodeURIComponent(p?P.toUpperCase():P)+"="+encodeURIComponent(o[P]));return(!c||c.indexOf("?")===-1?"?":"&")+w.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function T(o,c){return o.replace(E,function(p,w){var P=c[w];if(P===void 0)throw new Error("No value provided for variable "+p);return typeof P=="function"&&(P=P(c)),P})}var j=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function te(o,c){for(var p=0;p<o.length;p++)if(o[p]===c)return p;return-1}var he="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function we(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var z=0;function R(o){var c=+new Date,p=Math.max(0,16-(c-z));return z=c+p,window.setTimeout(o,p)}var U=window.requestAnimationFrame||we("RequestAnimationFrame")||R,K=window.cancelAnimationFrame||we("CancelAnimationFrame")||we("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function N(o,c,p){if(p&&U===R)o.call(c);else return U.call(window,a(o,c))}function O(o){o&&K.call(window,o)}var D={__proto__:null,extend:i,create:s,bind:a,get lastId(){return l},stamp:u,throttle:f,wrapNum:g,falseFn:v,formatNum:b,trim:_,splitWords:k,setOptions:C,getParamString:M,template:T,isArray:j,indexOf:te,emptyImageUrl:he,requestFn:U,cancelFn:K,requestAnimFrame:N,cancelAnimFrame:O};function oe(){}oe.extend=function(o){var c=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},p=c.__super__=this.prototype,w=s(p);w.constructor=c,c.prototype=w;for(var P in this)Object.prototype.hasOwnProperty.call(this,P)&&P!=="prototype"&&P!=="__super__"&&(c[P]=this[P]);return o.statics&&i(c,o.statics),o.includes&&(pe(o.includes),i.apply(null,[w].concat(o.includes))),i(w,o),delete w.statics,delete w.includes,w.options&&(w.options=p.options?s(p.options):{},i(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){p.callInitHooks&&p.callInitHooks.call(this),this._initHooksCalled=!0;for(var $=0,ue=w._initHooks.length;$<ue;$++)w._initHooks[$].call(this)}},c},oe.include=function(o){var c=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},oe.mergeOptions=function(o){return i(this.prototype.options,o),this},oe.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),p=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(p),this};function pe(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=j(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var de={on:function(o,c,p){if(typeof o=="object")for(var w in o)this._on(w,o[w],c);else{o=k(o);for(var P=0,$=o.length;P<$;P++)this._on(o[P],c,p)}return this},off:function(o,c,p){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],c);else{o=k(o);for(var P=arguments.length===1,$=0,ue=o.length;$<ue;$++)P?this._off(o[$]):this._off(o[$],c,p)}return this},_on:function(o,c,p,w){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,p)===!1){p===this&&(p=void 0);var P={fn:c,ctx:p};w&&(P.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(P)}},_off:function(o,c,p){var w,P,$;if(this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(P=0,$=w.length;P<$;P++)w[P].fn=v;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var ue=this._listens(o,c,p);if(ue!==!1){var Ee=w[ue];this._firingCount&&(Ee.fn=v,this._events[o]=w=w.slice()),w.splice(ue,1)}}},fire:function(o,c,p){if(!this.listens(o,p))return this;var w=i({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var P=this._events[o];if(P){this._firingCount=this._firingCount+1||1;for(var $=0,ue=P.length;$<ue;$++){var Ee=P[$],Ce=Ee.fn;Ee.once&&this.off(o,Ce,Ee.ctx),Ce.call(Ee.ctx||this,w)}this._firingCount--}}return p&&this._propagateEvent(w),this},listens:function(o,c,p,w){typeof o!="string"&&console.warn('"string" type argument expected');var P=c;typeof c!="function"&&(w=!!c,P=void 0,p=void 0);var $=this._events&&this._events[o];if($&&$.length&&this._listens(o,P,p)!==!1)return!0;if(w){for(var ue in this._eventParents)if(this._eventParents[ue].listens(o,c,p,w))return!0}return!1},_listens:function(o,c,p){if(!this._events)return!1;var w=this._events[o]||[];if(!c)return!!w.length;p===this&&(p=void 0);for(var P=0,$=w.length;P<$;P++)if(w[P].fn===c&&w[P].ctx===p)return P;return!1},once:function(o,c,p){if(typeof o=="object")for(var w in o)this._on(w,o[w],c,!0);else{o=k(o);for(var P=0,$=o.length;P<$;P++)this._on(o[P],c,p,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};de.addEventListener=de.on,de.removeEventListener=de.clearAllEventListeners=de.off,de.addOneTimeEventListener=de.once,de.fireEvent=de.fire,de.hasEventListeners=de.listens;var re=oe.extend(de);function Y(o,c,p){this.x=p?Math.round(o):o,this.y=p?Math.round(c):c}var ce=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(o){return this.clone()._add(ae(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(ae(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Y(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Y(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(o){o=ae(o);var c=o.x-this.x,p=o.y-this.y;return Math.sqrt(c*c+p*p)},equals:function(o){return o=ae(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=ae(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function ae(o,c,p){return o instanceof Y?o:j(o)?new Y(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new Y(o.x,o.y):new Y(o,c,p)}function Ne(o,c){if(o)for(var p=c?[o,c]:o,w=0,P=p.length;w<P;w++)this.extend(p[w])}Ne.prototype={extend:function(o){var c,p;if(!o)return this;if(o instanceof Y||typeof o[0]=="number"||"x"in o)c=p=ae(o);else if(o=F(o),c=o.min,p=o.max,!c||!p)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=p.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(p.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(p.y,this.max.y)),this},getCenter:function(o){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,p;return typeof o[0]=="number"||o instanceof Y?o=ae(o):o=F(o),o instanceof Ne?(c=o.min,p=o.max):c=p=o,c.x>=this.min.x&&p.x<=this.max.x&&c.y>=this.min.y&&p.y<=this.max.y},intersects:function(o){o=F(o);var c=this.min,p=this.max,w=o.min,P=o.max,$=P.x>=c.x&&w.x<=p.x,ue=P.y>=c.y&&w.y<=p.y;return $&&ue},overlaps:function(o){o=F(o);var c=this.min,p=this.max,w=o.min,P=o.max,$=P.x>c.x&&w.x<p.x,ue=P.y>c.y&&w.y<p.y;return $&&ue},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,p=this.max,w=Math.abs(c.x-p.x)*o,P=Math.abs(c.y-p.y)*o;return F(ae(c.x-w,c.y-P),ae(p.x+w,p.y+P))},equals:function(o){return o?(o=F(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function F(o,c){return!o||o instanceof Ne?o:new Ne(o,c)}function X(o,c){if(o)for(var p=c?[o,c]:o,w=0,P=p.length;w<P;w++)this.extend(p[w])}X.prototype={extend:function(o){var c=this._southWest,p=this._northEast,w,P;if(o instanceof ie)w=o,P=o;else if(o instanceof X){if(w=o._southWest,P=o._northEast,!w||!P)return this}else return o?this.extend(le(o)||J(o)):this;return!c&&!p?(this._southWest=new ie(w.lat,w.lng),this._northEast=new ie(P.lat,P.lng)):(c.lat=Math.min(w.lat,c.lat),c.lng=Math.min(w.lng,c.lng),p.lat=Math.max(P.lat,p.lat),p.lng=Math.max(P.lng,p.lng)),this},pad:function(o){var c=this._southWest,p=this._northEast,w=Math.abs(c.lat-p.lat)*o,P=Math.abs(c.lng-p.lng)*o;return new X(new ie(c.lat-w,c.lng-P),new ie(p.lat+w,p.lng+P))},getCenter:function(){return new ie((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ie(this.getNorth(),this.getWest())},getSouthEast:function(){return new ie(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ie||"lat"in o?o=le(o):o=J(o);var c=this._southWest,p=this._northEast,w,P;return o instanceof X?(w=o.getSouthWest(),P=o.getNorthEast()):w=P=o,w.lat>=c.lat&&P.lat<=p.lat&&w.lng>=c.lng&&P.lng<=p.lng},intersects:function(o){o=J(o);var c=this._southWest,p=this._northEast,w=o.getSouthWest(),P=o.getNorthEast(),$=P.lat>=c.lat&&w.lat<=p.lat,ue=P.lng>=c.lng&&w.lng<=p.lng;return $&&ue},overlaps:function(o){o=J(o);var c=this._southWest,p=this._northEast,w=o.getSouthWest(),P=o.getNorthEast(),$=P.lat>c.lat&&w.lat<p.lat,ue=P.lng>c.lng&&w.lng<p.lng;return $&&ue},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=J(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(o,c){return o instanceof X?o:new X(o,c)}function ie(o,c,p){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,p!==void 0&&(this.alt=+p)}ie.prototype={equals:function(o,c){if(!o)return!1;o=le(o);var p=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return p<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+b(this.lat,o)+", "+b(this.lng,o)+")"},distanceTo:function(o){return Se.distance(this,le(o))},wrap:function(){return Se.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,p=c/Math.cos(Math.PI/180*this.lat);return J([this.lat-c,this.lng-p],[this.lat+c,this.lng+p])},clone:function(){return new ie(this.lat,this.lng,this.alt)}};function le(o,c,p){return o instanceof ie?o:j(o)&&typeof o[0]!="object"?o.length===3?new ie(o[0],o[1],o[2]):o.length===2?new ie(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ie(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new ie(o,c,p)}var xe={latLngToPoint:function(o,c){var p=this.projection.project(o),w=this.scale(c);return this.transformation._transform(p,w)},pointToLatLng:function(o,c){var p=this.scale(c),w=this.transformation.untransform(o,p);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,p=this.scale(o),w=this.transformation.transform(c.min,p),P=this.transformation.transform(c.max,p);return new Ne(w,P)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?g(o.lng,this.wrapLng,!0):o.lng,p=this.wrapLat?g(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new ie(p,c,w)},wrapLatLngBounds:function(o){var c=o.getCenter(),p=this.wrapLatLng(c),w=c.lat-p.lat,P=c.lng-p.lng;if(w===0&&P===0)return o;var $=o.getSouthWest(),ue=o.getNorthEast(),Ee=new ie($.lat-w,$.lng-P),Ce=new ie(ue.lat-w,ue.lng-P);return new X(Ee,Ce)}},Se=i({},xe,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var p=Math.PI/180,w=o.lat*p,P=c.lat*p,$=Math.sin((c.lat-o.lat)*p/2),ue=Math.sin((c.lng-o.lng)*p/2),Ee=$*$+Math.cos(w)*Math.cos(P)*ue*ue,Ce=2*Math.atan2(Math.sqrt(Ee),Math.sqrt(1-Ee));return this.R*Ce}}),Le=6378137,$e={R:Le,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,p=this.MAX_LATITUDE,w=Math.max(Math.min(p,o.lat),-p),P=Math.sin(w*c);return new Y(this.R*o.lng*c,this.R*Math.log((1+P)/(1-P))/2)},unproject:function(o){var c=180/Math.PI;return new ie((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:function(){var o=Le*Math.PI;return new Ne([-o,-o],[o,o])}()};function qe(o,c,p,w){if(j(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=p,this._d=w}qe.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new Y((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function Ze(o,c,p,w){return new qe(o,c,p,w)}var Ye=i({},Se,{code:"EPSG:3857",projection:$e,transformation:function(){var o=.5/(Math.PI*$e.R);return Ze(o,.5,-o,.5)}()}),pt=i({},Ye,{code:"EPSG:900913"});function Oe(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function se(o,c){var p="",w,P,$,ue,Ee,Ce;for(w=0,$=o.length;w<$;w++){for(Ee=o[w],P=0,ue=Ee.length;P<ue;P++)Ce=Ee[P],p+=(P?"L":"M")+Ce.x+" "+Ce.y;p+=c?et.svg?"z":"x":""}return p||"M0 0"}var Pt=document.documentElement.style,lt="ActiveXObject"in window,He=lt&&!document.addEventListener,Ke="msLaunchUri"in navigator&&!("documentMode"in document),Je=an("webkit"),Xe=an("android"),ht=an("android 2")||an("android 3"),St=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ct=Xe&&an("Google")&&St<537&&!("AudioNode"in window),dt=!!window.opera,yt=!Ke&&an("chrome"),Kt=an("gecko")&&!Je&&!dt&&!lt,wt=!yt&&an("safari"),jt=an("phantom"),nt="OTransition"in Pt,Bn=navigator.platform.indexOf("Win")===0,$t=lt&&"transition"in Pt,Ir="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ht,tn="MozPerspective"in Pt,xn=!window.L_DISABLE_3D&&($t||Ir||tn)&&!nt&&!jt,Nr=typeof orientation<"u"||an("mobile"),Zt=Nr&&Je,Ps=Nr&&Ir,Sn=!window.PointerEvent&&window.MSPointerEvent,fr=!!(window.PointerEvent||Sn),oi="ontouchstart"in window||!!window.TouchEvent,En=!window.L_NO_TOUCH&&(oi||fr),gt=Nr&&dt,Jt=Nr&&Kt,zi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zn=function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",v,c),window.removeEventListener("testPassiveEventSupport",v,c)}catch{}return o}(),Lr=function(){return!!document.createElement("canvas").getContext}(),qr=!!(document.createElementNS&&Oe("svg").createSVGRect),ot=!!qr&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ai=!qr&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Cr=navigator.platform.indexOf("Mac")===0,Yn=navigator.platform.indexOf("Linux")===0;function an(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var et={ie:lt,ielt9:He,edge:Ke,webkit:Je,android:Xe,android23:ht,androidStock:Ct,opera:dt,chrome:yt,gecko:Kt,safari:wt,phantom:jt,opera12:nt,win:Bn,ie3d:$t,webkit3d:Ir,gecko3d:tn,any3d:xn,mobile:Nr,mobileWebkit:Zt,mobileWebkit3d:Ps,msPointer:Sn,pointer:fr,touch:En,touchNative:oi,mobileOpera:gt,mobileGecko:Jt,retina:zi,passiveEvents:Zn,canvas:Lr,svg:qr,vml:ai,inlineSvg:ot,mac:Cr,linux:Yn},Un=et.msPointer?"MSPointerDown":"pointerdown",ao=et.msPointer?"MSPointerMove":"pointermove",Ui=et.msPointer?"MSPointerUp":"pointerup",_r=et.msPointer?"MSPointerCancel":"pointercancel",kr={touchstart:Un,touchmove:ao,touchend:Ui,touchcancel:_r},Rr={touchstart:Uo,touchmove:uo,touchend:uo,touchcancel:uo},Qn={},Vn=!1;function Ti(o,c,p){return c==="touchstart"&&lo(),Rr[c]?(p=Rr[c].bind(this,p),o.addEventListener(kr[c],p,!1),p):(console.warn("wrong event specified:",c),v)}function Ts(o,c,p){if(!kr[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(kr[c],p,!1)}function Is(o){Qn[o.pointerId]=o}function Ns(o){Qn[o.pointerId]&&(Qn[o.pointerId]=o)}function Ls(o){delete Qn[o.pointerId]}function lo(){Vn||(document.addEventListener(Un,Is,!0),document.addEventListener(ao,Ns,!0),document.addEventListener(Ui,Ls,!0),document.addEventListener(_r,Ls,!0),Vn=!0)}function uo(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var p in Qn)c.touches.push(Qn[p]);c.changedTouches=[c],o(c)}}function Uo(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&fn(c),uo(o,c)}function el(o){var c={},p,w;for(w in o)p=o[w],c[w]=p&&p.bind?p.bind(o):p;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Cs=200;function ks(o,c){o.addEventListener("dblclick",c);var p=0,w;function P($){if($.detail!==1){w=$.detail;return}if(!($.pointerType==="mouse"||$.sourceCapabilities&&!$.sourceCapabilities.firesTouchEvents)){var ue=Hi($);if(!(ue.some(function(Ce){return Ce instanceof HTMLLabelElement&&Ce.attributes.for})&&!ue.some(function(Ce){return Ce instanceof HTMLInputElement||Ce instanceof HTMLSelectElement}))){var Ee=Date.now();Ee-p<=Cs?(w++,w===2&&c(el($))):w=1,p=Ee}}}return o.addEventListener("click",P),{dblclick:c,simDblclick:P}}function os(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var as=us(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),co=us(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qo=co==="webkitTransition"||co==="OTransition"?co+"End":"transitionend";function ya(o){return typeof o=="string"?document.getElementById(o):o}function Ii(o,c){var p=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!p||p==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);p=w?w[c]:null}return p==="auto"?null:p}function Ut(o,c,p){var w=document.createElement(o);return w.className=c||"",p&&p.appendChild(w),w}function Tt(o){var c=o.parentNode;c&&c.removeChild(o)}function Rs(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function qi(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function ls(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function ho(o,c){if(o.classList!==void 0)return o.classList.contains(c);var p=Tn(o);return p.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(p)}function Lt(o,c){if(o.classList!==void 0)for(var p=k(c),w=0,P=p.length;w<P;w++)o.classList.add(p[w]);else if(!ho(o,c)){var $=Tn(o);Os(o,($?$+" ":"")+c)}}function Yt(o,c){o.classList!==void 0?o.classList.remove(c):Os(o,_((" "+Tn(o)+" ").replace(" "+c+" "," ")))}function Os(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function Tn(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function An(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&fo(o,c)}function fo(o,c){var p=!1,w="DXImageTransform.Microsoft.Alpha";try{p=o.filters.item(w)}catch{if(c===1)return}c=Math.round(c*100),p?(p.Enabled=c!==100,p.Opacity=c):o.style.filter+=" progid:"+w+"(opacity="+c+")"}function us(o){for(var c=document.documentElement.style,p=0;p<o.length;p++)if(o[p]in c)return o[p];return!1}function Ni(o,c,p){var w=c||new Y(0,0);o.style[as]=(et.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(p?" scale("+p+")":"")}function Et(o,c){o._leaflet_pos=c,et.any3d?Ni(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function Wr(o){return o._leaflet_pos||new Y(0,0)}var Li,Hr,wa;if("onselectstart"in document)Li=function(){_t(window,"selectstart",fn)},Hr=function(){Wt(window,"selectstart",fn)};else{var Ms=us(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Li=function(){if(Ms){var o=document.documentElement.style;wa=o[Ms],o[Ms]="none"}},Hr=function(){Ms&&(document.documentElement.style[Ms]=wa,wa=void 0)}}function ba(){_t(window,"dragstart",fn)}function Ci(){Wt(window,"dragstart",fn)}var cs,Ds;function Wi(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(hn(),cs=o,Ds=o.style.outlineStyle,o.style.outlineStyle="none",_t(window,"keydown",hn))}function hn(){cs&&(cs.style.outlineStyle=Ds,cs=void 0,Ds=void 0,Wt(window,"keydown",hn))}function xa(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function po(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var At={__proto__:null,TRANSFORM:as,TRANSITION:co,TRANSITION_END:qo,get:ya,getStyle:Ii,create:Ut,remove:Tt,empty:Rs,toFront:qi,toBack:ls,hasClass:ho,addClass:Lt,removeClass:Yt,setClass:Os,getClass:Tn,setOpacity:An,testProp:us,setTransform:Ni,setPosition:Et,getPosition:Wr,get disableTextSelection(){return Li},get enableTextSelection(){return Hr},disableImageDrag:ba,enableImageDrag:Ci,preventOutline:Wi,restoreOutline:hn,getSizedParentNode:xa,getScale:po};function _t(o,c,p,w){if(c&&typeof c=="object")for(var P in c)Fs(o,P,c[P],p);else{c=k(c);for(var $=0,ue=c.length;$<ue;$++)Fs(o,c[$],p,w)}return this}var li="_leaflet_events";function Wt(o,c,p,w){if(arguments.length===1)Sa(o),delete o[li];else if(c&&typeof c=="object")for(var P in c)mo(o,P,c[P],p);else if(c=k(c),arguments.length===2)Sa(o,function(Ee){return te(c,Ee)!==-1});else for(var $=0,ue=c.length;$<ue;$++)mo(o,c[$],p,w);return this}function Sa(o,c){for(var p in o[li]){var w=p.split(/\d/)[0];(!c||c(w))&&mo(o,w,null,null,p)}}var $r={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fs(o,c,p,w){var P=c+u(p)+(w?"_"+u(w):"");if(o[li]&&o[li][P])return this;var $=function(Ee){return p.call(w||o,Ee||window.event)},ue=$;!et.touchNative&&et.pointer&&c.indexOf("touch")===0?$=Ti(o,c,$):et.touch&&c==="dblclick"?$=ks(o,$):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener($r[c]||c,$,et.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?($=function(Ee){Ee=Ee||window.event,Vs(o,Ee)&&ue(Ee)},o.addEventListener($r[c],$,!1)):o.addEventListener(c,ue,!1):o.attachEvent("on"+c,$),o[li]=o[li]||{},o[li][P]=$}function mo(o,c,p,w,P){P=P||c+u(p)+(w?"_"+u(w):"");var $=o[li]&&o[li][P];if(!$)return this;!et.touchNative&&et.pointer&&c.indexOf("touch")===0?Ts(o,c,$):et.touch&&c==="dblclick"?os(o,$):"removeEventListener"in o?o.removeEventListener($r[c]||c,$,!1):o.detachEvent("on"+c,$),o[li][P]=null}function ui(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function js(o){return Fs(o,"wheel",ui),this}function Bs(o){return _t(o,"mousedown touchstart dblclick contextmenu",ui),o._leaflet_disable_click=!0,this}function fn(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function rr(o){return fn(o),ui(o),this}function Hi(o){if(o.composedPath)return o.composedPath();for(var c=[],p=o.target;p;)c.push(p),p=p.parentNode;return c}function Wo(o,c){if(!c)return new Y(o.clientX,o.clientY);var p=po(c),w=p.boundingClientRect;return new Y((o.clientX-w.left)/p.x-c.clientLeft,(o.clientY-w.top)/p.y-c.clientTop)}var ln=et.linux&&et.chrome?window.devicePixelRatio:et.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ho(o){return et.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/ln:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Vs(o,c){var p=c.relatedTarget;if(!p)return!0;try{for(;p&&p!==o;)p=p.parentNode}catch{return!1}return p!==o}var Ea={__proto__:null,on:_t,off:Wt,stopPropagation:ui,disableScrollPropagation:js,disableClickPropagation:Bs,preventDefault:fn,stop:rr,getPropagationPath:Hi,getMousePosition:Wo,getWheelDelta:Ho,isExternalTarget:Vs,addListener:_t,removeListener:Wt},$o=re.extend({run:function(o,c,p,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=p||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Wr(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=N(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,p=this._duration*1e3;c<p?this._runFrame(this._easeOut(c/p),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var p=this._startPos.add(this._offset.multiplyBy(o));c&&p._round(),Et(this._el,p),this.fire("step")},_complete:function(){O(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Bt=re.extend({options:{crs:Ye,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=C(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(le(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=co&&et.any3d&&!et.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_t(this._proxy,qo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,p){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(le(o),c,this.options.maxBounds),p=p||{},this._stop(),this._loaded&&!p.reset&&p!==!0){p.animate!==void 0&&(p.zoom=i({animate:p.animate},p.zoom),p.pan=i({animate:p.animate,duration:p.duration},p.pan));var w=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,p.zoom):this._tryAnimatedPan(o,p.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,p.pan&&p.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,p){var w=this.getZoomScale(c),P=this.getSize().divideBy(2),$=o instanceof Y?o:this.latLngToContainerPoint(o),ue=$.subtract(P).multiplyBy(1-1/w),Ee=this.containerPointToLatLng(P.add(ue));return this.setView(Ee,c,{zoom:p})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():J(o);var p=ae(c.paddingTopLeft||c.padding||[0,0]),w=ae(c.paddingBottomRight||c.padding||[0,0]),P=this.getBoundsZoom(o,!1,p.add(w));if(P=typeof c.maxZoom=="number"?Math.min(c.maxZoom,P):P,P===1/0)return{center:o.getCenter(),zoom:P};var $=w.subtract(p).divideBy(2),ue=this.project(o.getSouthWest(),P),Ee=this.project(o.getNorthEast(),P),Ce=this.unproject(ue.add(Ee).divideBy(2).add($),P);return{center:Ce,zoom:P}},fitBounds:function(o,c){if(o=J(o),!o.isValid())throw new Error("Bounds are not valid.");var p=this._getBoundsCenterZoom(o,c);return this.setView(p.center,p.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=ae(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $o,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Lt(this._mapPane,"leaflet-pan-anim");var p=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,p,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,p){if(p=p||{},p.animate===!1||!et.any3d)return this.setView(o,c,p);this._stop();var w=this.project(this.getCenter()),P=this.project(o),$=this.getSize(),ue=this._zoom;o=le(o),c=c===void 0?ue:c;var Ee=Math.max($.x,$.y),Ce=Ee*this.getZoomScale(ue,c),Be=P.distanceTo(w)||1,it=1.42,mt=it*it;function qt(gn){var Qr=gn?-1:1,gg=gn?Ce:Ee,vg=Ce*Ce-Ee*Ee+Qr*mt*mt*Be*Be,pd=2*gg*mt*Be,rc=vg/pd,Eh=Math.sqrt(rc*rc+1)-rc,md=Eh<1e-9?-18:Math.log(Eh);return md}function Yr(gn){return(Math.exp(gn)-Math.exp(-gn))/2}function sr(gn){return(Math.exp(gn)+Math.exp(-gn))/2}function Yi(gn){return Yr(gn)/sr(gn)}var fi=qt(0);function al(gn){return Ee*(sr(fi)/sr(fi+it*gn))}function pg(gn){return Ee*(sr(fi)*Yi(fi+it*gn)-Yr(fi))/mt}function ra(gn){return 1-Math.pow(1-gn,1.5)}var ms=Date.now(),Xs=(qt(1)-fi)/it,mg=p.duration?1e3*p.duration:1e3*Xs*.8;function Sh(){var gn=(Date.now()-ms)/mg,Qr=ra(gn)*Xs;gn<=1?(this._flyToFrame=N(Sh,this),this._move(this.unproject(w.add(P.subtract(w).multiplyBy(pg(Qr)/Be)),ue),this.getScaleZoom(Ee/al(Qr),ue),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,p.noMoveStart),Sh.call(this),this},flyToBounds:function(o,c){var p=this._getBoundsCenterZoom(o,c);return this.flyTo(p.center,p.zoom,c)},setMaxBounds:function(o){return o=J(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var p=this.getCenter(),w=this._limitCenter(p,this._zoom,J(o));return p.equals(w)||this.panTo(w,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var p=ae(c.paddingTopLeft||c.padding||[0,0]),w=ae(c.paddingBottomRight||c.padding||[0,0]),P=this.project(this.getCenter()),$=this.project(o),ue=this.getPixelBounds(),Ee=F([ue.min.add(p),ue.max.subtract(w)]),Ce=Ee.getSize();if(!Ee.contains($)){this._enforcingBounds=!0;var Be=$.subtract(Ee.getCenter()),it=Ee.extend($).getSize().subtract(Ce);P.x+=Be.x<0?-it.x:it.x,P.y+=Be.y<0?-it.y:it.y,this.panTo(this.unproject(P),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var p=this.getSize(),w=c.divideBy(2).round(),P=p.divideBy(2).round(),$=w.subtract(P);return!$.x&&!$.y?this:(o.animate&&o.pan?this.panBy($):(o.pan&&this._rawPanBy($),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:p}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=a(this._handleGeolocationResponse,this),p=a(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,p,o):navigator.geolocation.getCurrentPosition(c,p,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,p=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+p+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,p=o.coords.longitude,w=new ie(c,p),P=w.toBounds(o.coords.accuracy*2),$=this._locateOptions;if($.setView){var ue=this.getBoundsZoom(P);this.setView(w,$.maxZoom?Math.min(ue,$.maxZoom):ue)}var Ee={latlng:w,bounds:P,timestamp:o.timestamp};for(var Ce in o.coords)typeof o.coords[Ce]=="number"&&(Ee[Ce]=o.coords[Ce]);this.fire("locationfound",Ee)}},addHandler:function(o,c){if(!c)return this;var p=this[o]=new c(this);return this._handlers.push(p),this.options[o]&&p.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(O(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)Tt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var p="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=Ut("div",p,c||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),p=this.unproject(o.getTopRight());return new X(c,p)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,p){o=J(o),p=ae(p||[0,0]);var w=this.getZoom()||0,P=this.getMinZoom(),$=this.getMaxZoom(),ue=o.getNorthWest(),Ee=o.getSouthEast(),Ce=this.getSize().subtract(p),Be=F(this.project(Ee,w),this.project(ue,w)).getSize(),it=et.any3d?this.options.zoomSnap:1,mt=Ce.x/Be.x,qt=Ce.y/Be.y,Yr=c?Math.max(mt,qt):Math.min(mt,qt);return w=this.getScaleZoom(Yr,w),it&&(w=Math.round(w/(it/100))*(it/100),w=c?Math.ceil(w/it)*it:Math.floor(w/it)*it),Math.max(P,Math.min($,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var p=this._getTopLeftPoint(o,c);return new Ne(p,p.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var p=this.options.crs;return c=c===void 0?this._zoom:c,p.scale(o)/p.scale(c)},getScaleZoom:function(o,c){var p=this.options.crs;c=c===void 0?this._zoom:c;var w=p.zoom(o*p.scale(c));return isNaN(w)?1/0:w},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(le(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(ae(o),c)},layerPointToLatLng:function(o){var c=ae(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(le(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(le(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(J(o))},distance:function(o,c){return this.options.crs.distance(le(o),le(c))},containerPointToLayerPoint:function(o){return ae(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return ae(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(ae(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(le(o)))},mouseEventToContainerPoint:function(o){return Wo(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=ya(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_t(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&et.any3d,Lt(o,"leaflet-container"+(et.touch?" leaflet-touch":"")+(et.retina?" leaflet-retina":"")+(et.ielt9?" leaflet-oldie":"")+(et.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Ii(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Lt(o.markerPane,"leaflet-zoom-hide"),Lt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,p){Et(this._mapPane,new Y(0,0));var w=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var P=this._zoom!==c;this._moveStart(P,p)._move(o,c)._moveEnd(P),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,p,w){c===void 0&&(c=this._zoom);var P=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?p&&p.pinch&&this.fire("zoom",p):((P||p&&p.pinch)&&this.fire("zoom",p),this.fire("move",p)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return O(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Et(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var c=o?Wt:_t;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),et.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){O(this._resizeRequest),this._resizeRequest=N(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var p=[],w,P=c==="mouseout"||c==="mouseover",$=o.target||o.srcElement,ue=!1;$;){if(w=this._targets[u($)],w&&(c==="click"||c==="preclick")&&this._draggableMoved(w)){ue=!0;break}if(w&&w.listens(c,!0)&&(P&&!Vs($,o)||(p.push(w),P))||$===this._container)break;$=$.parentNode}return!p.length&&!ue&&!P&&this.listens(c,!0)&&(p=[this]),p},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var p=o.type;p==="mousedown"&&Wi(c),this._fireDOMEvent(o,p)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,p){if(o.type==="click"){var w=i({},o);w.type="preclick",this._fireDOMEvent(w,w.type,p)}var P=this._findEventTargets(o,c);if(p){for(var $=[],ue=0;ue<p.length;ue++)p[ue].listens(c,!0)&&$.push(p[ue]);P=$.concat(P)}if(P.length){c==="contextmenu"&&fn(o);var Ee=P[0],Ce={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Be=Ee.getLatLng&&(!Ee._radius||Ee._radius<=10);Ce.containerPoint=Be?this.latLngToContainerPoint(Ee.getLatLng()):this.mouseEventToContainerPoint(o),Ce.layerPoint=this.containerPointToLayerPoint(Ce.containerPoint),Ce.latlng=Be?Ee.getLatLng():this.layerPointToLatLng(Ce.layerPoint)}for(ue=0;ue<P.length;ue++)if(P[ue].fire(c,Ce,!0),Ce.originalEvent._stopped||P[ue].options.bubblingMouseEvents===!1&&te(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return Wr(this._mapPane)||new Y(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var p=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return p.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var p=this.getSize()._divideBy(2);return this.project(o,c)._subtract(p)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,p){var w=this._getNewPixelOrigin(p,c);return this.project(o,c)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,c,p){var w=this._getNewPixelOrigin(p,c);return F([this.project(o.getSouthWest(),c)._subtract(w),this.project(o.getNorthWest(),c)._subtract(w),this.project(o.getSouthEast(),c)._subtract(w),this.project(o.getNorthEast(),c)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,p){if(!p)return o;var w=this.project(o,c),P=this.getSize().divideBy(2),$=new Ne(w.subtract(P),w.add(P)),ue=this._getBoundsOffset($,p,c);return Math.abs(ue.x)<=1&&Math.abs(ue.y)<=1?o:this.unproject(w.add(ue),c)},_limitOffset:function(o,c){if(!c)return o;var p=this.getPixelBounds(),w=new Ne(p.min.add(o),p.max.add(o));return o.add(this._getBoundsOffset(w,c))},_getBoundsOffset:function(o,c,p){var w=F(this.project(c.getNorthEast(),p),this.project(c.getSouthWest(),p)),P=w.min.subtract(o.min),$=w.max.subtract(o.max),ue=this._rebound(P.x,-$.x),Ee=this._rebound(P.y,-$.y);return new Y(ue,Ee)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),p=this.getMaxZoom(),w=et.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(c,Math.min(p,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Yt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var p=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(p)?!1:(this.panBy(p,c),!0)},_createAnimProxy:function(){var o=this._proxy=Ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var p=as,w=this._proxy.style[p];Ni(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),w===this._proxy.style[p]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();Ni(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,p){if(this._animatingZoom)return!0;if(p=p||{},!this._zoomAnimated||p.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(c),P=this._getCenterOffset(o)._divideBy(1-1/w);return p.animate!==!0&&!this.getSize().contains(P)?!1:(N(function(){this._moveStart(!0,p.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,p,w){this._mapPane&&(p&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Lt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Yt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function go(o,c){return new Bt(o,c)}var kn=oe.extend({options:{position:"topright"},initialize:function(o){C(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),p=this.getPosition(),w=o._controlCorners[p];return Lt(c,"leaflet-control"),p.indexOf("bottom")!==-1?w.insertBefore(c,w.firstChild):w.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Rn=function(o){return new kn(o)};Bt.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",p=this._controlContainer=Ut("div",c+"control-container",this._container);function w(P,$){var ue=c+P+" "+c+$;o[P+$]=Ut("div",ue,p)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)Tt(this._controlCorners[o]);Tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Aa=kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,p,w){return p<w?-1:w<p?1:0}},initialize:function(o,c,p){C(this,p),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in c)this._addLayer(c[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return kn.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Lt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Lt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Yt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Yt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=Ut("div",o),p=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Bs(c),js(c);var w=this._section=Ut("section",o+"-list");p&&(this._map.on("click",this.collapse,this),_t(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var P=this._layersLink=Ut("a",o+"-toggle",c);P.href="#",P.title="Layers",P.setAttribute("role","button"),_t(P,{keydown:function($){$.keyCode===13&&this._expandSafely()},click:function($){fn($),this._expandSafely()}},this),p||this.expand(),this._baseLayersList=Ut("div",o+"-base",w),this._separator=Ut("div",o+"-separator",w),this._overlaysList=Ut("div",o+"-overlays",w),c.appendChild(w)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,p){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:p}),this.options.sortLayers&&this._layers.sort(a(function(w,P){return this.options.sortFunction(w.layer,P.layer,w.name,P.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Rs(this._baseLayersList),Rs(this._overlaysList),this._layerControlInputs=[];var o,c,p,w,P=0;for(p=0;p<this._layers.length;p++)w=this._layers[p],this._addItem(w),c=c||w.overlay,o=o||!w.overlay,P+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&P>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(u(o.target)),p=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;p&&this._map.fire(p,c)},_createRadioElement:function(o,c){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=p,w.firstChild},_addItem:function(o){var c=document.createElement("label"),p=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=p):w=this._createRadioElement("leaflet-base-layers_"+u(this),p),this._layerControlInputs.push(w),w.layerId=u(o.layer),_t(w,"click",this._onInputClick,this);var P=document.createElement("span");P.innerHTML=" "+o.name;var $=document.createElement("span");c.appendChild($),$.appendChild(w),$.appendChild(P);var ue=o.overlay?this._overlaysList:this._baseLayersList;return ue.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,p,w=[],P=[];this._handlingClick=!0;for(var $=o.length-1;$>=0;$--)c=o[$],p=this._getLayer(c.layerId).layer,c.checked?w.push(p):c.checked||P.push(p);for($=0;$<P.length;$++)this._map.hasLayer(P[$])&&this._map.removeLayer(P[$]);for($=0;$<w.length;$++)this._map.hasLayer(w[$])||this._map.addLayer(w[$]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,p,w=this._map.getZoom(),P=o.length-1;P>=0;P--)c=o[P],p=this._getLayer(c.layerId).layer,c.disabled=p.options.minZoom!==void 0&&w<p.options.minZoom||p.options.maxZoom!==void 0&&w>p.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,_t(o,"click",fn),this.expand();var c=this;setTimeout(function(){Wt(o,"click",fn),c._preventClick=!1})}}),zs=function(o,c,p){return new Aa(o,c,p)},ir=kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",p=Ut("div",c+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,c+"-in",p,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,c+"-out",p,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),p},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,p,w,P){var $=Ut("a",p,w);return $.innerHTML=o,$.href="#",$.title=c,$.setAttribute("role","button"),$.setAttribute("aria-label",c),Bs($),_t($,"click",rr),_t($,"click",P,this),_t($,"click",this._refocusOnMap,this),$},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";Yt(this._zoomInButton,c),Yt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Lt(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Lt(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Bt.mergeOptions({zoomControl:!0}),Bt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ir,this.addControl(this.zoomControl))});var Go=function(o){return new ir(o)},$i=kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",p=Ut("div",c),w=this.options;return this._addScales(w,c+"-line",p),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),p},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,p){o.metric&&(this._mScale=Ut("div",c,p)),o.imperial&&(this._iScale=Ut("div",c,p))},_update:function(){var o=this._map,c=o.getSize().y/2,p=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(p)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),p=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,p,c/o)},_updateImperial:function(o){var c=o*3.2808399,p,w,P;c>5280?(p=c/5280,w=this._getRoundNum(p),this._updateScale(this._iScale,w+" mi",w/p)):(P=this._getRoundNum(c),this._updateScale(this._iScale,P+" ft",P/c))},_updateScale:function(o,c,p){o.style.width=Math.round(this.options.maxWidth*p)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),p=o/c;return p=p>=10?10:p>=5?5:p>=3?3:p>=2?2:1,c*p}}),Ko=function(o){return new $i(o)},vo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Us=kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(et.inlineSvg?vo+" ":"")+"Leaflet</a>"},initialize:function(o){C(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=Ut("div","leaflet-control-attribution"),Bs(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var p=[];this.options.prefix&&p.push(this.options.prefix),o.length&&p.push(o.join(", ")),this._container.innerHTML=p.join(' <span aria-hidden="true">|</span> ')}}});Bt.mergeOptions({attributionControl:!0}),Bt.addInitHook(function(){this.options.attributionControl&&new Us().addTo(this)});var Pa=function(o){return new Us(o)};kn.Layers=Aa,kn.Zoom=ir,kn.Scale=$i,kn.Attribution=Us,Rn.layers=zs,Rn.zoom=Go,Rn.scale=Ko,Rn.attribution=Pa;var yr=oe.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});yr.addTo=function(o,c){return o.addHandler(c,this),this};var qs={Events:de},Ws=et.touch?"touchstart mousedown":"mousedown",Gr=re.extend({options:{clickTolerance:3},initialize:function(o,c,p,w){C(this,w),this._element=o,this._dragStartTarget=c||o,this._preventOutline=p},enable:function(){this._enabled||(_t(this._dragStartTarget,Ws,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Gr._dragging===this&&this.finishDrag(!0),Wt(this._dragStartTarget,Ws,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!ho(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Gr._dragging===this&&this.finishDrag();return}if(!(Gr._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Gr._dragging=this,this._preventOutline&&Wi(this._element),ba(),Li(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,p=xa(this._element);this._startPoint=new Y(c.clientX,c.clientY),this._startPos=Wr(this._element),this._parentScale=po(p);var w=o.type==="mousedown";_t(document,w?"mousemove":"touchmove",this._onMove,this),_t(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,p=new Y(c.clientX,c.clientY)._subtract(this._startPoint);!p.x&&!p.y||Math.abs(p.x)+Math.abs(p.y)<this.options.clickTolerance||(p.x/=this._parentScale.x,p.y/=this._parentScale.y,fn(o),this._moved||(this.fire("dragstart"),this._moved=!0,Lt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Lt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(p),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Et(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Yt(document.body,"leaflet-dragging"),this._lastTarget&&(Yt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Wt(document,"mousemove touchmove",this._onMove,this),Wt(document,"mouseup touchend touchcancel",this._onUp,this),Ci(),Hr();var c=this._moved&&this._moving;this._moving=!1,Gr._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function Hs(o,c,p){var w,P=[1,4,2,8],$,ue,Ee,Ce,Be,it,mt,qt;for($=0,it=o.length;$<it;$++)o[$]._code=ke(o[$],c);for(Ee=0;Ee<4;Ee++){for(mt=P[Ee],w=[],$=0,it=o.length,ue=it-1;$<it;ue=$++)Ce=o[$],Be=o[ue],Ce._code&mt?Be._code&mt||(qt=ye(Be,Ce,mt,c,p),qt._code=ke(qt,c),w.push(qt)):(Be._code&mt&&(qt=ye(Be,Ce,mt,c,p),qt._code=ke(qt,c),w.push(qt)),w.push(Ce));o=w}return o}function _o(o,c){var p,w,P,$,ue,Ee,Ce,Be,it;if(!o||o.length===0)throw new Error("latlngs not passed");d(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var mt=le([0,0]),qt=J(o),Yr=qt.getNorthWest().distanceTo(qt.getSouthWest())*qt.getNorthEast().distanceTo(qt.getNorthWest());Yr<1700&&(mt=Zo(o));var sr=o.length,Yi=[];for(p=0;p<sr;p++){var fi=le(o[p]);Yi.push(c.project(le([fi.lat-mt.lat,fi.lng-mt.lng])))}for(Ee=Ce=Be=0,p=0,w=sr-1;p<sr;w=p++)P=Yi[p],$=Yi[w],ue=P.y*$.x-$.y*P.x,Ce+=(P.x+$.x)*ue,Be+=(P.y+$.y)*ue,Ee+=ue*3;Ee===0?it=Yi[0]:it=[Ce/Ee,Be/Ee];var al=c.unproject(ae(it));return le([al.lat+mt.lat,al.lng+mt.lng])}function Zo(o){for(var c=0,p=0,w=0,P=0;P<o.length;P++){var $=le(o[P]);c+=$.lat,p+=$.lng,w++}return le([c/w,p/w])}var hs={__proto__:null,clipPolygon:Hs,polygonCenter:_o,centroid:Zo};function fs(o,c){if(!c||!o.length)return o.slice();var p=c*c;return o=B(o,p),o=Yo(o,p),o}function yo(o,c,p){return Math.sqrt(Qe(o,c,p,!0))}function Or(o,c,p){return Qe(o,c,p)}function Yo(o,c){var p=o.length,w=typeof Uint8Array<"u"?Uint8Array:Array,P=new w(p);P[0]=P[p-1]=1,y(o,P,c,0,p-1);var $,ue=[];for($=0;$<p;$++)P[$]&&ue.push(o[$]);return ue}function y(o,c,p,w,P){var $=0,ue,Ee,Ce;for(Ee=w+1;Ee<=P-1;Ee++)Ce=Qe(o[Ee],o[w],o[P],!0),Ce>$&&(ue=Ee,$=Ce);$>p&&(c[ue]=1,y(o,c,p,w,ue),y(o,c,p,ue,P))}function B(o,c){for(var p=[o[0]],w=1,P=0,$=o.length;w<$;w++)Ve(o[w],o[P])>c&&(p.push(o[w]),P=w);return P<$-1&&p.push(o[$-1]),p}var ne;function fe(o,c,p,w,P){var $=w?ne:ke(o,p),ue=ke(c,p),Ee,Ce,Be;for(ne=ue;;){if(!($|ue))return[o,c];if($&ue)return!1;Ee=$||ue,Ce=ye(o,c,Ee,p,P),Be=ke(Ce,p),Ee===$?(o=Ce,$=Be):(c=Ce,ue=Be)}}function ye(o,c,p,w,P){var $=c.x-o.x,ue=c.y-o.y,Ee=w.min,Ce=w.max,Be,it;return p&8?(Be=o.x+$*(Ce.y-o.y)/ue,it=Ce.y):p&4?(Be=o.x+$*(Ee.y-o.y)/ue,it=Ee.y):p&2?(Be=Ce.x,it=o.y+ue*(Ce.x-o.x)/$):p&1&&(Be=Ee.x,it=o.y+ue*(Ee.x-o.x)/$),new Y(Be,it,P)}function ke(o,c){var p=0;return o.x<c.min.x?p|=1:o.x>c.max.x&&(p|=2),o.y<c.min.y?p|=4:o.y>c.max.y&&(p|=8),p}function Ve(o,c){var p=c.x-o.x,w=c.y-o.y;return p*p+w*w}function Qe(o,c,p,w){var P=c.x,$=c.y,ue=p.x-P,Ee=p.y-$,Ce=ue*ue+Ee*Ee,Be;return Ce>0&&(Be=((o.x-P)*ue+(o.y-$)*Ee)/Ce,Be>1?(P=p.x,$=p.y):Be>0&&(P+=ue*Be,$+=Ee*Be)),ue=o.x-P,Ee=o.y-$,w?ue*ue+Ee*Ee:new Y(P,$)}function d(o){return!j(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function S(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),d(o)}function I(o,c){var p,w,P,$,ue,Ee,Ce,Be;if(!o||o.length===0)throw new Error("latlngs not passed");d(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var it=le([0,0]),mt=J(o),qt=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());qt<1700&&(it=Zo(o));var Yr=o.length,sr=[];for(p=0;p<Yr;p++){var Yi=le(o[p]);sr.push(c.project(le([Yi.lat-it.lat,Yi.lng-it.lng])))}for(p=0,w=0;p<Yr-1;p++)w+=sr[p].distanceTo(sr[p+1])/2;if(w===0)Be=sr[0];else for(p=0,$=0;p<Yr-1;p++)if(ue=sr[p],Ee=sr[p+1],P=ue.distanceTo(Ee),$+=P,$>w){Ce=($-w)/P,Be=[Ee.x-Ce*(Ee.x-ue.x),Ee.y-Ce*(Ee.y-ue.y)];break}var fi=c.unproject(ae(Be));return le([fi.lat+it.lat,fi.lng+it.lng])}var G={__proto__:null,simplify:fs,pointToSegmentDistance:yo,closestPointOnSegment:Or,clipSegment:fe,_getEdgeIntersection:ye,_getBitCode:ke,_sqClosestPointOnSegment:Qe,isFlat:d,_flat:S,polylineCenter:I},ve={project:function(o){return new Y(o.lng,o.lat)},unproject:function(o){return new ie(o.y,o.x)},bounds:new Ne([-180,-90],[180,90])},Ae={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,p=this.R,w=o.lat*c,P=this.R_MINOR/p,$=Math.sqrt(1-P*P),ue=$*Math.sin(w),Ee=Math.tan(Math.PI/4-w/2)/Math.pow((1-ue)/(1+ue),$/2);return w=-p*Math.log(Math.max(Ee,1e-10)),new Y(o.lng*c*p,w)},unproject:function(o){for(var c=180/Math.PI,p=this.R,w=this.R_MINOR/p,P=Math.sqrt(1-w*w),$=Math.exp(-o.y/p),ue=Math.PI/2-2*Math.atan($),Ee=0,Ce=.1,Be;Ee<15&&Math.abs(Ce)>1e-7;Ee++)Be=P*Math.sin(ue),Be=Math.pow((1-Be)/(1+Be),P/2),Ce=Math.PI/2-2*Math.atan($*Be)-ue,ue+=Ce;return new ie(ue*c,o.x*c/p)}},Ue={__proto__:null,LonLat:ve,Mercator:Ae,SphericalMercator:$e},kt=i({},Se,{code:"EPSG:3395",projection:Ae,transformation:function(){var o=.5/(Math.PI*Ae.R);return Ze(o,.5,-o,.5)}()}),Ht=i({},Se,{code:"EPSG:4326",projection:ve,transformation:Ze(1/180,1,-1/180,.5)}),Rt=i({},xe,{projection:ve,transformation:Ze(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var p=c.lng-o.lng,w=c.lat-o.lat;return Math.sqrt(p*p+w*w)},infinite:!0});xe.Earth=Se,xe.EPSG3395=kt,xe.EPSG3857=Ye,xe.EPSG900913=pt,xe.EPSG4326=Ht,xe.Simple=Rt;var Vt=re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var p=this.getEvents();c.on(p,this),this.once("remove",function(){c.off(p,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Bt.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=u(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,c){for(var p in this._layers)o.call(c,this._layers[p]);return this},_addLayers:function(o){o=o?j(o)?o:[o]:[];for(var c=0,p=o.length;c<p;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=u(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,p=this._getZoomSpan();for(var w in this._zoomBoundLayers){var P=this._zoomBoundLayers[w].options;o=P.minZoom===void 0?o:Math.min(o,P.minZoom),c=P.maxZoom===void 0?c:Math.max(c,P.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,p!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var nn=Vt.extend({initialize:function(o,c){C(this,c),this._layers={};var p,w;if(o)for(p=0,w=o.length;p<w;p++)this.addLayer(o[p])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),p,w;for(p in this._layers)w=this._layers[p],w[o]&&w[o].apply(w,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var p in this._layers)o.call(c,this._layers[p]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),ds=function(o,c){return new nn(o,c)},In=nn.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),nn.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),nn.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new X;for(var c in this._layers){var p=this._layers[c];o.extend(p.getBounds?p.getBounds():p.getLatLng())}return o}}),$s=function(o,c){return new In(o,c)},Kr=oe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){C(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var p=this._getIconUrl(o);if(!p){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(p,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,c){var p=this.options,w=p[c+"Size"];typeof w=="number"&&(w=[w,w]);var P=ae(w),$=ae(c==="shadow"&&p.shadowAnchor||p.iconAnchor||P&&P.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(p.className||""),$&&(o.style.marginLeft=-$.x+"px",o.style.marginTop=-$.y+"px"),P&&(o.style.width=P.x+"px",o.style.height=P.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return et.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function lu(o){return new Kr(o)}var wo=Kr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof wo.imagePath!="string"&&(wo.imagePath=this._detectIconPath()),(this.options.imagePath||wo.imagePath)+Kr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(p,w,P){var $=w.exec(p);return $&&$[P]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=Ut("div","leaflet-default-icon-path",document.body),c=Ii(o,"background-image")||Ii(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var p=document.querySelector('link[href$="leaflet.css"]');return p?p.href.substring(0,p.href.length-11-1):""}}),Ta=yr.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Gr(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Lt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Yt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,p=c._map,w=this._marker.options.autoPanSpeed,P=this._marker.options.autoPanPadding,$=Wr(c._icon),ue=p.getPixelBounds(),Ee=p.getPixelOrigin(),Ce=F(ue.min._subtract(Ee).add(P),ue.max._subtract(Ee).subtract(P));if(!Ce.contains($)){var Be=ae((Math.max(Ce.max.x,$.x)-Ce.max.x)/(ue.max.x-Ce.max.x)-(Math.min(Ce.min.x,$.x)-Ce.min.x)/(ue.min.x-Ce.min.x),(Math.max(Ce.max.y,$.y)-Ce.max.y)/(ue.max.y-Ce.max.y)-(Math.min(Ce.min.y,$.y)-Ce.min.y)/(ue.min.y-Ce.min.y)).multiplyBy(w);p.panBy(Be,{animate:!1}),this._draggable._newPos._add(Be),this._draggable._startPos._add(Be),Et(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=N(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(O(this._panRequest),this._panRequest=N(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,p=c._shadow,w=Wr(c._icon),P=c._map.layerPointToLatLng(w);p&&Et(p,w),c._latlng=P,o.latlng=P,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){O(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),Xn=Vt.extend({options:{icon:new wo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){C(this,c),this._latlng=le(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=le(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),p=o.icon.createIcon(this._icon),w=!1;p!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(p.title=o.title),p.tagName==="IMG"&&(p.alt=o.alt||"")),Lt(p,c),o.keyboard&&(p.tabIndex="0",p.setAttribute("role","button")),this._icon=p,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_t(p,"focus",this._panOnFocus,this);var P=o.icon.createShadow(this._shadow),$=!1;P!==this._shadow&&(this._removeShadow(),$=!0),P&&(Lt(P,c),P.alt=""),this._shadow=P,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),P&&$&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(this._icon,"focus",this._panOnFocus,this),Tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Tt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Et(this._icon,o),this._shadow&&Et(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Lt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ta)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ta(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&An(this._icon,o),this._shadow&&An(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,p=c.iconSize?ae(c.iconSize):ae(0,0),w=c.iconAnchor?ae(c.iconAnchor):ae(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:p.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tl(o,c){return new Xn(o,c)}var ki=Vt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return C(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),bo=ki.extend({options:{fill:!0,radius:10},initialize:function(o,c){C(this,c),this._latlng=le(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=le(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return ki.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,p=this._clickTolerance(),w=[o+p,c+p];this._pxBounds=new Ne(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function uu(o,c){return new bo(o,c)}var Mr=bo.extend({initialize:function(o,c,p){if(typeof c=="number"&&(c=i({},p,{radius:c})),C(this,c),this._latlng=le(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ki.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,p=this._map,w=p.options.crs;if(w.distance===Se.distance){var P=Math.PI/180,$=this._mRadius/Se.R/P,ue=p.project([c+$,o]),Ee=p.project([c-$,o]),Ce=ue.add(Ee).divideBy(2),Be=p.unproject(Ce).lat,it=Math.acos((Math.cos($*P)-Math.sin(c*P)*Math.sin(Be*P))/(Math.cos(c*P)*Math.cos(Be*P)))/P;(isNaN(it)||it===0)&&(it=$/Math.cos(Math.PI/180*c)),this._point=Ce.subtract(p.getPixelOrigin()),this._radius=isNaN(it)?0:Ce.x-p.project([Be,o-it]).x,this._radiusY=Ce.y-ue.y}else{var mt=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=p.latLngToLayerPoint(this._latlng),this._radius=this._point.x-p.latLngToLayerPoint(mt).x}this._updateBounds()}});function bh(o,c,p){return new Mr(o,c,p)}var Ri=ki.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){C(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,p=null,w=Qe,P,$,ue=0,Ee=this._parts.length;ue<Ee;ue++)for(var Ce=this._parts[ue],Be=1,it=Ce.length;Be<it;Be++){P=Ce[Be-1],$=Ce[Be];var mt=w(o,P,$,!0);mt<c&&(c=mt,p=w(o,P,$))}return p&&(p.distance=Math.sqrt(c)),p},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return I(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=le(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new X,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return d(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],p=d(o),w=0,P=o.length;w<P;w++)p?(c[w]=le(o[w]),this._bounds.extend(c[w])):c[w]=this._convertLatLngs(o[w]);return c},_project:function(){var o=new Ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new Y(o,o);this._rawPxBounds&&(this._pxBounds=new Ne([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,p){var w=o[0]instanceof ie,P=o.length,$,ue;if(w){for(ue=[],$=0;$<P;$++)ue[$]=this._map.latLngToLayerPoint(o[$]),p.extend(ue[$]);c.push(ue)}else for($=0;$<P;$++)this._projectLatlngs(o[$],c,p)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,p,w,P,$,ue,Ee,Ce;for(p=0,P=0,$=this._rings.length;p<$;p++)for(Ce=this._rings[p],w=0,ue=Ce.length;w<ue-1;w++)Ee=fe(Ce[w],Ce[w+1],o,w,!0),Ee&&(c[P]=c[P]||[],c[P].push(Ee[0]),(Ee[1]!==Ce[w+1]||w===ue-2)&&(c[P].push(Ee[1]),P++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,p=0,w=o.length;p<w;p++)o[p]=fs(o[p],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var p,w,P,$,ue,Ee,Ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(p=0,$=this._parts.length;p<$;p++)for(Ee=this._parts[p],w=0,ue=Ee.length,P=ue-1;w<ue;P=w++)if(!(!c&&w===0)&&yo(o,Ee[P],Ee[w])<=Ce)return!0;return!1}});function Yu(o,c){return new Ri(o,c)}Ri._flat=S;var wr=Ri.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _o(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=Ri.prototype._convertLatLngs.call(this,o),p=c.length;return p>=2&&c[0]instanceof ie&&c[0].equals(c[p-1])&&c.pop(),c},_setLatLngs:function(o){Ri.prototype._setLatLngs.call(this,o),d(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return d(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,p=new Y(c,c);if(o=new Ne(o.min.subtract(p),o.max.add(p)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,P=this._rings.length,$;w<P;w++)$=Hs(this._rings[w],o,!0),$.length&&this._parts.push($)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,p,w,P,$,ue,Ee,Ce,Be;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for($=0,Ce=this._parts.length;$<Ce;$++)for(p=this._parts[$],ue=0,Be=p.length,Ee=Be-1;ue<Be;Ee=ue++)w=p[ue],P=p[Ee],w.y>o.y!=P.y>o.y&&o.x<(P.x-w.x)*(o.y-w.y)/(P.y-w.y)+w.x&&(c=!c);return c||Ri.prototype._containsPoint.call(this,o,!0)}});function nl(o,c){return new wr(o,c)}var Gi=In.extend({initialize:function(o,c){C(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=j(o)?o:o.features,p,w,P;if(c){for(p=0,w=c.length;p<w;p++)P=c[p],(P.geometries||P.geometry||P.features||P.coordinates)&&this.addData(P);return this}var $=this.options;if($.filter&&!$.filter(o))return this;var ue=Ia(o,$);return ue?(ue.feature=Ki(o),ue.defaultOptions=ue.options,this.resetStyle(ue),$.onEachFeature&&$.onEachFeature(o,ue),this.addLayer(ue)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function Ia(o,c){var p=o.type==="Feature"?o.geometry:o,w=p?p.coordinates:null,P=[],$=c&&c.pointToLayer,ue=c&&c.coordsToLatLng||So,Ee,Ce,Be,it;if(!w&&!p)return null;switch(p.type){case"Point":return Ee=ue(w),xo($,o,Ee,c);case"MultiPoint":for(Be=0,it=w.length;Be<it;Be++)Ee=ue(w[Be]),P.push(xo($,o,Ee,c));return new In(P);case"LineString":case"MultiLineString":return Ce=br(w,p.type==="LineString"?0:1,ue),new Ri(Ce,c);case"Polygon":case"MultiPolygon":return Ce=br(w,p.type==="Polygon"?1:2,ue),new wr(Ce,c);case"GeometryCollection":for(Be=0,it=p.geometries.length;Be<it;Be++){var mt=Ia({geometry:p.geometries[Be],type:"Feature",properties:o.properties},c);mt&&P.push(mt)}return new In(P);case"FeatureCollection":for(Be=0,it=p.features.length;Be<it;Be++){var qt=Ia(p.features[Be],c);qt&&P.push(qt)}return new In(P);default:throw new Error("Invalid GeoJSON object.")}}function xo(o,c,p,w){return o?o(c,p):new Xn(p,w&&w.markersInheritOptions&&w)}function So(o){return new ie(o[1],o[0],o[2])}function br(o,c,p){for(var w=[],P=0,$=o.length,ue;P<$;P++)ue=c?br(o[P],c-1,p):(p||So)(o[P]),w.push(ue);return w}function xr(o,c){return o=le(o),o.alt!==void 0?[b(o.lng,c),b(o.lat,c),b(o.alt,c)]:[b(o.lng,c),b(o.lat,c)]}function ps(o,c,p,w){for(var P=[],$=0,ue=o.length;$<ue;$++)P.push(c?ps(o[$],d(o[$])?0:c-1,p,w):xr(o[$],w));return!c&&p&&P.length>0&&P.push(P[0].slice()),P}function ci(o,c){return o.feature?i({},o.feature,{geometry:c}):Ki(c)}function Ki(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Qo={toGeoJSON:function(o){return ci(this,{type:"Point",coordinates:xr(this.getLatLng(),o)})}};Xn.include(Qo),Mr.include(Qo),bo.include(Qo),Ri.include({toGeoJSON:function(o){var c=!d(this._latlngs),p=ps(this._latlngs,c?1:0,!1,o);return ci(this,{type:(c?"Multi":"")+"LineString",coordinates:p})}}),wr.include({toGeoJSON:function(o){var c=!d(this._latlngs),p=c&&!d(this._latlngs[0]),w=ps(this._latlngs,p?2:c?1:0,!0,o);return c||(w=[w]),ci(this,{type:(p?"Multi":"")+"Polygon",coordinates:w})}}),nn.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(p){c.push(p.toGeoJSON(o).geometry.coordinates)}),ci(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var p=c==="GeometryCollection",w=[];return this.eachLayer(function(P){if(P.toGeoJSON){var $=P.toGeoJSON(o);if(p)w.push($.geometry);else{var ue=Ki($);ue.type==="FeatureCollection"?w.push.apply(w,ue.features):w.push(ue)}}}),p?ci(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function Gs(o,c){return new Gi(o,c)}var qn=Gs,Xo=Vt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,p){this._url=o,this._bounds=J(c),C(this,p)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Lt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&qi(this._image),this},bringToBack:function(){return this._map&&ls(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=J(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:Ut("img");if(Lt(c,"leaflet-image-layer"),this._zoomAnimated&&Lt(c,"leaflet-zoom-animated"),this.options.className&&Lt(c,this.options.className),c.onselectstart=v,c.onmousemove=v,c.onload=a(this.fire,this,"load"),c.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),p=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Ni(this._image,p,c)},_reset:function(){var o=this._image,c=new Ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),p=c.getSize();Et(o,c.min),o.style.width=p.x+"px",o.style.height=p.y+"px"},_updateOpacity:function(){An(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),Zr=function(o,c,p){return new Xo(o,c,p)},Oi=Xo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:Ut("video");if(Lt(c,"leaflet-image-layer"),this._zoomAnimated&&Lt(c,"leaflet-zoom-animated"),this.options.className&&Lt(c,this.options.className),c.onselectstart=v,c.onmousemove=v,c.onloadeddata=a(this.fire,this,"load"),o){for(var p=c.getElementsByTagName("source"),w=[],P=0;P<p.length;P++)w.push(p[P].src);this._url=p.length>0?w:[c.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var $=0;$<this._url.length;$++){var ue=Ut("source");ue.src=this._url[$],c.appendChild(ue)}}});function rl(o,c,p){return new Oi(o,c,p)}var cu=Xo.extend({_initImage:function(){var o=this._image=this._url;Lt(o,"leaflet-image-layer"),this._zoomAnimated&&Lt(o,"leaflet-zoom-animated"),this.options.className&&Lt(o,this.options.className),o.onselectstart=v,o.onmousemove=v}});function hu(o,c,p){return new cu(o,c,p)}var Dr=Vt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof ie||j(o))?(this._latlng=le(o),C(this,c)):(C(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&An(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&An(this._container,1),this.bringToFront(),this.options.interactive&&(Lt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(An(this._container,0),this._removeTimeout=setTimeout(a(Tt,void 0,this._container),200)):Tt(this._container),this.options.interactive&&(Yt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=le(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qi(this._container),this},bringToBack:function(){return this._map&&ls(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof In){c=null;var p=this._source._layers;for(var w in p)if(p[w]._map){c=p[w];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=ae(this.options.offset),p=this._getAnchor();this._zoomAnimated?Et(this._container,o.add(p)):c=c.add(o).add(p);var w=this._containerBottom=-c.y,P=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=w+"px",this._container.style.left=P+"px"}},_getAnchor:function(){return[0,0]}});Bt.include({_initOverlay:function(o,c,p,w){var P=c;return P instanceof o||(P=new o(w).setContent(c)),p&&P.setLatLng(p),P}}),Vt.include({_initOverlay:function(o,c,p,w){var P=p;return P instanceof o?(C(P,w),P._source=this):(P=c&&!w?c:new o(w,this),P.setContent(p)),P}});var Ks=Dr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Dr.prototype.openOn.call(this,o)},onAdd:function(o){Dr.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ki||this._source.on("preclick",ui))},onRemove:function(o){Dr.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ki||this._source.off("preclick",ui))},getEvents:function(){var o=Dr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=Ut("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),p=this._wrapper=Ut("div",o+"-content-wrapper",c);if(this._contentNode=Ut("div",o+"-content",p),Bs(c),js(this._contentNode),_t(c,"contextmenu",ui),this._tipContainer=Ut("div",o+"-tip-container",c),this._tip=Ut("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=Ut("a",o+"-close-button",c);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',_t(w,"click",function(P){fn(P),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var p=o.offsetWidth;p=Math.min(p,this.options.maxWidth),p=Math.max(p,this.options.minWidth),c.width=p+1+"px",c.whiteSpace="",c.height="";var w=o.offsetHeight,P=this.options.maxHeight,$="leaflet-popup-scrolled";P&&w>P?(c.height=P+"px",Lt(o,$)):Yt(o,$),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),p=this._getAnchor();Et(this._container,c.add(p))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(Ii(this._container,"marginBottom"),10)||0,p=this._container.offsetHeight+c,w=this._containerWidth,P=new Y(this._containerLeft,-p-this._containerBottom);P._add(Wr(this._container));var $=o.layerPointToContainerPoint(P),ue=ae(this.options.autoPanPadding),Ee=ae(this.options.autoPanPaddingTopLeft||ue),Ce=ae(this.options.autoPanPaddingBottomRight||ue),Be=o.getSize(),it=0,mt=0;$.x+w+Ce.x>Be.x&&(it=$.x+w-Be.x+Ce.x),$.x-it-Ee.x<0&&(it=$.x-Ee.x),$.y+p+Ce.y>Be.y&&(mt=$.y+p-Be.y+Ce.y),$.y-mt-Ee.y<0&&(mt=$.y-Ee.y),(it||mt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([it,mt]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jo=function(o,c){return new Ks(o,c)};Bt.mergeOptions({closePopupOnClick:!0}),Bt.include({openPopup:function(o,c,p){return this._initOverlay(Ks,o,c,p).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Vt.include({bindPopup:function(o,c){return this._popup=this._initOverlay(Ks,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof In||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){rr(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof ki)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var Zs=Dr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Dr.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Dr.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Dr.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ut("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,p,w=this._map,P=this._container,$=w.latLngToContainerPoint(w.getCenter()),ue=w.layerPointToContainerPoint(o),Ee=this.options.direction,Ce=P.offsetWidth,Be=P.offsetHeight,it=ae(this.options.offset),mt=this._getAnchor();Ee==="top"?(c=Ce/2,p=Be):Ee==="bottom"?(c=Ce/2,p=0):Ee==="center"?(c=Ce/2,p=Be/2):Ee==="right"?(c=0,p=Be/2):Ee==="left"?(c=Ce,p=Be/2):ue.x<$.x?(Ee="right",c=0,p=Be/2):(Ee="left",c=Ce+(it.x+mt.x)*2,p=Be/2),o=o.subtract(ae(c,p,!0)).add(it).add(mt),Yt(P,"leaflet-tooltip-right"),Yt(P,"leaflet-tooltip-left"),Yt(P,"leaflet-tooltip-top"),Yt(P,"leaflet-tooltip-bottom"),Lt(P,"leaflet-tooltip-"+Ee),Et(P,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&An(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),il=function(o,c){return new Zs(o,c)};Bt.include({openTooltip:function(o,c,p){return this._initOverlay(Zs,o,c,p).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Vt.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Zs,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",p={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?p.add=this._openTooltip:(p.mouseover=this._openTooltip,p.mouseout=this.closeTooltip,p.click=this._openTooltip,this._map?this._addFocusListeners():p.add=this._addFocusListeners),this._tooltip.options.sticky&&(p.mousemove=this._moveTooltip),this[c](p),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof In||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(_t(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),_t(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,p,w;this._tooltip.options.sticky&&o.originalEvent&&(p=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(p),c=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(c)}});var ea=Kr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),p=this.options;if(p.html instanceof Element?(Rs(c),c.appendChild(p.html)):c.innerHTML=p.html!==!1?p.html:"",p.bgPos){var w=ae(p.bgPos);c.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function ta(o){return new ea(o)}Kr.Default=wo;var Eo=Vt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:et.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){C(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),Tt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ls(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Y?o:new Y(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,p=-o(-1/0,1/0),w=0,P=c.length,$;w<P;w++)$=c[w].style.zIndex,c[w]!==this._container&&$&&(p=o(p,+$));isFinite(p)&&(this.options.zIndex=p+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!et.ielt9){An(this._container,this.options.opacity);var o=+new Date,c=!1,p=!1;for(var w in this._tiles){var P=this._tiles[w];if(!(!P.current||!P.loaded)){var $=Math.min(1,(o-P.loaded)/200);An(P.el,$),$<1?c=!0:(P.active?p=!0:this._onOpaqueTile(P),P.active=!0)}}p&&!this._noPrune&&this._pruneTiles(),c&&(O(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=Ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var p in this._levels)p=Number(p),this._levels[p].el.children.length||p===o?(this._levels[p].el.style.zIndex=c-Math.abs(o-p),this._onUpdateLevel(p)):(Tt(this._levels[p].el),this._removeTilesAtZoom(p),this._onRemoveLevel(p),delete this._levels[p]);var w=this._levels[o],P=this._map;return w||(w=this._levels[o]={},w.el=Ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=c,w.origin=P.project(P.unproject(P.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,P.getCenter(),P.getZoom()),v(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var o,c,p=this._map.getZoom();if(p>this.options.maxZoom||p<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var w=c.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)Tt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,p,w){var P=Math.floor(o/2),$=Math.floor(c/2),ue=p-1,Ee=new Y(+P,+$);Ee.z=+ue;var Ce=this._tileCoordsToKey(Ee),Be=this._tiles[Ce];return Be&&Be.active?(Be.retain=!0,!0):(Be&&Be.loaded&&(Be.retain=!0),ue>w?this._retainParent(P,$,ue,w):!1)},_retainChildren:function(o,c,p,w){for(var P=2*o;P<2*o+2;P++)for(var $=2*c;$<2*c+2;$++){var ue=new Y(P,$);ue.z=p+1;var Ee=this._tileCoordsToKey(ue),Ce=this._tiles[Ee];if(Ce&&Ce.active){Ce.retain=!0;continue}else Ce&&Ce.loaded&&(Ce.retain=!0);p+1<w&&this._retainChildren(P,$,p+1,w)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,p,w){var P=Math.round(c);this.options.maxZoom!==void 0&&P>this.options.maxZoom||this.options.minZoom!==void 0&&P<this.options.minZoom?P=void 0:P=this._clampZoom(P);var $=this.options.updateWhenZooming&&P!==this._tileZoom;(!w||$)&&(this._tileZoom=P,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),P!==void 0&&this._update(o),p||this._pruneTiles(),this._noPrune=!!p),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var p in this._levels)this._setZoomTransform(this._levels[p],o,c)},_setZoomTransform:function(o,c,p){var w=this._map.getZoomScale(p,o.zoom),P=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(c,p)).round();et.any3d?Ni(o.el,P,w):Et(o.el,P)},_resetGrid:function(){var o=this._map,c=o.options.crs,p=this._tileSize=this.getTileSize(),w=this._tileZoom,P=this._map.getPixelWorldBounds(this._tileZoom);P&&(this._globalTileRange=this._pxBoundsToTileRange(P)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],w).x/p.x),Math.ceil(o.project([0,c.wrapLng[1]],w).x/p.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],w).y/p.x),Math.ceil(o.project([c.wrapLat[1],0],w).y/p.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,p=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),w=c.getZoomScale(p,this._tileZoom),P=c.project(o,this._tileZoom).floor(),$=c.getSize().divideBy(w*2);return new Ne(P.subtract($),P.add($))},_update:function(o){var c=this._map;if(c){var p=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),P=this._pxBoundsToTileRange(w),$=P.getCenter(),ue=[],Ee=this.options.keepBuffer,Ce=new Ne(P.getBottomLeft().subtract([Ee,-Ee]),P.getTopRight().add([Ee,-Ee]));if(!(isFinite(P.min.x)&&isFinite(P.min.y)&&isFinite(P.max.x)&&isFinite(P.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Be in this._tiles){var it=this._tiles[Be].coords;(it.z!==this._tileZoom||!Ce.contains(new Y(it.x,it.y)))&&(this._tiles[Be].current=!1)}if(Math.abs(p-this._tileZoom)>1){this._setView(o,p);return}for(var mt=P.min.y;mt<=P.max.y;mt++)for(var qt=P.min.x;qt<=P.max.x;qt++){var Yr=new Y(qt,mt);if(Yr.z=this._tileZoom,!!this._isValidTile(Yr)){var sr=this._tiles[this._tileCoordsToKey(Yr)];sr?sr.current=!0:ue.push(Yr)}}if(ue.sort(function(fi,al){return fi.distanceTo($)-al.distanceTo($)}),ue.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yi=document.createDocumentFragment();for(qt=0;qt<ue.length;qt++)this._addTile(ue[qt],Yi);this._level.el.appendChild(Yi)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var p=this._globalTileRange;if(!c.wrapLng&&(o.x<p.min.x||o.x>p.max.x)||!c.wrapLat&&(o.y<p.min.y||o.y>p.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return J(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,p=this.getTileSize(),w=o.scaleBy(p),P=w.add(p),$=c.unproject(w,o.z),ue=c.unproject(P,o.z);return[$,ue]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),p=new X(c[0],c[1]);return this.options.noWrap||(p=this._map.wrapLatLngBounds(p)),p},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),p=new Y(+c[0],+c[1]);return p.z=+c[2],p},_removeTile:function(o){var c=this._tiles[o];c&&(Tt(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Lt(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=v,o.onmousemove=v,et.ielt9&&this.options.opacity<1&&An(o,this.options.opacity)},_addTile:function(o,c){var p=this._getTilePos(o),w=this._tileCoordsToKey(o),P=this.createTile(this._wrapCoords(o),a(this._tileReady,this,o));this._initTile(P),this.createTile.length<2&&N(a(this._tileReady,this,o,null,P)),Et(P,p),this._tiles[w]={el:P,coords:o,current:!0},c.appendChild(P),this.fire("tileloadstart",{tile:P,coords:o})},_tileReady:function(o,c,p){c&&this.fire("tileerror",{error:c,tile:p,coords:o});var w=this._tileCoordsToKey(o);p=this._tiles[w],p&&(p.loaded=+new Date,this._map._fadeAnimated?(An(p.el,0),O(this._fadeFrame),this._fadeFrame=N(this._updateOpacity,this)):(p.active=!0,this._pruneTiles()),c||(Lt(p.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:p.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),et.ielt9||!this._map._fadeAnimated?N(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new Y(this._wrapX?g(o.x,this._wrapX):o.x,this._wrapY?g(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new Ne(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Zi(o){return new Eo(o)}var Sr=Eo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=C(this,c),c.detectRetina&&et.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var p=document.createElement("img");return _t(p,"load",a(this._tileOnLoad,this,c,p)),_t(p,"error",a(this._tileOnError,this,c,p)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(p.referrerPolicy=this.options.referrerPolicy),p.alt="",p.src=this.getTileUrl(o),p},getTileUrl:function(o){var c={r:et.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var p=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=p),c["-y"]=p}return T(this._url,i(c,this.options))},_tileOnLoad:function(o,c){et.ielt9?setTimeout(a(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,p){var w=this.options.errorTileUrl;w&&c.getAttribute("src")!==w&&(c.src=w),o(p,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,p=this.options.zoomReverse,w=this.options.zoomOffset;return p&&(o=c-o),o+w},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=v,c.onerror=v,!c.complete)){c.src=he;var p=this._tiles[o].coords;Tt(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:p})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",he),Eo.prototype._removeTile.call(this,o)},_tileReady:function(o,c,p){if(!(!this._map||p&&p.getAttribute("src")===he))return Eo.prototype._tileReady.call(this,o,c,p)}});function dn(o,c){return new Sr(o,c)}var pn=Sr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var p=i({},this.defaultWmsParams);for(var w in c)w in this.options||(p[w]=c[w]);c=C(this,c);var P=c.detectRetina&&et.retina?2:1,$=this.getTileSize();p.width=$.x*P,p.height=$.y*P,this.wmsParams=p},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Sr.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),p=this._crs,w=F(p.project(c[0]),p.project(c[1])),P=w.min,$=w.max,ue=(this._wmsVersion>=1.3&&this._crs===Ht?[P.y,P.x,$.y,$.x]:[P.x,P.y,$.x,$.y]).join(","),Ee=Sr.prototype.getTileUrl.call(this,o);return Ee+M(this.wmsParams,Ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ue},setParams:function(o,c){return i(this.wmsParams,o),c||this.redraw(),this}});function Wn(o,c){return new pn(o,c)}Sr.WMS=pn,dn.wms=Wn;var mn=Vt.extend({options:{padding:.1},initialize:function(o){C(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Lt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var p=this._map.getZoomScale(c,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),P=this._map.project(this._center,c),$=w.multiplyBy(-p).add(P).subtract(this._map._getNewPixelOrigin(o,c));et.any3d?Ni(this._container,$,p):Et(this._container,$)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),p=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new Ne(p,p.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ys=mn.extend({options:{tolerance:0},getEvents:function(){var o=mn.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");_t(o,"mousemove",this._onMouseMove,this),_t(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_t(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){O(this._redrawRequest),delete this._ctx,Tt(this._container),Wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mn.prototype._update.call(this);var o=this._bounds,c=this._container,p=o.getSize(),w=et.retina?2:1;Et(c,o.min),c.width=w*p.x,c.height=w*p.y,c.style.width=p.x+"px",c.style.height=p.y+"px",et.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){mn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,p=c.next,w=c.prev;p?p.prev=w:this._drawLast=w,w?w.next=p:this._drawFirst=p,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),p=[],w,P;for(P=0;P<c.length;P++){if(w=Number(c[P]),isNaN(w))return;p.push(w)}o.options._dashArray=p}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||N(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ne,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var p=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,p.x,p.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var p,w,P,$,ue=o._parts,Ee=ue.length,Ce=this._ctx;if(Ee){for(Ce.beginPath(),p=0;p<Ee;p++){for(w=0,P=ue[p].length;w<P;w++)$=ue[p][w],Ce[w?"lineTo":"moveTo"]($.x,$.y);c&&Ce.closePath()}this._fillStroke(Ce,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,p=this._ctx,w=Math.max(Math.round(o._radius),1),P=(Math.max(Math.round(o._radiusY),1)||w)/w;P!==1&&(p.save(),p.scale(1,P)),p.beginPath(),p.arc(c.x,c.y/P,w,0,Math.PI*2,!1),P!==1&&p.restore(),this._fillStroke(p,o)}},_fillStroke:function(o,c){var p=c.options;p.fill&&(o.globalAlpha=p.fillOpacity,o.fillStyle=p.fillColor||p.color,o.fill(p.fillRule||"evenodd")),p.stroke&&p.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=p.opacity,o.lineWidth=p.weight,o.strokeStyle=p.color,o.lineCap=p.lineCap,o.lineJoin=p.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),p,w,P=this._drawFirst;P;P=P.next)p=P.layer,p.options.interactive&&p._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(p))&&(w=p);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(Yt(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var p,w,P=this._drawFirst;P;P=P.next)p=P.layer,p.options.interactive&&p._containsPoint(c)&&(w=p);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(Lt(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,p){this._map._fireDOMEvent(c,p||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var p=c.next,w=c.prev;if(p)p.prev=w;else return;w?w.next=p:p&&(this._drawFirst=p),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var p=c.next,w=c.prev;if(w)w.next=p;else return;p?p.prev=w:w&&(this._drawLast=w),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function sl(o){return et.canvas?new Ys(o):null}var Qs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Qu={_initContainer:function(){this._container=Ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mn.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=Qs("shape");Lt(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=Qs("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;Tt(c),o.removeInteractiveTarget(c),delete this._layers[u(o)]},_updateStyle:function(o){var c=o._stroke,p=o._fill,w=o.options,P=o._container;P.stroked=!!w.stroke,P.filled=!!w.fill,w.stroke?(c||(c=o._stroke=Qs("stroke")),P.appendChild(c),c.weight=w.weight+"px",c.color=w.color,c.opacity=w.opacity,w.dashArray?c.dashStyle=j(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=w.lineCap.replace("butt","flat"),c.joinstyle=w.lineJoin):c&&(P.removeChild(c),o._stroke=null),w.fill?(p||(p=o._fill=Qs("fill")),P.appendChild(p),p.color=w.fillColor||w.color,p.opacity=w.fillOpacity):p&&(P.removeChild(p),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),p=Math.round(o._radius),w=Math.round(o._radiusY||p);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+p+","+w+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){qi(o._container)},_bringToBack:function(o){ls(o._container)}},ol=et.vml?Qs:Oe,na=mn.extend({_initContainer:function(){this._container=ol("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ol("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Tt(this._container),Wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mn.prototype._update.call(this);var o=this._bounds,c=o.getSize(),p=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,p.setAttribute("width",c.x),p.setAttribute("height",c.y)),Et(p,o.min),p.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=ol("path");o.options.className&&Lt(c,o.options.className),o.options.interactive&&Lt(c,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){Tt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,p=o.options;c&&(p.stroke?(c.setAttribute("stroke",p.color),c.setAttribute("stroke-opacity",p.opacity),c.setAttribute("stroke-width",p.weight),c.setAttribute("stroke-linecap",p.lineCap),c.setAttribute("stroke-linejoin",p.lineJoin),p.dashArray?c.setAttribute("stroke-dasharray",p.dashArray):c.removeAttribute("stroke-dasharray"),p.dashOffset?c.setAttribute("stroke-dashoffset",p.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),p.fill?(c.setAttribute("fill",p.fillColor||p.color),c.setAttribute("fill-opacity",p.fillOpacity),c.setAttribute("fill-rule",p.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,se(o._parts,c))},_updateCircle:function(o){var c=o._point,p=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||p,P="a"+p+","+w+" 0 1,0 ",$=o._empty()?"M0 0":"M"+(c.x-p)+","+c.y+P+p*2+",0 "+P+-p*2+",0 ";this._setPath(o,$)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){qi(o._path)},_bringToBack:function(o){ls(o._path)}});et.vml&&na.include(Qu);function hi(o){return et.svg||et.vml?new na(o):null}Bt.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&sl(o)||hi(o)}});var Mi=wr.extend({initialize:function(o,c){wr.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=J(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Xu(o,c){return new Mi(o,c)}na.create=ol,na.pointsToPath=se,Gi.geometryToLayer=Ia,Gi.coordsToLatLng=So,Gi.coordsToLatLngs=br,Gi.latLngToCoords=xr,Gi.latLngsToCoords=ps,Gi.getFeature=ci,Gi.asFeature=Ki,Bt.mergeOptions({boxZoom:!0});var fu=yr.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){_t(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Li(),ba(),this._startPoint=this._map.mouseEventToContainerPoint(o),_t(document,{contextmenu:rr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ut("div","leaflet-zoom-box",this._container),Lt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new Ne(this._point,this._startPoint),p=c.getSize();Et(this._box,c.min),this._box.style.width=p.x+"px",this._box.style.height=p.y+"px"},_finish:function(){this._moved&&(Tt(this._box),Yt(this._container,"leaflet-crosshair")),Hr(),Ci(),Wt(document,{contextmenu:rr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var c=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Bt.addInitHook("addHandler","boxZoom",fu),Bt.mergeOptions({doubleClickZoom:!0});var xh=yr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,p=c.getZoom(),w=c.options.zoomDelta,P=o.originalEvent.shiftKey?p-w:p+w;c.options.doubleClickZoom==="center"?c.setZoom(P):c.setZoomAround(o.containerPoint,P)}});Bt.addInitHook("addHandler","doubleClickZoom",xh),Bt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var du=yr.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Gr(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Lt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Yt(this._map._container,"leaflet-grab"),Yt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=J(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,p=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(p),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),p=this._initialWorldOffset,w=this._draggable._newPos.x,P=(w-c+p)%o+c-p,$=(w+c+p)%o-c-p,ue=Math.abs(P+p)<Math.abs($+p)?P:$;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ue},_onDragEnd:function(o){var c=this._map,p=c.options,w=!p.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),w)c.fire("moveend");else{this._prunePositions(+new Date);var P=this._lastPos.subtract(this._positions[0]),$=(this._lastTime-this._times[0])/1e3,ue=p.easeLinearity,Ee=P.multiplyBy(ue/$),Ce=Ee.distanceTo([0,0]),Be=Math.min(p.inertiaMaxSpeed,Ce),it=Ee.multiplyBy(Be/Ce),mt=Be/(p.inertiaDeceleration*ue),qt=it.multiplyBy(-mt/2).round();!qt.x&&!qt.y?c.fire("moveend"):(qt=c._limitOffset(qt,c.options.maxBounds),N(function(){c.panBy(qt,{duration:mt,easeLinearity:ue,noMoveStart:!0,animate:!0})}))}}});Bt.addInitHook("addHandler","dragging",du),Bt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var pu=yr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),_t(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,p=o.scrollTop||c.scrollTop,w=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(w,p)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},p=this.keyCodes,w,P;for(w=0,P=p.left.length;w<P;w++)c[p.left[w]]=[-1*o,0];for(w=0,P=p.right.length;w<P;w++)c[p.right[w]]=[o,0];for(w=0,P=p.down.length;w<P;w++)c[p.down[w]]=[0,o];for(w=0,P=p.up.length;w<P;w++)c[p.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},p=this.keyCodes,w,P;for(w=0,P=p.zoomIn.length;w<P;w++)c[p.zoomIn[w]]=o;for(w=0,P=p.zoomOut.length;w<P;w++)c[p.zoomOut[w]]=-o},_addHooks:function(){_t(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,p=this._map,w;if(c in this._panKeys){if(!p._panAnim||!p._panAnim._inProgress)if(w=this._panKeys[c],o.shiftKey&&(w=ae(w).multiplyBy(3)),p.options.maxBounds&&(w=p._limitOffset(ae(w),p.options.maxBounds)),p.options.worldCopyJump){var P=p.wrapLatLng(p.unproject(p.project(p.getCenter()).add(w)));p.panTo(P)}else p.panBy(w)}else if(c in this._zoomKeys)p.setZoom(p.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&p._popup&&p._popup.options.closeOnEscapeKey)p.closePopup();else return;rr(o)}}});Bt.addInitHook("addHandler","keyboard",pu),Bt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ju=yr.extend({addHooks:function(){_t(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=Ho(o),p=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(p-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),w),rr(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),p=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),P=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,$=p?Math.ceil(P/p)*p:P,ue=o._limitZoom(c+(this._delta>0?$:-$))-c;this._delta=0,this._startTime=null,ue&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+ue):o.setZoomAround(this._lastMousePos,c+ue))}});Bt.addInitHook("addHandler","scrollWheelZoom",Ju);var dd=600;Bt.mergeOptions({tapHold:et.touchNative&&et.safari&&et.mobile,tapTolerance:15});var ec=yr.extend({addHooks:function(){_t(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new Y(c.clientX,c.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(_t(document,"touchend",fn),_t(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),dd),_t(document,"touchend touchcancel contextmenu",this._cancel,this),_t(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Wt(document,"touchend",fn),Wt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new Y(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var p=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});p._simulated=!0,c.target.dispatchEvent(p)}});Bt.addInitHook("addHandler","tapHold",ec),Bt.mergeOptions({touchZoom:et.touch,bounceAtZoomLimits:!0});var tc=yr.extend({addHooks:function(){Lt(this._map._container,"leaflet-touch-zoom"),_t(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Yt(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var p=c.mouseEventToContainerPoint(o.touches[0]),w=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(p.add(w)._divideBy(2))),this._startDist=p.distanceTo(w),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),_t(document,"touchmove",this._onTouchMove,this),_t(document,"touchend touchcancel",this._onTouchEnd,this),fn(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,p=c.mouseEventToContainerPoint(o.touches[0]),w=c.mouseEventToContainerPoint(o.touches[1]),P=p.distanceTo(w)/this._startDist;if(this._zoom=c.getScaleZoom(P,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&P<1||this._zoom>c.getMaxZoom()&&P>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,P===1)return}else{var $=p._add(w)._divideBy(2)._subtract(this._centerPoint);if(P===1&&$.x===0&&$.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract($),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),O(this._animRequest);var ue=a(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=N(ue,this,!0),fn(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,O(this._animRequest),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Bt.addInitHook("addHandler","touchZoom",tc),Bt.BoxZoom=fu,Bt.DoubleClickZoom=xh,Bt.Drag=du,Bt.Keyboard=pu,Bt.ScrollWheelZoom=Ju,Bt.TapHold=ec,Bt.TouchZoom=tc,n.Bounds=Ne,n.Browser=et,n.CRS=xe,n.Canvas=Ys,n.Circle=Mr,n.CircleMarker=bo,n.Class=oe,n.Control=kn,n.DivIcon=ea,n.DivOverlay=Dr,n.DomEvent=Ea,n.DomUtil=At,n.Draggable=Gr,n.Evented=re,n.FeatureGroup=In,n.GeoJSON=Gi,n.GridLayer=Eo,n.Handler=yr,n.Icon=Kr,n.ImageOverlay=Xo,n.LatLng=ie,n.LatLngBounds=X,n.Layer=Vt,n.LayerGroup=nn,n.LineUtil=G,n.Map=Bt,n.Marker=Xn,n.Mixin=qs,n.Path=ki,n.Point=Y,n.PolyUtil=hs,n.Polygon=wr,n.Polyline=Ri,n.Popup=Ks,n.PosAnimation=$o,n.Projection=Ue,n.Rectangle=Mi,n.Renderer=mn,n.SVG=na,n.SVGOverlay=cu,n.TileLayer=Sr,n.Tooltip=Zs,n.Transformation=qe,n.Util=D,n.VideoOverlay=Oi,n.bind=a,n.bounds=F,n.canvas=sl,n.circle=bh,n.circleMarker=uu,n.control=Rn,n.divIcon=ta,n.extend=i,n.featureGroup=$s,n.geoJSON=Gs,n.geoJson=qn,n.gridLayer=Zi,n.icon=lu,n.imageOverlay=Zr,n.latLng=le,n.latLngBounds=J,n.layerGroup=ds,n.map=go,n.marker=tl,n.point=ae,n.polygon=nl,n.polyline=Yu,n.popup=Jo,n.rectangle=Xu,n.setOptions=C,n.stamp=u,n.svg=hi,n.svgOverlay=hu,n.tileLayer=dn,n.tooltip=il,n.transformation=Ze,n.version=r,n.videoOverlay=rl;var nc=window.L;n.noConflict=function(){return window.L=nc,this},window.L=n})})(E0,E0.exports);var Wu=E0.exports;const Ou=Kw(Wu);function ed(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Bm(t,e){return e==null?function(r,i){const s=Ie.useRef();return s.current||(s.current=t(r,i)),s}:function(r,i){const s=Ie.useRef();s.current||(s.current=t(r,i));const a=Ie.useRef(r),{instance:l}=s.current;return Ie.useEffect(function(){a.current!==r&&(e(l,r,a.current),a.current=r)},[l,r,i]),s}}function SS(t,e){Ie.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function ES(t){return function(n){const r=Fm(),i=t(jm(n,r),r);return yS(r.map,n.attribution),f_(i.current,n.eventHandlers),SS(i.current,r),i}}function DI(t,e){const n=Ie.useRef();Ie.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function FI(t){return function(n){const r=Fm(),i=t(jm(n,r),r);return f_(i.current,n.eventHandlers),SS(i.current,r),DI(i.current,n),i}}function jI(t,e){const n=Bm(t,e),r=ES(n);return xS(r)}function BI(t,e){const n=Bm(t),r=MI(n,e);return RI(r)}function AS(t,e){const n=Bm(t,e),r=FI(n);return xS(r)}function VI(t,e){const n=Bm(t,e),r=ES(n);return OI(r)}function zI(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function Vm(){return Fm().map}function UI(t){const e=Vm();return Ie.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}const PS=AS(function({center:e,children:n,...r},i){const s=new Wu.Circle(e,r);return ed(s,h_(i,{overlayContainer:s}))},LI);function A0(){return A0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A0.apply(this,arguments)}function qI({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:s,placeholder:a,style:l,whenReady:u,zoom:f,...g},v){const[b]=Ie.useState({className:i,id:s,style:l}),[_,k]=Ie.useState(null);Ie.useImperativeHandle(v,()=>(_==null?void 0:_.map)??null,[_]);const C=Ie.useCallback(E=>{if(E!==null&&_===null){const T=new Wu.Map(E,g);n!=null&&f!=null?T.setView(n,f):t!=null&&T.fitBounds(t,e),u!=null&&T.whenReady(u),k(kI(T))}},[]);Ie.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const M=_?vf.createElement(bS,{value:_},r):a??null;return vf.createElement("div",A0({},b,{ref:C}),M)}const d_=Ie.forwardRef(qI),Dc=jI(function({position:e,...n},r){const i=new Wu.Marker(e,n);return ed(i,h_(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),WI=AS(function({positions:e,...n},r){const i=new Wu.Polyline(e,n);return ed(i,h_(r,{overlayContainer:i}))},function(e,n,r){n.positions!==r.positions&&e.setLatLngs(n.positions)}),uf=BI(function(e,n){const r=new Wu.Popup(e,n.overlayContainer);return ed(r,n)},function(e,n,{position:r},i){Ie.useEffect(function(){const{instance:a}=e;function l(f){f.popup===a&&(a.update(),i(!0))}function u(f){f.popup===a&&i(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(r!=null&&a.setLatLng(r),a.openOn(n.map)):n.overlayContainer.bindPopup(a),function(){var g;n.map.off({popupopen:l,popupclose:u}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(a)}},[e,n,i,r])}),p_=VI(function({url:e,...n},r){const i=new Wu.TileLayer(e,jm(n,r));return ed(i,r)},function(e,n,r){zI(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),HI="modulepreload",$I=function(t){return"/"+t},Q2={},P0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=$I(u),u in Q2)return;Q2[u]=!0;const f=u.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":HI,f||(v.as="script"),v.crossOrigin="",v.href=u,l&&v.setAttribute("nonce",l),document.head.appendChild(v),f)return new Promise((b,_)=>{v.addEventListener("load",b),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};function yn(t){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(t)}var Si=Uint8Array,ws=Uint16Array,m_=Int32Array,zm=new Si([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Um=new Si([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),T0=new Si([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TS=function(t,e){for(var n=new ws(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new m_(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},IS=TS(zm,2),NS=IS.b,I0=IS.r;NS[28]=258,I0[258]=28;var LS=TS(Um,0),GI=LS.b,X2=LS.r,N0=new ws(32768);for(var Fn=0;Fn<32768;++Fn){var pl=(Fn&43690)>>1|(Fn&21845)<<1;pl=(pl&52428)>>2|(pl&13107)<<2,pl=(pl&61680)>>4|(pl&3855)<<4,N0[Fn]=((pl&65280)>>8|(pl&255)<<8)>>1}var fa=function(t,e,n){for(var r=t.length,i=0,s=new ws(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new ws(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var l;if(n){l=new ws(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var f=i<<4|t[i],g=e-t[i],v=a[t[i]-1]++<<g,b=v|(1<<g)-1;v<=b;++v)l[N0[v]>>u]=f}else for(l=new ws(r),i=0;i<r;++i)t[i]&&(l[i]=N0[a[t[i]-1]++]>>15-t[i]);return l},Gl=new Si(288);for(var Fn=0;Fn<144;++Fn)Gl[Fn]=8;for(var Fn=144;Fn<256;++Fn)Gl[Fn]=9;for(var Fn=256;Fn<280;++Fn)Gl[Fn]=7;for(var Fn=280;Fn<288;++Fn)Gl[Fn]=8;var Ff=new Si(32);for(var Fn=0;Fn<32;++Fn)Ff[Fn]=5;var KI=fa(Gl,9,0),ZI=fa(Gl,9,1),YI=fa(Ff,5,0),QI=fa(Ff,5,1),tv=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},To=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},nv=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},g_=function(t){return(t+7)/8|0},CS=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Si(t.subarray(e,n))},XI=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Lo=function(t,e,n){var r=new Error(e||XI[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Lo),!n)throw r;return r},JI=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Si(0);var a=!n,l=a||e.i!=2,u=e.i;a&&(n=new Si(i*3));var f=function(qe){var Ze=n.length;if(qe>Ze){var Ye=new Si(Math.max(Ze*2,qe));Ye.set(n),n=Ye}},g=e.f||0,v=e.p||0,b=e.b||0,_=e.l,k=e.d,C=e.m,M=e.n,E=i*8;do{if(!_){g=To(t,v,1);var T=To(t,v+1,3);if(v+=3,T)if(T==1)_=ZI,k=QI,C=9,M=5;else if(T==2){var we=To(t,v,31)+257,z=To(t,v+10,15)+4,R=we+To(t,v+5,31)+1;v+=14;for(var U=new Si(R),K=new Si(19),N=0;N<z;++N)K[T0[N]]=To(t,v+N*3,7);v+=z*3;for(var O=tv(K),D=(1<<O)-1,oe=fa(K,O,1),N=0;N<R;){var pe=oe[To(t,v,D)];v+=pe&15;var j=pe>>4;if(j<16)U[N++]=j;else{var de=0,re=0;for(j==16?(re=3+To(t,v,3),v+=2,de=U[N-1]):j==17?(re=3+To(t,v,7),v+=3):j==18&&(re=11+To(t,v,127),v+=7);re--;)U[N++]=de}}var Y=U.subarray(0,we),ce=U.subarray(we);C=tv(Y),M=tv(ce),_=fa(Y,C,1),k=fa(ce,M,1)}else Lo(1);else{var j=g_(v)+4,te=t[j-4]|t[j-3]<<8,he=j+te;if(he>i){u&&Lo(0);break}l&&f(b+te),n.set(t.subarray(j,he),b),e.b=b+=te,e.p=v=he*8,e.f=g;continue}if(v>E){u&&Lo(0);break}}l&&f(b+131072);for(var ae=(1<<C)-1,Ne=(1<<M)-1,F=v;;F=v){var de=_[nv(t,v)&ae],X=de>>4;if(v+=de&15,v>E){u&&Lo(0);break}if(de||Lo(2),X<256)n[b++]=X;else if(X==256){F=v,_=null;break}else{var J=X-254;if(X>264){var N=X-257,ie=zm[N];J=To(t,v,(1<<ie)-1)+NS[N],v+=ie}var le=k[nv(t,v)&Ne],xe=le>>4;le||Lo(3),v+=le&15;var ce=GI[xe];if(xe>3){var ie=Um[xe];ce+=nv(t,v)&(1<<ie)-1,v+=ie}if(v>E){u&&Lo(0);break}l&&f(b+131072);var Se=b+J;if(b<ce){var Le=s-ce,$e=Math.min(ce,Se);for(Le+b<0&&Lo(3);b<$e;++b)n[b]=r[Le+b]}for(;b<Se;++b)n[b]=n[b-ce]}}e.l=_,e.p=F,e.b=b,e.f=g,_&&(g=1,e.m=C,e.d=k,e.n=M)}while(!g);return b!=n.length&&a?CS(n,0,b):n.subarray(0,b)},Ca=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},jh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},rv=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:RS,l:0};if(i==1){var a=new Si(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(he,we){return he.f-we.f}),n.push({s:-1,f:25001});var l=n[0],u=n[1],f=0,g=1,v=2;for(n[0]={s:-1,f:l.f+u.f,l,r:u};g!=i-1;)l=n[n[f].f<n[v].f?f++:v++],u=n[f!=g&&n[f].f<n[v].f?f++:v++],n[g++]={s:-1,f:l.f+u.f,l,r:u};for(var b=s[0].s,r=1;r<i;++r)s[r].s>b&&(b=s[r].s);var _=new ws(b+1),k=L0(n[g-1],_,0);if(k>e){var r=0,C=0,M=k-e,E=1<<M;for(s.sort(function(we,z){return _[z.s]-_[we.s]||we.f-z.f});r<i;++r){var T=s[r].s;if(_[T]>e)C+=E-(1<<k-_[T]),_[T]=e;else break}for(C>>=M;C>0;){var j=s[r].s;_[j]<e?C-=1<<e-_[j]++-1:++r}for(;r>=0&&C;--r){var te=s[r].s;_[te]==e&&(--_[te],++C)}k=e}return{t:new Si(_),l:k}},L0=function(t,e,n){return t.s==-1?Math.max(L0(t.l,e,n+1),L0(t.r,e,n+1)):e[t.s]=n},J2=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ws(++e),r=0,i=t[0],s=1,a=function(u){n[r++]=u},l=1;l<=e;++l)if(t[l]==i&&l!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[l]}return{c:n.subarray(0,r),n:e}},Bh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},kS=function(t,e,n){var r=n.length,i=g_(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},e5=function(t,e,n,r,i,s,a,l,u,f,g){Ca(e,g++,n),++i[256];for(var v=rv(i,15),b=v.t,_=v.l,k=rv(s,15),C=k.t,M=k.l,E=J2(b),T=E.c,j=E.n,te=J2(C),he=te.c,we=te.n,z=new ws(19),R=0;R<T.length;++R)++z[T[R]&31];for(var R=0;R<he.length;++R)++z[he[R]&31];for(var U=rv(z,7),K=U.t,N=U.l,O=19;O>4&&!K[T0[O-1]];--O);var D=f+5<<3,oe=Bh(i,Gl)+Bh(s,Ff)+a,pe=Bh(i,b)+Bh(s,C)+a+14+3*O+Bh(z,K)+2*z[16]+3*z[17]+7*z[18];if(u>=0&&D<=oe&&D<=pe)return kS(e,g,t.subarray(u,u+f));var de,re,Y,ce;if(Ca(e,g,1+(pe<oe)),g+=2,pe<oe){de=fa(b,_,0),re=b,Y=fa(C,M,0),ce=C;var ae=fa(K,N,0);Ca(e,g,j-257),Ca(e,g+5,we-1),Ca(e,g+10,O-4),g+=14;for(var R=0;R<O;++R)Ca(e,g+3*R,K[T0[R]]);g+=3*O;for(var Ne=[T,he],F=0;F<2;++F)for(var X=Ne[F],R=0;R<X.length;++R){var J=X[R]&31;Ca(e,g,ae[J]),g+=K[J],J>15&&(Ca(e,g,X[R]>>5&127),g+=X[R]>>12)}}else de=KI,re=Gl,Y=YI,ce=Ff;for(var R=0;R<l;++R){var ie=r[R];if(ie>255){var J=ie>>18&31;jh(e,g,de[J+257]),g+=re[J+257],J>7&&(Ca(e,g,ie>>23&31),g+=zm[J]);var le=ie&31;jh(e,g,Y[le]),g+=ce[le],le>3&&(jh(e,g,ie>>5&8191),g+=Um[le])}else jh(e,g,de[ie]),g+=re[ie]}return jh(e,g,de[256]),g+re[256]},eN=new m_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),RS=new Si(0),tN=function(t,e,n,r,i,s){var a=s.z||t.length,l=new Si(r+a+5*(1+Math.ceil(a/7e3))+i),u=l.subarray(r,l.length-i),f=s.l,g=(s.r||0)&7;if(e){g&&(u[0]=s.r>>3);for(var v=eN[e-1],b=v>>13,_=v&8191,k=(1<<n)-1,C=s.p||new ws(32768),M=s.h||new ws(k+1),E=Math.ceil(n/3),T=2*E,j=function(pt){return(t[pt]^t[pt+1]<<E^t[pt+2]<<T)&k},te=new m_(25e3),he=new ws(288),we=new ws(32),z=0,R=0,U=s.i||0,K=0,N=s.w||0,O=0;U+2<a;++U){var D=j(U),oe=U&32767,pe=M[D];if(C[oe]=pe,M[D]=oe,N<=U){var de=a-U;if((z>7e3||K>24576)&&(de>423||!f)){g=e5(t,u,0,te,he,we,R,K,O,U-O,g),K=z=R=0,O=U;for(var re=0;re<286;++re)he[re]=0;for(var re=0;re<30;++re)we[re]=0}var Y=2,ce=0,ae=_,Ne=oe-pe&32767;if(de>2&&D==j(U-Ne))for(var F=Math.min(b,de)-1,X=Math.min(32767,U),J=Math.min(258,de);Ne<=X&&--ae&&oe!=pe;){if(t[U+Y]==t[U+Y-Ne]){for(var ie=0;ie<J&&t[U+ie]==t[U+ie-Ne];++ie);if(ie>Y){if(Y=ie,ce=Ne,ie>F)break;for(var le=Math.min(Ne,ie-2),xe=0,re=0;re<le;++re){var Se=U-Ne+re&32767,Le=C[Se],$e=Se-Le&32767;$e>xe&&(xe=$e,pe=Se)}}}oe=pe,pe=C[oe],Ne+=oe-pe&32767}if(ce){te[K++]=268435456|I0[Y]<<18|X2[ce];var qe=I0[Y]&31,Ze=X2[ce]&31;R+=zm[qe]+Um[Ze],++he[257+qe],++we[Ze],N=U+Y,++z}else te[K++]=t[U],++he[t[U]]}}for(U=Math.max(U,N);U<a;++U)te[K++]=t[U],++he[t[U]];g=e5(t,u,f,te,he,we,R,K,O,U-O,g),f||(s.r=g&7|u[g/8|0]<<3,g-=7,s.h=M,s.p=C,s.i=U,s.w=N)}else{for(var U=s.w||0;U<a+f;U+=65535){var Ye=U+65535;Ye>=a&&(u[g/8|0]=f,Ye=a),g=kS(u,g+1,t.subarray(U,Ye))}s.i=a}return CS(l,0,r+g_(g)+i)},OS=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var l=Math.min(a+2655,s);a<l;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},nN=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Si(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return tN(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},MS=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},rN=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=OS();i.p(e.dictionary),MS(t,2,i.d())}},iN=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Lo(6,"invalid zlib data"),(t[1]>>5&1)==1&&Lo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function C0(t,e){e||(e={});var n=OS();n.p(t);var r=nN(t,e,e.dictionary?6:2,4);return rN(r,e),MS(r,r.length-4,n.d()),r}function sN(t,e){return JI(t.subarray(iN(t),-4),{i:2},e,e)}var oN=typeof TextDecoder<"u"&&new TextDecoder,aN=0;try{oN.decode(RS,{stream:!0}),aN=1}catch{}var It=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function iv(){It.console&&typeof It.console.log=="function"&&It.console.log.apply(It.console,arguments)}var Ln={log:iv,warn:function(t){It.console&&(typeof It.console.warn=="function"?It.console.warn.apply(It.console,arguments):iv.call(null,arguments))},error:function(t){It.console&&(typeof It.console.error=="function"?It.console.error.apply(It.console,arguments):iv(t))}};function sv(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){_u(r.response,e,n)},r.onerror=function(){Ln.error("could not download file")},r.send()}function t5(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function $d(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var cf,k0,_u=It.saveAs||((typeof window>"u"?"undefined":yn(window))!=="object"||window!==It?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=It.URL||It.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?t5(i.href)?sv(t,e,n):$d(i,i.target="_blank"):$d(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){$d(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(t5(t))sv(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){$d(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:yn(s)!=="object"&&(Ln.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return sv(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(It.HTMLElement)||It.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":yn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var g=l.result;g=a?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},l.readAsDataURL(t)}else{var u=It.URL||It.webkitURL,f=u.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function DS(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+l+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ov(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=mi(n,r,i,s,e[0],7,-680876936),s=mi(s,n,r,i,e[1],12,-389564586),i=mi(i,s,n,r,e[2],17,606105819),r=mi(r,i,s,n,e[3],22,-1044525330),n=mi(n,r,i,s,e[4],7,-176418897),s=mi(s,n,r,i,e[5],12,1200080426),i=mi(i,s,n,r,e[6],17,-1473231341),r=mi(r,i,s,n,e[7],22,-45705983),n=mi(n,r,i,s,e[8],7,1770035416),s=mi(s,n,r,i,e[9],12,-1958414417),i=mi(i,s,n,r,e[10],17,-42063),r=mi(r,i,s,n,e[11],22,-1990404162),n=mi(n,r,i,s,e[12],7,1804603682),s=mi(s,n,r,i,e[13],12,-40341101),i=mi(i,s,n,r,e[14],17,-1502002290),n=gi(n,r=mi(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=gi(s,n,r,i,e[6],9,-1069501632),i=gi(i,s,n,r,e[11],14,643717713),r=gi(r,i,s,n,e[0],20,-373897302),n=gi(n,r,i,s,e[5],5,-701558691),s=gi(s,n,r,i,e[10],9,38016083),i=gi(i,s,n,r,e[15],14,-660478335),r=gi(r,i,s,n,e[4],20,-405537848),n=gi(n,r,i,s,e[9],5,568446438),s=gi(s,n,r,i,e[14],9,-1019803690),i=gi(i,s,n,r,e[3],14,-187363961),r=gi(r,i,s,n,e[8],20,1163531501),n=gi(n,r,i,s,e[13],5,-1444681467),s=gi(s,n,r,i,e[2],9,-51403784),i=gi(i,s,n,r,e[7],14,1735328473),n=vi(n,r=gi(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=vi(s,n,r,i,e[8],11,-2022574463),i=vi(i,s,n,r,e[11],16,1839030562),r=vi(r,i,s,n,e[14],23,-35309556),n=vi(n,r,i,s,e[1],4,-1530992060),s=vi(s,n,r,i,e[4],11,1272893353),i=vi(i,s,n,r,e[7],16,-155497632),r=vi(r,i,s,n,e[10],23,-1094730640),n=vi(n,r,i,s,e[13],4,681279174),s=vi(s,n,r,i,e[0],11,-358537222),i=vi(i,s,n,r,e[3],16,-722521979),r=vi(r,i,s,n,e[6],23,76029189),n=vi(n,r,i,s,e[9],4,-640364487),s=vi(s,n,r,i,e[12],11,-421815835),i=vi(i,s,n,r,e[15],16,530742520),n=_i(n,r=vi(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=_i(s,n,r,i,e[7],10,1126891415),i=_i(i,s,n,r,e[14],15,-1416354905),r=_i(r,i,s,n,e[5],21,-57434055),n=_i(n,r,i,s,e[12],6,1700485571),s=_i(s,n,r,i,e[3],10,-1894986606),i=_i(i,s,n,r,e[10],15,-1051523),r=_i(r,i,s,n,e[1],21,-2054922799),n=_i(n,r,i,s,e[8],6,1873313359),s=_i(s,n,r,i,e[15],10,-30611744),i=_i(i,s,n,r,e[6],15,-1560198380),r=_i(r,i,s,n,e[13],21,1309151649),n=_i(n,r,i,s,e[4],6,-145523070),s=_i(s,n,r,i,e[11],10,-1120210379),i=_i(i,s,n,r,e[2],15,718787259),r=_i(r,i,s,n,e[9],21,-343485551),t[0]=Il(n,t[0]),t[1]=Il(r,t[1]),t[2]=Il(i,t[2]),t[3]=Il(s,t[3])}function qm(t,e,n,r,i,s){return e=Il(Il(e,t),Il(r,s)),Il(e<<i|e>>>32-i,n)}function mi(t,e,n,r,i,s,a){return qm(e&n|~e&r,t,e,i,s,a)}function gi(t,e,n,r,i,s,a){return qm(e&r|n&~r,t,e,i,s,a)}function vi(t,e,n,r,i,s,a){return qm(e^n^r,t,e,i,s,a)}function _i(t,e,n,r,i,s,a){return qm(n^(e|~r),t,e,i,s,a)}function FS(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ov(r,lN(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(ov(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,ov(r,i),r}function lN(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}cf=It.atob.bind(It),k0=It.btoa.bind(It);var n5="0123456789abcdef".split("");function uN(t){for(var e="",n=0;n<4;n++)e+=n5[t>>8*n+4&15]+n5[t>>8*n&15];return e}function cN(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function R0(t){return FS(t).map(cN).join("")}var hN=function(t){for(var e=0;e<t.length;e++)t[e]=uN(t[e]);return t.join("")}(FS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Il(t,e){if(hN){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function O0(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),l=[],u=0;u<256;u++)l[u]=u;var f=0;for(u=0;u<256;u++){var g=l[u];f=(f+g+a.charCodeAt(u))%256,l[u]=l[f],l[f]=g}n=t,r=l}else l=r;var v=e.length,b=0,_=0,k="";for(u=0;u<v;u++)_=(_+(g=l[b=(b+1)%256]))%256,l[b]=l[_],l[_]=g,a=l[(l[b]+l[_])%256],k+=String.fromCharCode(e.charCodeAt(u)^a);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var r5={print:4,modify:8,copy:16,"annot-forms":32};function hc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(l){if(r5.perm!==void 0)throw new Error("Invalid permission: "+l);i+=r5[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=R0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=O0(this.encryptionKey,this.padding)}function fc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function i5(t){if(yn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(l){It.console&&Ln.error("jsPDF PubSub Error",l.message,l)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function em(t){if(!(this instanceof em))return new em(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function jS(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function wu(t,e,n,r,i){if(!(this instanceof wu))return new wu(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,jS.call(this,r,i)}function Ic(t,e,n,r,i){if(!(this instanceof Ic))return new Ic(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,jS.call(this,r,i)}function xt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],l=1,u=16,f="S",g=null;yn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(g=t.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(u=t.floatPrecision),f=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,b={},_={internal:{},__private__:{}};_.__private__.PubSub=i5;var k="1.3",C=_.__private__.getPdfVersion=function(){return k};_.__private__.setPdfVersion=function(y){k=y};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};_.__private__.getPageFormats=function(){return M};var E=_.__private__.getPageFormat=function(y){return M[y]};i=i||"a4";var T={COMPAT:"compat",ADVANCED:"advanced"},j=T.COMPAT;function te(){this.saveGraphicsState(),se(new ot(nt,0,0,-nt,0,Or()*nt).toString()+" cm"),this.setFontSize(this.getFontSize()/nt),f="n",j=T.ADVANCED}function he(){this.restoreGraphicsState(),f="S",j=T.COMPAT}var we=_.__private__.combineFontStyleAndFontWeight=function(y,B){if(y=="bold"&&B=="normal"||y=="bold"&&B==400||y=="normal"&&B=="italic"||y=="bold"&&B=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return B&&(y=B==400||B==="normal"?y==="italic"?"italic":"normal":B!=700&&B!=="bold"||y!=="normal"?(B==700?"bold":B)+""+y:"bold"),y};_.advancedAPI=function(y){var B=j===T.COMPAT;return B&&te.call(this),typeof y!="function"||(y(this),B&&he.call(this)),this},_.compatAPI=function(y){var B=j===T.ADVANCED;return B&&he.call(this),typeof y!="function"||(y(this),B&&te.call(this)),this},_.isAdvancedAPI=function(){return j===T.ADVANCED};var z,R=function(y){if(j!==T.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=_.roundToPrecision=_.__private__.roundToPrecision=function(y,B){var ne=e||B;if(isNaN(y)||isNaN(ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(ne).replace(/0+$/,"")};z=_.hpf=_.__private__.hpf=typeof u=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return U(y,u)}:u==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return U(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return U(y,16)};var K=_.f2=_.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return U(y,2)},N=_.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return U(y,3)},O=_.scale=_.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return j===T.COMPAT?y*nt:j===T.ADVANCED?y:void 0},D=function(y){return j===T.COMPAT?Or()-y:j===T.ADVANCED?y:void 0},oe=function(y){return O(D(y))};_.__private__.setPrecision=_.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var pe,de="00000000000000000000000000000000",re=_.__private__.getFileId=function(){return de},Y=_.__private__.setFileId=function(y){return de=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(hn=new hc(g.userPermissions,g.userPassword,g.ownerPassword,de)),de};_.setFileId=function(y){return Y(y),this},_.getFileId=function(){return re()};var ce=_.__private__.convertDateToPDFDate=function(y){var B=y.getTimezoneOffset(),ne=B<0?"+":"-",fe=Math.floor(Math.abs(B/60)),ye=Math.abs(B%60),ke=[ne,J(fe),"'",J(ye),"'"].join("");return["D:",y.getFullYear(),J(y.getMonth()+1),J(y.getDate()),J(y.getHours()),J(y.getMinutes()),J(y.getSeconds()),ke].join("")},ae=_.__private__.convertPDFDateToDate=function(y){var B=parseInt(y.substr(2,4),10),ne=parseInt(y.substr(6,2),10)-1,fe=parseInt(y.substr(8,2),10),ye=parseInt(y.substr(10,2),10),ke=parseInt(y.substr(12,2),10),Ve=parseInt(y.substr(14,2),10);return new Date(B,ne,fe,ye,ke,Ve,0)},Ne=_.__private__.setCreationDate=function(y){var B;if(y===void 0&&(y=new Date),y instanceof Date)B=ce(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");B=y}return pe=B},F=_.__private__.getCreationDate=function(y){var B=pe;return y==="jsDate"&&(B=ae(pe)),B};_.setCreationDate=function(y){return Ne(y),this},_.getCreationDate=function(y){return F(y)};var X,J=_.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ie=_.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},le=0,xe=[],Se=[],Le=0,$e=[],qe=[],Ze=!1,Ye=Se,pt=function(){le=0,Le=0,Se=[],xe=[],$e=[],Ui=et(),_r=et()};_.__private__.setCustomOutputDestination=function(y){Ze=!0,Ye=y};var Oe=function(y){Ze||(Ye=y)};_.__private__.resetCustomOutputDestination=function(){Ze=!1,Ye=Se};var se=_.__private__.out=function(y){return y=y.toString(),Le+=y.length+1,Ye.push(y),Ye},Pt=_.__private__.write=function(y){return se(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},lt=_.__private__.getArrayBuffer=function(y){for(var B=y.length,ne=new ArrayBuffer(B),fe=new Uint8Array(ne);B--;)fe[B]=y.charCodeAt(B);return ne},He=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];_.__private__.getStandardFonts=function(){return He};var Ke=t.fontSize||16;_.__private__.setFontSize=_.setFontSize=function(y){return Ke=j===T.ADVANCED?y/nt:y,this};var Je,Xe=_.__private__.getFontSize=_.getFontSize=function(){return j===T.COMPAT?Ke:Ke*nt},ht=t.R2L||!1;_.__private__.setR2L=_.setR2L=function(y){return ht=y,this},_.__private__.getR2L=_.getR2L=function(){return ht};var St,Ct=_.__private__.setZoomMode=function(y){var B=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))Je=y;else if(isNaN(y)){if(B.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');Je=y}else Je=parseInt(y,10)};_.__private__.getZoomMode=function(){return Je};var dt,yt=_.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');St=y};_.__private__.getPageMode=function(){return St};var Kt=_.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');dt=y};_.__private__.getLayoutMode=function(){return dt},_.__private__.setDisplayMode=_.setDisplayMode=function(y,B,ne){return Ct(y),Kt(B),yt(ne),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};_.__private__.getDocumentProperty=function(y){if(Object.keys(wt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[y]},_.__private__.getDocumentProperties=function(){return wt},_.__private__.setDocumentProperties=_.setProperties=_.setDocumentProperties=function(y){for(var B in wt)wt.hasOwnProperty(B)&&y[B]&&(wt[B]=y[B]);return this},_.__private__.setDocumentProperty=function(y,B){if(Object.keys(wt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[y]=B};var jt,nt,Bn,$t,Ir,tn={},xn={},Nr=[],Zt={},Ps={},Sn={},fr={},oi=null,En=0,gt=[],Jt=new i5(_),zi=t.hotfixes||[],Zn={},Lr={},qr=[],ot=function y(B,ne,fe,ye,ke,Ve){if(!(this instanceof y))return new y(B,ne,fe,ye,ke,Ve);isNaN(B)&&(B=1),isNaN(ne)&&(ne=0),isNaN(fe)&&(fe=0),isNaN(ye)&&(ye=1),isNaN(ke)&&(ke=0),isNaN(Ve)&&(Ve=0),this._matrix=[B,ne,fe,ye,ke,Ve]};Object.defineProperty(ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ot.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(y)},ot.prototype.multiply=function(y){var B=y.sx*this.sx+y.shy*this.shx,ne=y.sx*this.shy+y.shy*this.sy,fe=y.shx*this.sx+y.sy*this.shx,ye=y.shx*this.shy+y.sy*this.sy,ke=y.tx*this.sx+y.ty*this.shx+this.tx,Ve=y.tx*this.shy+y.ty*this.sy+this.ty;return new ot(B,ne,fe,ye,ke,Ve)},ot.prototype.decompose=function(){var y=this.sx,B=this.shy,ne=this.shx,fe=this.sy,ye=this.tx,ke=this.ty,Ve=Math.sqrt(y*y+B*B),Qe=(y/=Ve)*ne+(B/=Ve)*fe;ne-=y*Qe,fe-=B*Qe;var d=Math.sqrt(ne*ne+fe*fe);return Qe/=d,y*(fe/=d)<B*(ne/=d)&&(y=-y,B=-B,Qe=-Qe,Ve=-Ve),{scale:new ot(Ve,0,0,d,0,0),translate:new ot(1,0,0,1,ye,ke),rotate:new ot(y,B,-B,y,0,0),skew:new ot(1,0,Qe,1,0,0)}},ot.prototype.toString=function(y){return this.join(" ")},ot.prototype.inversed=function(){var y=this.sx,B=this.shy,ne=this.shx,fe=this.sy,ye=this.tx,ke=this.ty,Ve=1/(y*fe-B*ne),Qe=fe*Ve,d=-B*Ve,S=-ne*Ve,I=y*Ve;return new ot(Qe,d,S,I,-Qe*ye-S*ke,-d*ye-I*ke)},ot.prototype.applyToPoint=function(y){var B=y.x*this.sx+y.y*this.shx+this.tx,ne=y.x*this.shy+y.y*this.sy+this.ty;return new Ws(B,ne)},ot.prototype.applyToRectangle=function(y){var B=this.applyToPoint(y),ne=this.applyToPoint(new Ws(y.x+y.w,y.y+y.h));return new Gr(B.x,B.y,ne.x-B.x,ne.y-B.y)},ot.prototype.clone=function(){var y=this.sx,B=this.shy,ne=this.shx,fe=this.sy,ye=this.tx,ke=this.ty;return new ot(y,B,ne,fe,ye,ke)},_.Matrix=ot;var ai=_.matrixMult=function(y,B){return B.multiply(y)},Cr=new ot(1,0,0,1,0,0);_.unitMatrix=_.identityMatrix=Cr;var Yn=function(y,B){if(!Ps[y]){var ne=(B instanceof wu?"Sh":"P")+(Object.keys(Zt).length+1).toString(10);B.id=ne,Ps[y]=ne,Zt[ne]=B,Jt.publish("addPattern",B)}};_.ShadingPattern=wu,_.TilingPattern=Ic,_.addShadingPattern=function(y,B){return R("addShadingPattern()"),Yn(y,B),this},_.beginTilingPattern=function(y){R("beginTilingPattern()"),_o(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},_.endTilingPattern=function(y,B){R("endTilingPattern()"),B.stream=qe[X].join(`
`),Yn(y,B),Jt.publish("endTilingPattern",B),qr.pop().restore()};var an=_.__private__.newObject=function(){var y=et();return Un(y,!0),y},et=_.__private__.newObjectDeferred=function(){return le++,xe[le]=function(){return Le},le},Un=function(y,B){return B=typeof B=="boolean"&&B,xe[y]=Le,B&&se(y+" 0 obj"),y},ao=_.__private__.newAdditionalObject=function(){var y={objId:et(),content:""};return $e.push(y),y},Ui=et(),_r=et(),kr=_.__private__.decodeColorString=function(y){var B=y.split(" ");if(B.length!==2||B[1]!=="g"&&B[1]!=="G")B.length===5&&(B[4]==="k"||B[4]==="K")&&(B=[(1-B[0])*(1-B[3]),(1-B[1])*(1-B[3]),(1-B[2])*(1-B[3]),"r"]);else{var ne=parseFloat(B[0]);B=[ne,ne,ne,"r"]}for(var fe="#",ye=0;ye<3;ye++)fe+=("0"+Math.floor(255*parseFloat(B[ye])).toString(16)).slice(-2);return fe},Rr=_.__private__.encodeColorString=function(y){var B;typeof y=="string"&&(y={ch1:y});var ne=y.ch1,fe=y.ch2,ye=y.ch3,ke=y.ch4,Ve=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ne=="string"&&ne.charAt(0)!=="#"){var Qe=new DS(ne);if(Qe.ok)ne=Qe.toHex();else if(!/^\d*\.?\d*$/.test(ne))throw new Error('Invalid color "'+ne+'" passed to jsPDF.encodeColorString.')}if(typeof ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ne)&&(ne="#"+ne[1]+ne[1]+ne[2]+ne[2]+ne[3]+ne[3]),typeof ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ne)){var d=parseInt(ne.substr(1),16);ne=d>>16&255,fe=d>>8&255,ye=255&d}if(fe===void 0||ke===void 0&&ne===fe&&fe===ye)if(typeof ne=="string")B=ne+" "+Ve[0];else switch(y.precision){case 2:B=K(ne/255)+" "+Ve[0];break;case 3:default:B=N(ne/255)+" "+Ve[0]}else if(ke===void 0||yn(ke)==="object"){if(ke&&!isNaN(ke.a)&&ke.a===0)return B=["1.","1.","1.",Ve[1]].join(" ");if(typeof ne=="string")B=[ne,fe,ye,Ve[1]].join(" ");else switch(y.precision){case 2:B=[K(ne/255),K(fe/255),K(ye/255),Ve[1]].join(" ");break;default:case 3:B=[N(ne/255),N(fe/255),N(ye/255),Ve[1]].join(" ")}}else if(typeof ne=="string")B=[ne,fe,ye,ke,Ve[2]].join(" ");else switch(y.precision){case 2:B=[K(ne),K(fe),K(ye),K(ke),Ve[2]].join(" ");break;case 3:default:B=[N(ne),N(fe),N(ye),N(ke),Ve[2]].join(" ")}return B},Qn=_.__private__.getFilters=function(){return a},Vn=_.__private__.putStream=function(y){var B=(y=y||{}).data||"",ne=y.filters||Qn(),fe=y.alreadyAppliedFilters||[],ye=y.addLength1||!1,ke=B.length,Ve=y.objectId,Qe=function(kt){return kt};if(g!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Qe=hn.encryptor(Ve,0));var d={};ne===!0&&(ne=["FlateEncode"]);var S=y.additionalKeyValues||[],I=(d=xt.API.processDataByFilters!==void 0?xt.API.processDataByFilters(B,ne):{data:B,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(d.data.length!==0&&(S.push({key:"Length",value:d.data.length}),ye===!0&&S.push({key:"Length1",value:ke})),I.length!=0)if(I.split("/").length-1==1)S.push({key:"Filter",value:I});else{S.push({key:"Filter",value:"["+I+"]"});for(var G=0;G<S.length;G+=1)if(S[G].key==="DecodeParms"){for(var ve=[],Ae=0;Ae<d.reverseChain.split("/").length-1;Ae+=1)ve.push("null");ve.push(S[G].value),S[G].value="["+ve.join(" ")+"]"}}se("<<");for(var Ue=0;Ue<S.length;Ue++)se("/"+S[Ue].key+" "+S[Ue].value);se(">>"),d.data.length!==0&&(se("stream"),se(Qe(d.data)),se("endstream"))},Ti=_.__private__.putPage=function(y){var B=y.number,ne=y.data,fe=y.objId,ye=y.contentsObjId;Un(fe,!0),se("<</Type /Page"),se("/Parent "+y.rootDictionaryObjId+" 0 R"),se("/Resources "+y.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(z(y.mediaBox.bottomLeftX))+" "+parseFloat(z(y.mediaBox.bottomLeftY))+" "+z(y.mediaBox.topRightX)+" "+z(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&se("/CropBox ["+z(y.cropBox.bottomLeftX)+" "+z(y.cropBox.bottomLeftY)+" "+z(y.cropBox.topRightX)+" "+z(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&se("/BleedBox ["+z(y.bleedBox.bottomLeftX)+" "+z(y.bleedBox.bottomLeftY)+" "+z(y.bleedBox.topRightX)+" "+z(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&se("/TrimBox ["+z(y.trimBox.bottomLeftX)+" "+z(y.trimBox.bottomLeftY)+" "+z(y.trimBox.topRightX)+" "+z(y.trimBox.topRightY)+"]"),y.artBox!==null&&se("/ArtBox ["+z(y.artBox.bottomLeftX)+" "+z(y.artBox.bottomLeftY)+" "+z(y.artBox.topRightX)+" "+z(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&se("/UserUnit "+y.userUnit),Jt.publish("putPage",{objId:fe,pageContext:gt[B],pageNumber:B,page:ne}),se("/Contents "+ye+" 0 R"),se(">>"),se("endobj");var ke=ne.join(`
`);return j===T.ADVANCED&&(ke+=`
Q`),Un(ye,!0),Vn({data:ke,filters:Qn(),objectId:ye}),se("endobj"),fe},Ts=_.__private__.putPages=function(){var y,B,ne=[];for(y=1;y<=En;y++)gt[y].objId=et(),gt[y].contentsObjId=et();for(y=1;y<=En;y++)ne.push(Ti({number:y,data:qe[y],objId:gt[y].objId,contentsObjId:gt[y].contentsObjId,mediaBox:gt[y].mediaBox,cropBox:gt[y].cropBox,bleedBox:gt[y].bleedBox,trimBox:gt[y].trimBox,artBox:gt[y].artBox,userUnit:gt[y].userUnit,rootDictionaryObjId:Ui,resourceDictionaryObjId:_r}));Un(Ui,!0),se("<</Type /Pages");var fe="/Kids [";for(B=0;B<En;B++)fe+=ne[B]+" 0 R ";se(fe+"]"),se("/Count "+En),se(">>"),se("endobj"),Jt.publish("postPutPages")},Is=function(y){Jt.publish("putFont",{font:y,out:se,newObject:an,putStream:Vn}),y.isAlreadyPutted!==!0&&(y.objectNumber=an(),se("<<"),se("/Type /Font"),se("/BaseFont /"+fc(y.postScriptName)),se("/Subtype /Type1"),typeof y.encoding=="string"&&se("/Encoding /"+y.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Ns=function(){for(var y in tn)tn.hasOwnProperty(y)&&(v===!1||v===!0&&b.hasOwnProperty(y))&&Is(tn[y])},Ls=function(y){y.objectNumber=an();var B=[];B.push({key:"Type",value:"/XObject"}),B.push({key:"Subtype",value:"/Form"}),B.push({key:"BBox",value:"["+[z(y.x),z(y.y),z(y.x+y.width),z(y.y+y.height)].join(" ")+"]"}),B.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var ne=y.pages[1].join(`
`);Vn({data:ne,additionalKeyValues:B,objectId:y.objectNumber}),se("endobj")},lo=function(){for(var y in Zn)Zn.hasOwnProperty(y)&&Ls(Zn[y])},uo=function(y,B){var ne,fe=[],ye=1/(B-1);for(ne=0;ne<1;ne+=ye)fe.push(ne);if(fe.push(1),y[0].offset!=0){var ke={offset:0,color:y[0].color};y.unshift(ke)}if(y[y.length-1].offset!=1){var Ve={offset:1,color:y[y.length-1].color};y.push(Ve)}for(var Qe="",d=0,S=0;S<fe.length;S++){for(ne=fe[S];ne>y[d+1].offset;)d++;var I=y[d].offset,G=(ne-I)/(y[d+1].offset-I),ve=y[d].color,Ae=y[d+1].color;Qe+=ie(Math.round((1-G)*ve[0]+G*Ae[0]).toString(16))+ie(Math.round((1-G)*ve[1]+G*Ae[1]).toString(16))+ie(Math.round((1-G)*ve[2]+G*Ae[2]).toString(16))}return Qe.trim()},Uo=function(y,B){B||(B=21);var ne=an(),fe=uo(y.colors,B),ye=[];ye.push({key:"FunctionType",value:"0"}),ye.push({key:"Domain",value:"[0.0 1.0]"}),ye.push({key:"Size",value:"["+B+"]"}),ye.push({key:"BitsPerSample",value:"8"}),ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vn({data:fe,additionalKeyValues:ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ne}),se("endobj"),y.objectNumber=an(),se("<< /ShadingType "+y.type),se("/ColorSpace /DeviceRGB");var ke="/Coords ["+z(parseFloat(y.coords[0]))+" "+z(parseFloat(y.coords[1]))+" ";y.type===2?ke+=z(parseFloat(y.coords[2]))+" "+z(parseFloat(y.coords[3])):ke+=z(parseFloat(y.coords[2]))+" "+z(parseFloat(y.coords[3]))+" "+z(parseFloat(y.coords[4]))+" "+z(parseFloat(y.coords[5])),se(ke+="]"),y.matrix&&se("/Matrix ["+y.matrix.toString()+"]"),se("/Function "+ne+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},el=function(y,B){var ne=et(),fe=an();B.push({resourcesOid:ne,objectOid:fe}),y.objectNumber=fe;var ye=[];ye.push({key:"Type",value:"/Pattern"}),ye.push({key:"PatternType",value:"1"}),ye.push({key:"PaintType",value:"1"}),ye.push({key:"TilingType",value:"1"}),ye.push({key:"BBox",value:"["+y.boundingBox.map(z).join(" ")+"]"}),ye.push({key:"XStep",value:z(y.xStep)}),ye.push({key:"YStep",value:z(y.yStep)}),ye.push({key:"Resources",value:ne+" 0 R"}),y.matrix&&ye.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Vn({data:y.stream,additionalKeyValues:ye,objectId:y.objectNumber}),se("endobj")},Cs=function(y){var B;for(B in Zt)Zt.hasOwnProperty(B)&&(Zt[B]instanceof wu?Uo(Zt[B]):Zt[B]instanceof Ic&&el(Zt[B],y))},ks=function(y){for(var B in y.objectNumber=an(),se("<<"),y)switch(B){case"opacity":se("/ca "+K(y[B]));break;case"stroke-opacity":se("/CA "+K(y[B]))}se(">>"),se("endobj")},os=function(){var y;for(y in Sn)Sn.hasOwnProperty(y)&&ks(Sn[y])},as=function(){for(var y in se("/XObject <<"),Zn)Zn.hasOwnProperty(y)&&Zn[y].objectNumber>=0&&se("/"+y+" "+Zn[y].objectNumber+" 0 R");Jt.publish("putXobjectDict"),se(">>")},co=function(){hn.oid=an(),se("<<"),se("/Filter /Standard"),se("/V "+hn.v),se("/R "+hn.r),se("/U <"+hn.toHexString(hn.U)+">"),se("/O <"+hn.toHexString(hn.O)+">"),se("/P "+hn.P),se(">>"),se("endobj")},qo=function(){for(var y in se("/Font <<"),tn)tn.hasOwnProperty(y)&&(v===!1||v===!0&&b.hasOwnProperty(y))&&se("/"+y+" "+tn[y].objectNumber+" 0 R");se(">>")},ya=function(){if(Object.keys(Zt).length>0){for(var y in se("/Shading <<"),Zt)Zt.hasOwnProperty(y)&&Zt[y]instanceof wu&&Zt[y].objectNumber>=0&&se("/"+y+" "+Zt[y].objectNumber+" 0 R");Jt.publish("putShadingPatternDict"),se(">>")}},Ii=function(y){if(Object.keys(Zt).length>0){for(var B in se("/Pattern <<"),Zt)Zt.hasOwnProperty(B)&&Zt[B]instanceof _.TilingPattern&&Zt[B].objectNumber>=0&&Zt[B].objectNumber<y&&se("/"+B+" "+Zt[B].objectNumber+" 0 R");Jt.publish("putTilingPatternDict"),se(">>")}},Ut=function(){if(Object.keys(Sn).length>0){var y;for(y in se("/ExtGState <<"),Sn)Sn.hasOwnProperty(y)&&Sn[y].objectNumber>=0&&se("/"+y+" "+Sn[y].objectNumber+" 0 R");Jt.publish("putGStateDict"),se(">>")}},Tt=function(y){Un(y.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),qo(),ya(),Ii(y.objectOid),Ut(),as(),se(">>"),se("endobj")},Rs=function(){var y=[];Ns(),os(),lo(),Cs(y),Jt.publish("putResources"),y.forEach(Tt),Tt({resourcesOid:_r,objectOid:Number.MAX_SAFE_INTEGER}),Jt.publish("postPutResources")},qi=function(){Jt.publish("putAdditionalObjects");for(var y=0;y<$e.length;y++){var B=$e[y];Un(B.objId,!0),se(B.content),se("endobj")}Jt.publish("postPutAdditionalObjects")},ls=function(y){xn[y.fontName]=xn[y.fontName]||{},xn[y.fontName][y.fontStyle]=y.id},ho=function(y,B,ne,fe,ye){var ke={id:"F"+(Object.keys(tn).length+1).toString(10),postScriptName:y,fontName:B,fontStyle:ne,encoding:fe,isStandardFont:ye||!1,metadata:{}};return Jt.publish("addFont",{font:ke,instance:this}),tn[ke.id]=ke,ls(ke),ke.id},Lt=function(y){for(var B=0,ne=He.length;B<ne;B++){var fe=ho.call(this,y[B][0],y[B][1],y[B][2],He[B][3],!0);v===!1&&(b[fe]=!0);var ye=y[B][0].split("-");ls({id:fe,fontName:ye[0],fontStyle:ye[1]||""})}Jt.publish("addFonts",{fonts:tn,dictionary:xn})},Yt=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(fe){var B=fe.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var ne="Error in function "+B.split(`
`)[0].split("<")[0]+": "+fe.message;if(!It.console)throw new Error(ne);It.console.error(ne,fe),It.alert&&alert(ne)}},y.foo.bar=y,y.foo},Os=function(y,B){var ne,fe,ye,ke,Ve,Qe,d,S,I;if(ye=(B=B||{}).sourceEncoding||"Unicode",Ve=B.outputEncoding,(B.autoencode||Ve)&&tn[jt].metadata&&tn[jt].metadata[ye]&&tn[jt].metadata[ye].encoding&&(ke=tn[jt].metadata[ye].encoding,!Ve&&tn[jt].encoding&&(Ve=tn[jt].encoding),!Ve&&ke.codePages&&(Ve=ke.codePages[0]),typeof Ve=="string"&&(Ve=ke[Ve]),Ve)){for(d=!1,Qe=[],ne=0,fe=y.length;ne<fe;ne++)(S=Ve[y.charCodeAt(ne)])?Qe.push(String.fromCharCode(S)):Qe.push(y[ne]),Qe[ne].charCodeAt(0)>>8&&(d=!0);y=Qe.join("")}for(ne=y.length;d===void 0&&ne!==0;)y.charCodeAt(ne-1)>>8&&(d=!0),ne--;if(!d)return y;for(Qe=B.noBOM?[]:[254,255],ne=0,fe=y.length;ne<fe;ne++){if((I=(S=y.charCodeAt(ne))>>8)>>8)throw new Error("Character at position "+ne+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qe.push(I),Qe.push(S-(I<<8))}return String.fromCharCode.apply(void 0,Qe)},Tn=_.__private__.pdfEscape=_.pdfEscape=function(y,B){return Os(y,B).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},An=_.__private__.beginPage=function(y){qe[++En]=[],gt[En]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},Ni(En),Oe(qe[X])},fo=function(y,B){var ne,fe,ye;switch(n=B||n,typeof y=="string"&&(ne=E(y.toLowerCase()),Array.isArray(ne)&&(fe=ne[0],ye=ne[1])),Array.isArray(y)&&(fe=y[0]*nt,ye=y[1]*nt),isNaN(fe)&&(fe=i[0],ye=i[1]),(fe>14400||ye>14400)&&(Ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),ye=Math.min(14400,ye)),i=[fe,ye],n.substr(0,1)){case"l":ye>fe&&(i=[ye,fe]);break;case"p":fe>ye&&(i=[ye,fe])}An(i),Ea(Ho),se(ir),Pa!==0&&se(Pa+" J"),yr!==0&&se(yr+" j"),Jt.publish("addPage",{pageNumber:En})},us=function(y){y>0&&y<=En&&(qe.splice(y,1),gt.splice(y,1),En--,X>En&&(X=En),this.setPage(X))},Ni=function(y){y>0&&y<=En&&(X=y)},Et=_.__private__.getNumberOfPages=_.getNumberOfPages=function(){return qe.length-1},Wr=function(y,B,ne){var fe,ye=void 0;return ne=ne||{},y=y!==void 0?y:tn[jt].fontName,B=B!==void 0?B:tn[jt].fontStyle,fe=y.toLowerCase(),xn[fe]!==void 0&&xn[fe][B]!==void 0?ye=xn[fe][B]:xn[y]!==void 0&&xn[y][B]!==void 0?ye=xn[y][B]:ne.disableWarning===!1&&Ln.warn("Unable to look up font label for font '"+y+"', '"+B+"'. Refer to getFontList() for available fonts."),ye||ne.noFallback||(ye=xn.times[B])==null&&(ye=xn.times.normal),ye},Li=_.__private__.putInfo=function(){var y=an(),B=function(fe){return fe};for(var ne in g!==null&&(B=hn.encryptor(y,0)),se("<<"),se("/Producer ("+Tn(B("jsPDF "+xt.version))+")"),wt)wt.hasOwnProperty(ne)&&wt[ne]&&se("/"+ne.substr(0,1).toUpperCase()+ne.substr(1)+" ("+Tn(B(wt[ne]))+")");se("/CreationDate ("+Tn(B(pe))+")"),se(">>"),se("endobj")},Hr=_.__private__.putCatalog=function(y){var B=(y=y||{}).rootDictionaryObjId||Ui;switch(an(),se("<<"),se("/Type /Catalog"),se("/Pages "+B+" 0 R"),Je||(Je="fullwidth"),Je){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ne=""+Je;ne.substr(ne.length-1)==="%"&&(Je=parseInt(Je)/100),typeof Je=="number"&&se("/OpenAction [3 0 R /XYZ null null "+K(Je)+"]")}switch(dt||(dt="continuous"),dt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}St&&se("/PageMode /"+St),Jt.publish("putCatalog"),se(">>"),se("endobj")},wa=_.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(le+1)),se("/Root "+le+" 0 R"),se("/Info "+(le-1)+" 0 R"),g!==null&&se("/Encrypt "+hn.oid+" 0 R"),se("/ID [ <"+de+"> <"+de+"> ]"),se(">>")},Ms=_.__private__.putHeader=function(){se("%PDF-"+k),se("%")},ba=_.__private__.putXRef=function(){var y="0000000000";se("xref"),se("0 "+(le+1)),se("0000000000 65535 f ");for(var B=1;B<=le;B++)typeof xe[B]=="function"?se((y+xe[B]()).slice(-10)+" 00000 n "):xe[B]!==void 0?se((y+xe[B]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Ci=_.__private__.buildDocument=function(){pt(),Oe(Se),Jt.publish("buildDocument"),Ms(),Ts(),qi(),Rs(),g!==null&&co(),Li(),Hr();var y=Le;return ba(),wa(),se("startxref"),se(""+y),se("%%EOF"),Oe(qe[X]),Se.join(`
`)},cs=_.__private__.getBlob=function(y){return new Blob([lt(y)],{type:"application/pdf"})},Ds=_.output=_.__private__.output=Yt(function(y,B){switch(typeof(B=B||{})=="string"?B={filename:B}:B.filename=B.filename||"generated.pdf",y){case void 0:return Ci();case"save":_.save(B.filename);break;case"arraybuffer":return lt(Ci());case"blob":return cs(Ci());case"bloburi":case"bloburl":if(It.URL!==void 0&&typeof It.URL.createObjectURL=="function")return It.URL&&It.URL.createObjectURL(cs(Ci()))||void 0;Ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ne="",fe=Ci();try{ne=k0(fe)}catch{ne=k0(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+B.filename+";base64,"+ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';B.pdfObjectUrl&&(ye=B.pdfObjectUrl,ke="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ye+'"'+ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(B)+");<\/script></body></html>",Qe=It.open();return Qe!==null&&Qe.document.write(Ve),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(B.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+B.filename+'" width="500px" height="400px" /></body></html>',S=It.open();if(S!==null){S.document.write(d);var I=this;S.document.documentElement.querySelector("#pdfViewer").onload=function(){S.document.title=B.filename,S.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(I.output("bloburl"))}}return S}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(It)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var G='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",B)+'"></iframe></body></html>',ve=It.open();if(ve!==null&&(ve.document.write(G),ve.document.title=B.filename),ve||typeof safari>"u")return ve;break;case"datauri":case"dataurl":return It.document.location.href=this.output("datauristring",B);default:return null}}),Wi=function(y){return Array.isArray(zi)===!0&&zi.indexOf(y)>-1};switch(r){case"pt":nt=1;break;case"mm":nt=72/25.4;break;case"cm":nt=72/2.54;break;case"in":nt=72;break;case"px":nt=Wi("px_scaling")==1?.75:96/72;break;case"pc":case"em":nt=12;break;case"ex":nt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);nt=r}var hn=null;Ne(),Y();var xa=function(y){return g!==null?hn.encryptor(y,0):function(B){return B}},po=_.__private__.getPageInfo=_.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[y].objId,pageNumber:y,pageContext:gt[y]}},At=_.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var B in gt)if(gt[B].objId===y)break;return po(B)},_t=_.__private__.getCurrentPageInfo=_.getCurrentPageInfo=function(){return{objId:gt[X].objId,pageNumber:X,pageContext:gt[X]}};_.addPage=function(){return fo.apply(this,arguments),this},_.setPage=function(){return Ni.apply(this,arguments),Oe.call(this,qe[X]),this},_.insertPage=function(y){return this.addPage(),this.movePage(X,y),this},_.movePage=function(y,B){var ne,fe;if(y>B){ne=qe[y],fe=gt[y];for(var ye=y;ye>B;ye--)qe[ye]=qe[ye-1],gt[ye]=gt[ye-1];qe[B]=ne,gt[B]=fe,this.setPage(B)}else if(y<B){ne=qe[y],fe=gt[y];for(var ke=y;ke<B;ke++)qe[ke]=qe[ke+1],gt[ke]=gt[ke+1];qe[B]=ne,gt[B]=fe,this.setPage(B)}return this},_.deletePage=function(){return us.apply(this,arguments),this},_.__private__.text=_.text=function(y,B,ne,fe,ye){var ke,Ve,Qe,d,S,I,G,ve,Ae,Ue=(fe=fe||{}).scope||this;if(typeof y=="number"&&typeof B=="number"&&(typeof ne=="string"||Array.isArray(ne))){var kt=ne;ne=B,B=y,y=kt}if(arguments[3]instanceof ot?(R("The transform parameter of text() with a Matrix value"),Ae=ye):(Qe=arguments[4],d=arguments[5],yn(G=arguments[3])==="object"&&G!==null||(typeof Qe=="string"&&(d=Qe,Qe=null),typeof G=="string"&&(d=G,G=null),typeof G=="number"&&(Qe=G,G=null),fe={flags:G,angle:Qe,align:d})),isNaN(B)||isNaN(ne)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Ue;var Ht="",Rt=!1,Vt=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:ln,nn=Ue.internal.scaleFactor;function ds(dn){return dn=dn.split("	").join(Array(fe.TabLen||9).join(" ")),Tn(dn,G)}function In(dn){for(var pn,Wn=dn.concat(),mn=[],Ys=Wn.length;Ys--;)typeof(pn=Wn.shift())=="string"?mn.push(pn):Array.isArray(dn)&&(pn.length===1||pn[1]===void 0&&pn[2]===void 0)?mn.push(pn[0]):mn.push([pn[0],pn[1],pn[2]]);return mn}function $s(dn,pn){var Wn;if(typeof dn=="string")Wn=pn(dn)[0];else if(Array.isArray(dn)){for(var mn,Ys,sl=dn.concat(),Qs=[],Qu=sl.length;Qu--;)typeof(mn=sl.shift())=="string"?Qs.push(pn(mn)[0]):Array.isArray(mn)&&typeof mn[0]=="string"&&(Ys=pn(mn[0],mn[1],mn[2]),Qs.push([Ys[0],Ys[1],Ys[2]]));Wn=Qs}return Wn}var Kr=!1,lu=!0;if(typeof y=="string")Kr=!0;else if(Array.isArray(y)){var wo=y.concat();Ve=[];for(var Ta,Xn=wo.length;Xn--;)(typeof(Ta=wo.shift())!="string"||Array.isArray(Ta)&&typeof Ta[0]!="string")&&(lu=!1);Kr=lu}if(Kr===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var tl=Ke/Ue.internal.scaleFactor,ki=tl*(Vt-1);switch(fe.baseline){case"bottom":ne-=ki;break;case"top":ne+=tl-ki;break;case"hanging":ne+=tl-2*ki;break;case"middle":ne+=tl/2-ki}if((I=fe.maxWidth||0)>0&&(typeof y=="string"?y=Ue.splitTextToSize(y,I):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(dn,pn){return dn.concat(Ue.splitTextToSize(pn,I))},[]))),ke={text:y,x:B,y:ne,options:fe,mutex:{pdfEscape:Tn,activeFontKey:jt,fonts:tn,activeFontSize:Ke}},Jt.publish("preProcessText",ke),y=ke.text,Qe=(fe=ke.options).angle,!(Ae instanceof ot)&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,fe.rotationDirection===0&&(Qe=-Qe),j===T.ADVANCED&&(Qe=-Qe);var bo=Math.cos(Qe),uu=Math.sin(Qe);Ae=new ot(bo,uu,-uu,bo,0,0)}else Qe&&Qe instanceof ot&&(Ae=Qe);j!==T.ADVANCED||Ae||(Ae=Cr),(S=fe.charSpace||vo)!==void 0&&(Ht+=z(O(S))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ve=fe.horizontalScale)!==void 0&&(Ht+=z(100*ve)+` Tz
`),fe.lang;var Mr=-1,bh=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Ri=Ue.internal.getCurrentPageInfo().pageContext;switch(bh){case 0:case!1:case"fill":Mr=0;break;case 1:case!0:case"stroke":Mr=1;break;case 2:case"fillThenStroke":Mr=2;break;case 3:case"invisible":Mr=3;break;case 4:case"fillAndAddForClipping":Mr=4;break;case 5:case"strokeAndAddPathForClipping":Mr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Mr=6;break;case 7:case"addToPathForClipping":Mr=7}var Yu=Ri.usedRenderingMode!==void 0?Ri.usedRenderingMode:-1;Mr!==-1?Ht+=Mr+` Tr
`:Yu!==-1&&(Ht+=`0 Tr
`),Mr!==-1&&(Ri.usedRenderingMode=Mr),d=fe.align||"left";var wr,nl=Ke*Vt,Gi=Ue.internal.pageSize.getWidth(),Ia=tn[jt];S=fe.charSpace||vo,I=fe.maxWidth||0,G=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var xo=[],So=function(dn){return Ue.getStringUnitWidth(dn,{font:Ia,charSpace:S,fontSize:Ke,doKerning:!1})*Ke/nn};if(Object.prototype.toString.call(y)==="[object Array]"){var br;Ve=In(y),d!=="left"&&(wr=Ve.map(So));var xr,ps=0;if(d==="right"){B-=wr[0],y=[],Xn=Ve.length;for(var ci=0;ci<Xn;ci++)ci===0?(xr=kn(B),br=Rn(ne)):(xr=O(ps-wr[ci]),br=-nl),y.push([Ve[ci],xr,br]),ps=wr[ci]}else if(d==="center"){B-=wr[0]/2,y=[],Xn=Ve.length;for(var Ki=0;Ki<Xn;Ki++)Ki===0?(xr=kn(B),br=Rn(ne)):(xr=O((ps-wr[Ki])/2),br=-nl),y.push([Ve[Ki],xr,br]),ps=wr[Ki]}else if(d==="left"){y=[],Xn=Ve.length;for(var Qo=0;Qo<Xn;Qo++)y.push(Ve[Qo])}else if(d==="justify"&&Ia.encoding==="Identity-H"){y=[],Xn=Ve.length,I=I!==0?I:Gi;for(var Gs=0,qn=0;qn<Xn;qn++)if(br=qn===0?Rn(ne):-nl,xr=qn===0?kn(B):Gs,qn<Xn-1){var Xo=O((I-wr[qn])/(Ve[qn].split(" ").length-1)),Zr=Ve[qn].split(" ");y.push([Zr[0]+" ",xr,br]),Gs=0;for(var Oi=1;Oi<Zr.length;Oi++){var rl=(So(Zr[Oi-1]+" "+Zr[Oi])-So(Zr[Oi]))*nn+Xo;Oi==Zr.length-1?y.push([Zr[Oi],rl,0]):y.push([Zr[Oi]+" ",rl,0]),Gs-=rl}}else y.push([Ve[qn],xr,br]);y.push(["",Gs,0])}else{if(d!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],Xn=Ve.length,I=I!==0?I:Gi,qn=0;qn<Xn;qn++)br=qn===0?Rn(ne):-nl,xr=qn===0?kn(B):0,qn<Xn-1?xo.push(z(O((I-wr[qn])/(Ve[qn].split(" ").length-1)))):xo.push(0),y.push([Ve[qn],xr,br])}}var cu=typeof fe.R2L=="boolean"?fe.R2L:ht;cu===!0&&(y=$s(y,function(dn,pn,Wn){return[dn.split("").reverse().join(""),pn,Wn]})),ke={text:y,x:B,y:ne,options:fe,mutex:{pdfEscape:Tn,activeFontKey:jt,fonts:tn,activeFontSize:Ke}},Jt.publish("postProcessText",ke),y=ke.text,Rt=ke.mutex.isHex||!1;var hu=tn[jt].encoding;hu!=="WinAnsiEncoding"&&hu!=="StandardEncoding"||(y=$s(y,function(dn,pn,Wn){return[ds(dn),pn,Wn]})),Ve=In(y),y=[];for(var Dr,Ks,Jo,Zs=0,il=1,ea=Array.isArray(Ve[0])?il:Zs,ta="",Eo=function(dn,pn,Wn){var mn="";return Wn instanceof ot?(Wn=typeof fe.angle=="number"?ai(Wn,new ot(1,0,0,1,dn,pn)):ai(new ot(1,0,0,1,dn,pn),Wn),j===T.ADVANCED&&(Wn=ai(new ot(1,0,0,-1,0,0),Wn)),mn=Wn.join(" ")+` Tm
`):mn=z(dn)+" "+z(pn)+` Td
`,mn},Zi=0;Zi<Ve.length;Zi++){switch(ta="",ea){case il:Jo=(Rt?"<":"(")+Ve[Zi][0]+(Rt?">":")"),Dr=parseFloat(Ve[Zi][1]),Ks=parseFloat(Ve[Zi][2]);break;case Zs:Jo=(Rt?"<":"(")+Ve[Zi]+(Rt?">":")"),Dr=kn(B),Ks=Rn(ne)}xo!==void 0&&xo[Zi]!==void 0&&(ta=xo[Zi]+` Tw
`),Zi===0?y.push(ta+Eo(Dr,Ks,Ae)+Jo):ea===Zs?y.push(ta+Jo):ea===il&&y.push(ta+Eo(Dr,Ks,Ae)+Jo)}y=ea===Zs?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var Sr=`BT
/`;return Sr+=jt+" "+Ke+` Tf
`,Sr+=z(Ke*Vt)+` TL
`,Sr+=$i+`
`,Sr+=Ht,Sr+=y,se(Sr+="ET"),b[jt]=!0,Ue};var li=_.__private__.clip=_.clip=function(y){return se(y==="evenodd"?"W*":"W"),this};_.clipEvenOdd=function(){return li("evenodd")},_.__private__.discardPath=_.discardPath=function(){return se("n"),this};var Wt=_.__private__.isValidStyle=function(y){var B=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(B=!0),B};_.__private__.setDefaultPathOperation=_.setDefaultPathOperation=function(y){return Wt(y)&&(f=y),this};var Sa=_.__private__.getStyle=_.getStyle=function(y){var B=f;switch(y){case"D":case"S":B="S";break;case"F":B="f";break;case"FD":case"DF":B="B";break;case"f":case"f*":case"B":case"B*":B=y}return B},$r=_.close=function(){return se("h"),this};_.stroke=function(){return se("S"),this},_.fill=function(y){return Fs("f",y),this},_.fillEvenOdd=function(y){return Fs("f*",y),this},_.fillStroke=function(y){return Fs("B",y),this},_.fillStrokeEvenOdd=function(y){return Fs("B*",y),this};var Fs=function(y,B){yn(B)==="object"?js(B,y):se(y)},mo=function(y){y===null||j===T.ADVANCED&&y===void 0||(y=Sa(y),se(y))};function ui(y,B,ne,fe,ye){var ke=new Ic(B||this.boundingBox,ne||this.xStep,fe||this.yStep,this.gState,ye||this.matrix);ke.stream=this.stream;var Ve=y+"$$"+this.cloneIndex+++"$$";return Yn(Ve,ke),ke}var js=function(y,B){var ne=Ps[y.key],fe=Zt[ne];if(fe instanceof wu)se("q"),se(Bs(B)),fe.gState&&_.setGState(fe.gState),se(y.matrix.toString()+" cm"),se("/"+ne+" sh"),se("Q");else if(fe instanceof Ic){var ye=new ot(1,0,0,-1,0,Or());y.matrix&&(ye=ye.multiply(y.matrix||Cr),ne=ui.call(fe,y.key,y.boundingBox,y.xStep,y.yStep,ye).id),se("q"),se("/Pattern cs"),se("/"+ne+" scn"),fe.gState&&_.setGState(fe.gState),se(B),se("Q")}},Bs=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},fn=_.moveTo=function(y,B){return se(z(O(y))+" "+z(oe(B))+" m"),this},rr=_.lineTo=function(y,B){return se(z(O(y))+" "+z(oe(B))+" l"),this},Hi=_.curveTo=function(y,B,ne,fe,ye,ke){return se([z(O(y)),z(oe(B)),z(O(ne)),z(oe(fe)),z(O(ye)),z(oe(ke)),"c"].join(" ")),this};_.__private__.line=_.line=function(y,B,ne,fe,ye){if(isNaN(y)||isNaN(B)||isNaN(ne)||isNaN(fe)||!Wt(ye))throw new Error("Invalid arguments passed to jsPDF.line");return j===T.COMPAT?this.lines([[ne-y,fe-B]],y,B,[1,1],ye||"S"):this.lines([[ne-y,fe-B]],y,B,[1,1]).stroke()},_.__private__.lines=_.lines=function(y,B,ne,fe,ye,ke){var Ve,Qe,d,S,I,G,ve,Ae,Ue,kt,Ht,Rt;if(typeof y=="number"&&(Rt=ne,ne=B,B=y,y=Rt),fe=fe||[1,1],ke=ke||!1,isNaN(B)||isNaN(ne)||!Array.isArray(y)||!Array.isArray(fe)||!Wt(ye)||typeof ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(fn(B,ne),Ve=fe[0],Qe=fe[1],S=y.length,kt=B,Ht=ne,d=0;d<S;d++)(I=y[d]).length===2?(kt=I[0]*Ve+kt,Ht=I[1]*Qe+Ht,rr(kt,Ht)):(G=I[0]*Ve+kt,ve=I[1]*Qe+Ht,Ae=I[2]*Ve+kt,Ue=I[3]*Qe+Ht,kt=I[4]*Ve+kt,Ht=I[5]*Qe+Ht,Hi(G,ve,Ae,Ue,kt,Ht));return ke&&$r(),mo(ye),this},_.path=function(y){for(var B=0;B<y.length;B++){var ne=y[B],fe=ne.c;switch(ne.op){case"m":fn(fe[0],fe[1]);break;case"l":rr(fe[0],fe[1]);break;case"c":Hi.apply(this,fe);break;case"h":$r()}}return this},_.__private__.rect=_.rect=function(y,B,ne,fe,ye){if(isNaN(y)||isNaN(B)||isNaN(ne)||isNaN(fe)||!Wt(ye))throw new Error("Invalid arguments passed to jsPDF.rect");return j===T.COMPAT&&(fe=-fe),se([z(O(y)),z(oe(B)),z(O(ne)),z(O(fe)),"re"].join(" ")),mo(ye),this},_.__private__.triangle=_.triangle=function(y,B,ne,fe,ye,ke,Ve){if(isNaN(y)||isNaN(B)||isNaN(ne)||isNaN(fe)||isNaN(ye)||isNaN(ke)||!Wt(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ne-y,fe-B],[ye-ne,ke-fe],[y-ye,B-ke]],y,B,[1,1],Ve,!0),this},_.__private__.roundedRect=_.roundedRect=function(y,B,ne,fe,ye,ke,Ve){if(isNaN(y)||isNaN(B)||isNaN(ne)||isNaN(fe)||isNaN(ye)||isNaN(ke)||!Wt(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return ye=Math.min(ye,.5*ne),ke=Math.min(ke,.5*fe),this.lines([[ne-2*ye,0],[ye*Qe,0,ye,ke-ke*Qe,ye,ke],[0,fe-2*ke],[0,ke*Qe,-ye*Qe,ke,-ye,ke],[2*ye-ne,0],[-ye*Qe,0,-ye,-ke*Qe,-ye,-ke],[0,2*ke-fe],[0,-ke*Qe,ye*Qe,-ke,ye,-ke]],y+ye,B,[1,1],Ve,!0),this},_.__private__.ellipse=_.ellipse=function(y,B,ne,fe,ye){if(isNaN(y)||isNaN(B)||isNaN(ne)||isNaN(fe)||!Wt(ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ke=4/3*(Math.SQRT2-1)*ne,Ve=4/3*(Math.SQRT2-1)*fe;return fn(y+ne,B),Hi(y+ne,B-Ve,y+ke,B-fe,y,B-fe),Hi(y-ke,B-fe,y-ne,B-Ve,y-ne,B),Hi(y-ne,B+Ve,y-ke,B+fe,y,B+fe),Hi(y+ke,B+fe,y+ne,B+Ve,y+ne,B),mo(ye),this},_.__private__.circle=_.circle=function(y,B,ne,fe){if(isNaN(y)||isNaN(B)||isNaN(ne)||!Wt(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,B,ne,ne,fe)},_.setFont=function(y,B,ne){return ne&&(B=we(B,ne)),jt=Wr(y,B,{disableWarning:!1}),this};var Wo=_.__private__.getFont=_.getFont=function(){return tn[Wr.apply(_,arguments)]};_.__private__.getFontList=_.getFontList=function(){var y,B,ne={};for(y in xn)if(xn.hasOwnProperty(y))for(B in ne[y]=[],xn[y])xn[y].hasOwnProperty(B)&&ne[y].push(B);return ne},_.addFont=function(y,B,ne,fe,ye){var ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ke.indexOf(arguments[3])!==-1?ye=arguments[3]:arguments[3]&&ke.indexOf(arguments[3])==-1&&(ne=we(ne,fe)),ye=ye||"Identity-H",ho.call(this,y,B,ne,ye)};var ln,Ho=t.lineWidth||.200025,Vs=_.__private__.getLineWidth=_.getLineWidth=function(){return Ho},Ea=_.__private__.setLineWidth=_.setLineWidth=function(y){return Ho=y,se(z(O(y))+" w"),this};_.__private__.setLineDash=xt.API.setLineDash=xt.API.setLineDashPattern=function(y,B){if(y=y||[],B=B||0,isNaN(B)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(ne){return z(O(ne))}).join(" "),B=z(O(B)),se("["+y+"] "+B+" d"),this};var $o=_.__private__.getLineHeight=_.getLineHeight=function(){return Ke*ln};_.__private__.getLineHeight=_.getLineHeight=function(){return Ke*ln};var Bt=_.__private__.setLineHeightFactor=_.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(ln=y),this},go=_.__private__.getLineHeightFactor=_.getLineHeightFactor=function(){return ln};Bt(t.lineHeight);var kn=_.__private__.getHorizontalCoordinate=function(y){return O(y)},Rn=_.__private__.getVerticalCoordinate=function(y){return j===T.ADVANCED?y:gt[X].mediaBox.topRightY-gt[X].mediaBox.bottomLeftY-O(y)},Aa=_.__private__.getHorizontalCoordinateString=_.getHorizontalCoordinateString=function(y){return z(kn(y))},zs=_.__private__.getVerticalCoordinateString=_.getVerticalCoordinateString=function(y){return z(Rn(y))},ir=t.strokeColor||"0 G";_.__private__.getStrokeColor=_.getDrawColor=function(){return kr(ir)},_.__private__.setStrokeColor=_.setDrawColor=function(y,B,ne,fe){return ir=Rr({ch1:y,ch2:B,ch3:ne,ch4:fe,pdfColorType:"draw",precision:2}),se(ir),this};var Go=t.fillColor||"0 g";_.__private__.getFillColor=_.getFillColor=function(){return kr(Go)},_.__private__.setFillColor=_.setFillColor=function(y,B,ne,fe){return Go=Rr({ch1:y,ch2:B,ch3:ne,ch4:fe,pdfColorType:"fill",precision:2}),se(Go),this};var $i=t.textColor||"0 g",Ko=_.__private__.getTextColor=_.getTextColor=function(){return kr($i)};_.__private__.setTextColor=_.setTextColor=function(y,B,ne,fe){return $i=Rr({ch1:y,ch2:B,ch3:ne,ch4:fe,pdfColorType:"text",precision:3}),this};var vo=t.charSpace,Us=_.__private__.getCharSpace=_.getCharSpace=function(){return parseFloat(vo||0)};_.__private__.setCharSpace=_.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vo=y,this};var Pa=0;_.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},_.__private__.setLineCap=_.setLineCap=function(y){var B=_.CapJoinStyles[y];if(B===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pa=B,se(B+" J"),this};var yr=0;_.__private__.setLineJoin=_.setLineJoin=function(y){var B=_.CapJoinStyles[y];if(B===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yr=B,se(B+" j"),this},_.__private__.setLineMiterLimit=_.__private__.setMiterLimit=_.setLineMiterLimit=_.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(z(O(y))+" M"),this},_.GState=em,_.setGState=function(y){(y=typeof y=="string"?Sn[fr[y]]:qs(null,y)).equals(oi)||(se("/"+y.id+" gs"),oi=y)};var qs=function(y,B){if(!y||!fr[y]){var ne=!1;for(var fe in Sn)if(Sn.hasOwnProperty(fe)&&Sn[fe].equals(B)){ne=!0;break}if(ne)B=Sn[fe];else{var ye="GS"+(Object.keys(Sn).length+1).toString(10);Sn[ye]=B,B.id=ye}return y&&(fr[y]=B.id),Jt.publish("addGState",B),B}};_.addGState=function(y,B){return qs(y,B),this},_.saveGraphicsState=function(){return se("q"),Nr.push({key:jt,size:Ke,color:$i}),this},_.restoreGraphicsState=function(){se("Q");var y=Nr.pop();return jt=y.key,Ke=y.size,$i=y.color,oi=null,this},_.setCurrentTransformationMatrix=function(y){return se(y.toString()+" cm"),this},_.comment=function(y){return se("#"+y),this};var Ws=function(y,B){var ne=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ne},set:function(ke){isNaN(ke)||(ne=parseFloat(ke))}});var fe=B||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(ke){isNaN(ke)||(fe=parseFloat(ke))}});var ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ye},set:function(ke){ye=ke.toString()}}),this},Gr=function(y,B,ne,fe){Ws.call(this,y,B),this.type="rect";var ye=ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ye},set:function(Ve){isNaN(Ve)||(ye=parseFloat(Ve))}});var ke=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ke},set:function(Ve){isNaN(Ve)||(ke=parseFloat(Ve))}}),this},Hs=function(){this.page=En,this.currentPage=X,this.pages=qe.slice(0),this.pagesContext=gt.slice(0),this.x=Bn,this.y=$t,this.matrix=Ir,this.width=fs(X),this.height=Or(X),this.outputDestination=Ye,this.id="",this.objectNumber=-1};Hs.prototype.restore=function(){En=this.page,X=this.currentPage,gt=this.pagesContext,qe=this.pages,Bn=this.x,$t=this.y,Ir=this.matrix,yo(X,this.width),Yo(X,this.height),Ye=this.outputDestination};var _o=function(y,B,ne,fe,ye){qr.push(new Hs),En=X=0,qe=[],Bn=y,$t=B,Ir=ye,An([ne,fe])},Zo=function(y){if(Lr[y])qr.pop().restore();else{var B=new Hs,ne="Xo"+(Object.keys(Zn).length+1).toString(10);B.id=ne,Lr[y]=ne,Zn[ne]=B,Jt.publish("addFormObject",B),qr.pop().restore()}};for(var hs in _.beginFormObject=function(y,B,ne,fe,ye){return _o(y,B,ne,fe,ye),this},_.endFormObject=function(y){return Zo(y),this},_.doFormObject=function(y,B){var ne=Zn[Lr[y]];return se("q"),se(B.toString()+" cm"),se("/"+ne.id+" Do"),se("Q"),this},_.getFormObject=function(y){var B=Zn[Lr[y]];return{x:B.x,y:B.y,width:B.width,height:B.height,matrix:B.matrix}},_.save=function(y,B){return y=y||"generated.pdf",(B=B||{}).returnPromise=B.returnPromise||!1,B.returnPromise===!1?(_u(cs(Ci()),y),typeof _u.unload=="function"&&It.setTimeout&&setTimeout(_u.unload,911),this):new Promise(function(ne,fe){try{var ye=_u(cs(Ci()),y);typeof _u.unload=="function"&&It.setTimeout&&setTimeout(_u.unload,911),ne(ye)}catch(ke){fe(ke.message)}})},xt.API)xt.API.hasOwnProperty(hs)&&(hs==="events"&&xt.API.events.length?function(y,B){var ne,fe,ye;for(ye=B.length-1;ye!==-1;ye--)ne=B[ye][0],fe=B[ye][1],y.subscribe.apply(y,[ne].concat(typeof fe=="function"?[fe]:fe))}(Jt,xt.API.events):_[hs]=xt.API[hs]);var fs=_.getPageWidth=function(y){return(gt[y=y||X].mediaBox.topRightX-gt[y].mediaBox.bottomLeftX)/nt},yo=_.setPageWidth=function(y,B){gt[y].mediaBox.topRightX=B*nt+gt[y].mediaBox.bottomLeftX},Or=_.getPageHeight=function(y){return(gt[y=y||X].mediaBox.topRightY-gt[y].mediaBox.bottomLeftY)/nt},Yo=_.setPageHeight=function(y,B){gt[y].mediaBox.topRightY=B*nt+gt[y].mediaBox.bottomLeftY};return _.internal={pdfEscape:Tn,getStyle:Sa,getFont:Wo,getFontSize:Xe,getCharSpace:Us,getTextColor:Ko,getLineHeight:$o,getLineHeightFactor:go,getLineWidth:Vs,write:Pt,getHorizontalCoordinate:kn,getVerticalCoordinate:Rn,getCoordinateString:Aa,getVerticalCoordinateString:zs,collections:{},newObject:an,newAdditionalObject:ao,newObjectDeferred:et,newObjectDeferredBegin:Un,getFilters:Qn,putStream:Vn,events:Jt,scaleFactor:nt,pageSize:{getWidth:function(){return fs(X)},setWidth:function(y){yo(X,y)},getHeight:function(){return Or(X)},setHeight:function(y){Yo(X,y)}},encryptionOptions:g,encryption:hn,getEncryptor:xa,output:Ds,getNumberOfPages:Et,pages:qe,out:se,f2:K,f3:N,getPageInfo:po,getPageInfoByObjId:At,getCurrentPageInfo:_t,getPDFVersion:C,Point:Ws,Rectangle:Gr,Matrix:ot,hasHotfix:Wi},Object.defineProperty(_.internal.pageSize,"width",{get:function(){return fs(X)},set:function(y){yo(X,y)},enumerable:!0,configurable:!0}),Object.defineProperty(_.internal.pageSize,"height",{get:function(){return Or(X)},set:function(y){Yo(X,y)},enumerable:!0,configurable:!0}),Lt.call(_,He),jt="F1",fo(i,n),Jt.publish("initialized"),_}hc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},hc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},hc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},hc.prototype.processOwnerPassword=function(t,e){return O0(R0(e).substr(0,5),t)},hc.prototype.encryptor=function(t,e){var n=R0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return O0(n,r)}},em.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||yn(t)!==yn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},xt.API={events:[]},xt.version="3.0.1";var tr=xt.API,v_=1,Hu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Mt=function(t){return t.toFixed(2)},ml=function(t){return t.toFixed(5)};tr.__acroform__={};var ss=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},s5=function(t){return t*v_},oa=function(t){var e=new VS,n=ct.internal.getHeight(t)||0,r=ct.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Mt(r)),Number(Mt(n))],e},fN=tr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},dN=tr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},pN=tr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},lr=tr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return pN(t,e-1)},ur=tr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return fN(t,e-1)},cr=tr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dN(t,e-1)},mN=tr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],l=t[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(s+l)||0,u.upperRight_X=n(i+a)||0,u.upperRight_Y=r(s)||0,[Number(Mt(u.lowerLeft_X)),Number(Mt(u.lowerLeft_Y)),Number(Mt(u.upperRight_X)),Number(Mt(u.upperRight_Y))]},gN=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=M0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Mt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=oa(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},M0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=n,a=ct.internal.getHeight(t)||0;a=a<0?-a:a;var l=ct.internal.getWidth(t)||0;l=l<0?-l:l;var u=function(N,O,D){if(N+1<i.length){var oe=O+" "+i[N+1][0];return Gd(oe,t,D).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var f,g,v=Gd("3",t,s).height,b=t.multiline?a-s:(a-v)/2,_=b+=2,k=0,C=0,M=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Gd(e,t,s=12).width+", FieldWidth:"+l+`
`;break}for(var E="",T=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var te=!1;if(i[j].length!==1&&M!==i[j].length-1){if((v+2)*(T+2)+2>a)continue e;E+=i[j][M],te=!0,C=j,j--}else{E=(E+=i[j][M]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var he=parseInt(j),we=u(he,E,s),z=j>=i.length-1;if(we&&!z){E+=" ",M=0;continue}if(we||z){if(z)C=he;else if(t.multiline&&(v+2)*(T+2)+2>a)continue e}else{if(!t.multiline||(v+2)*(T+2)+2>a)continue e;C=he}}for(var R="",U=k;U<=C;U++){var K=i[U];if(t.multiline){if(U===C){R+=K[M]+" ",M=(M+1)%K.length;continue}if(U===k){R+=K[K.length-1]+" ";continue}}R+=K[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,g=Gd(R,t,s).width,t.textAlign){case"right":f=l-g-2;break;case"center":f=(l-g)/2;break;case"left":default:f=2}e+=Mt(f)+" "+Mt(_)+` Td
`,e+="("+Hu(R)+`) Tj
`,e+=-Mt(f)+` 0 Td
`,_=-(s+2),g=0,k=te?C:C+1,T++,E=""}break}return r.text=e,r.fontSize=s,r},Gd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},vN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_N=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},yN=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),yn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},wN=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Vo.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(vN)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");v_=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new zS,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&_N(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var l=r[a],u=[],f=l.Rect;if(l.Rect&&(l.Rect=mN(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=ct.createDefaultAppearanceStream(l),yn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var g=gN(l);u.push({key:"AP",value:"<</N "+g+">>"}),i.internal.acroformPlugin.xForms.push(g)}if(l.appearanceStreamContent){var v="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var _=l.appearanceStreamContent[b];if(v+="/"+b+" ",v+="<<",Object.keys(_).length>=1||Array.isArray(_)){for(var a in _)if(_.hasOwnProperty(a)){var k=_[a];typeof k=="function"&&(k=k.call(i,l)),v+="/"+a+" "+k+" ",i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k)}}else typeof(k=_)=="function"&&(k=k.call(i,l)),v+="/"+a+" "+k,i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k);v+=">>"}u.push({key:"AP",value:`<<
`+v+">>"})}i.internal.putStream({additionalKeyValues:u,objectId:l.objId}),i.internal.out("endobj")}s&&yN(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},BS=tr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),yn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Hu(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},av=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Hu(r(t))+")"},ua=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ua.prototype.toString=function(){return this.objId+" 0 R"},ua.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ua.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:BS(i,this.objId,this.scope)}):i instanceof ua?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var VS=function(){ua.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ss(VS,ua);var zS=function(){ua.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Hu(n(t))+")"}},set:function(n){t=n}})};ss(zS,ua);var Vo=function t(){ua.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!lr(e,3)},set:function(E){E?this.F=ur(e,3):this.F=cr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(E){r=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(E){r[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(E){r[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(E){r[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(E){r[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof tm)return;s="FieldObject"+t.FieldNum++}var E=function(T){return T};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Hu(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(E){a=E}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/v_:f},set:function(E){f=E}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(E){g=E}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof tm||this instanceof Tu))return av(v,this.objId,this.scope)},set:function(E){E=E.toString(),v=E}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof zr?b:av(b,this.objId,this.scope)},set:function(E){E=E.toString(),b=this instanceof zr?E:E.substr(0,1)==="("?uc(E.substr(1,E.length-2)):uc(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?uc(b.substr(1,b.length-1)):b},set:function(E){E=E.toString(),b=this instanceof zr?"/"+E:E}});var _=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(_)return _},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof zr?_:av(_,this.objId,this.scope)},set:function(E){E=E.toString(),_=this instanceof zr?E:E.substr(0,1)==="("?uc(E.substr(1,E.length-2)):uc(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zr?uc(_.substr(1,_.length-1)):_},set:function(E){E=E.toString(),_=this instanceof zr?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(E){E=!!E,C=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(E){k=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,1)},set:function(E){E?this.Ff=ur(this.Ff,1):this.Ff=cr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,2)},set:function(E){E?this.Ff=ur(this.Ff,2):this.Ff=cr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,3)},set:function(E){E?this.Ff=ur(this.Ff,3):this.Ff=cr(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');M=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(M){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};ss(Vo,ua);var Fc=function(){Vo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BS(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,l){l||(l=1);for(var u,f=[];u=a.exec(s);)f.push(u[l]);return f}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,18)},set:function(n){n?this.Ff=ur(this.Ff,18):this.Ff=cr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=ur(this.Ff,19):this.Ff=cr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,20)},set:function(n){n?(this.Ff=ur(this.Ff,20),e.sort()):this.Ff=cr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,22)},set:function(n){n?this.Ff=ur(this.Ff,22):this.Ff=cr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,23)},set:function(n){n?this.Ff=ur(this.Ff,23):this.Ff=cr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,27)},set:function(n){n?this.Ff=ur(this.Ff,27):this.Ff=cr(this.Ff,27)}}),this.hasAppearanceStream=!1};ss(Fc,Vo);var jc=function(){Fc.call(this),this.fontName="helvetica",this.combo=!1};ss(jc,Fc);var Bc=function(){jc.call(this),this.combo=!0};ss(Bc,jc);var mp=function(){Bc.call(this),this.edit=!0};ss(mp,Bc);var zr=function(){Vo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,15)},set:function(n){n?this.Ff=ur(this.Ff,15):this.Ff=cr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,16)},set:function(n){n?this.Ff=ur(this.Ff,16):this.Ff=cr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,17)},set:function(n){n?this.Ff=ur(this.Ff,17):this.Ff=cr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,26)},set:function(n){n?this.Ff=ur(this.Ff,26):this.Ff=cr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Hu(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){yn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ss(zr,Vo);var gp=function(){zr.call(this),this.pushButton=!0};ss(gp,zr);var Vc=function(){zr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ss(Vc,zr);var tm=function(){var t,e;Vo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Hu(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){yn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ss(tm,Vo),Vc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Vc.prototype.createOption=function(t){var e=new tm;return e.Parent=this,e.optionName=t,this.Kids.push(e),bN.call(this.scope,e),e};var vp=function(){zr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ct.CheckBox.createAppearanceStream()};ss(vp,zr);var Tu=function(){Vo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,13)},set:function(e){e?this.Ff=ur(this.Ff,13):this.Ff=cr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,21)},set:function(e){e?this.Ff=ur(this.Ff,21):this.Ff=cr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,23)},set:function(e){e?this.Ff=ur(this.Ff,23):this.Ff=cr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,24)},set:function(e){e?this.Ff=ur(this.Ff,24):this.Ff=cr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,25)},set:function(e){e?this.Ff=ur(this.Ff,25):this.Ff=cr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,26)},set:function(e){e?this.Ff=ur(this.Ff,26):this.Ff=cr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ss(Tu,Vo);var _p=function(){Tu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,14)},set:function(t){t?this.Ff=ur(this.Ff,14):this.Ff=cr(this.Ff,14)}}),this.password=!0};ss(_p,Tu);var ct={CheckBox:{createAppearanceStream:function(){return{N:{On:ct.CheckBox.YesNormal},D:{On:ct.CheckBox.YesPushDown,Off:ct.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=oa(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=M0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Mt(ct.internal.getWidth(t))+" "+Mt(ct.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Mt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=oa(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=ct.internal.getHeight(t),a=ct.internal.getWidth(t),l=M0(t,t.caption);return i.push("1 g"),i.push("0 0 "+Mt(a)+" "+Mt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Mt(a-1)+" "+Mt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Mt(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=oa(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(ct.internal.getWidth(t))+" "+Mt(ct.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ct.RadioButton.Circle.YesNormal,e.D[t]=ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=oa(t);e.scope=t.scope;var n=[],r=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=ct.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ml(ct.internal.getWidth(t)/2)+" "+ml(ct.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=oa(t);e.scope=t.scope;var n=[],r=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ct.internal.Bezier_C).toFixed(5)),a=Number((r*ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ml(ct.internal.getWidth(t)/2)+" "+ml(ct.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ml(ct.internal.getWidth(t)/2)+" "+ml(ct.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=oa(t);e.scope=t.scope;var n=[],r=ct.internal.getWidth(t)<=ct.internal.getHeight(t)?ct.internal.getWidth(t)/4:ct.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ml(ct.internal.getWidth(t)/2)+" "+ml(ct.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ct.RadioButton.Cross.YesNormal,e.D[t]=ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=oa(t);e.scope=t.scope;var n=[],r=ct.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Mt(ct.internal.getWidth(t)-2)+" "+Mt(ct.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Mt(r.x1.x)+" "+Mt(r.x1.y)+" m"),n.push(Mt(r.x2.x)+" "+Mt(r.x2.y)+" l"),n.push(Mt(r.x4.x)+" "+Mt(r.x4.y)+" m"),n.push(Mt(r.x3.x)+" "+Mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=oa(t);e.scope=t.scope;var n=ct.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Mt(ct.internal.getWidth(t))+" "+Mt(ct.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Mt(ct.internal.getWidth(t)-2)+" "+Mt(ct.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Mt(n.x1.x)+" "+Mt(n.x1.y)+" m"),r.push(Mt(n.x2.x)+" "+Mt(n.x2.y)+" l"),r.push(Mt(n.x4.x)+" "+Mt(n.x4.y)+" m"),r.push(Mt(n.x3.x)+" "+Mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=oa(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Mt(ct.internal.getWidth(t))+" "+Mt(ct.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ct.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ct.internal.getWidth(t),n=ct.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ct.internal.getWidth=function(t){var e=0;return yn(t)==="object"&&(e=s5(t.Rect[2])),e},ct.internal.getHeight=function(t){var e=0;return yn(t)==="object"&&(e=s5(t.Rect[3])),e};var bN=tr.addField=function(t){if(wN(this,t),!(t instanceof Vo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};tr.AcroFormChoiceField=Fc,tr.AcroFormListBox=jc,tr.AcroFormComboBox=Bc,tr.AcroFormEditBox=mp,tr.AcroFormButton=zr,tr.AcroFormPushButton=gp,tr.AcroFormRadioButton=Vc,tr.AcroFormCheckBox=vp,tr.AcroFormTextField=Tu,tr.AcroFormPasswordField=_p,tr.AcroFormAppearance=ct,tr.AcroForm={ChoiceField:Fc,ListBox:jc,ComboBox:Bc,EditBox:mp,Button:zr,PushButton:gp,RadioButton:Vc,CheckBox:vp,TextField:Tu,PasswordField:_p,Appearance:ct},xt.AcroForm={ChoiceField:Fc,ListBox:jc,ComboBox:Bc,EditBox:mp,Button:zr,PushButton:gp,RadioButton:Vc,CheckBox:vp,TextField:Tu,PasswordField:_p,Appearance:ct};xt.AcroForm;function US(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(N,O){var D,oe,pe,de,re,Y=e;if((O=O||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(we(N))for(re in n)for(pe=n[re],D=0;D<pe.length;D+=1){for(de=!0,oe=0;oe<pe[D].length;oe+=1)if(pe[D][oe]!==void 0&&pe[D][oe]!==N[oe]){de=!1;break}if(de===!0){Y=re;break}}else for(re in n)for(pe=n[re],D=0;D<pe.length;D+=1){for(de=!0,oe=0;oe<pe[D].length;oe+=1)if(pe[D][oe]!==void 0&&pe[D][oe]!==N.charCodeAt(oe)){de=!1;break}if(de===!0){Y=re;break}}return Y===e&&O!==e&&(Y=O),Y},i=function N(O){for(var D=this.internal.write,oe=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:O.width}),de.push({key:"Height",value:O.height}),O.colorSpace===M.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===M.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var re="",Y=0,ce=O.transparency.length;Y<ce;Y++)re+=O.transparency[Y]+" "+O.transparency[Y]+" ";de.push({key:"Mask",value:"["+re+"]"})}O.sMask!==void 0&&de.push({key:"SMask",value:O.objectId+1+" 0 R"});var ae=O.filter!==void 0?["/"+O.filter]:void 0;if(oe({data:O.data,additionalKeyValues:de,alreadyAppliedFilters:ae,objectId:O.objectId}),D("endobj"),"sMask"in O&&O.sMask!==void 0){var Ne="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,F={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:Ne,data:O.sMask};"filter"in O&&(F.filter=O.filter),N.call(this,F)}if(O.colorSpace===M.INDEXED){var X=this.internal.newObject();oe({data:R(new Uint8Array(O.palette)),objectId:X}),D("endobj")}},s=function(){var N=this.internal.collections.addImage_images;for(var O in N)i.call(this,N[O])},a=function(){var N,O=this.internal.collections.addImage_images,D=this.internal.write;for(var oe in O)D("/I"+(N=O[oe]).index,N.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var N=this.internal.collections.addImage_images;return l.call(this),N},f=function(){return Object.keys(this.internal.collections.addImage_images).length},g=function(N){return typeof t["process"+N.toUpperCase()]=="function"},v=function(N){return yn(N)==="object"&&N.nodeType===1},b=function(N,O){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var D=""+N.getAttribute("src");if(D.indexOf("data:image/")===0)return cf(unescape(D).split("base64,").pop());var oe=t.loadFile(D,!0);if(oe!==void 0)return oe}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var pe;switch(O){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return cf(N.toDataURL(pe,1).split("base64,").pop())}},_=function(N){var O=this.internal.collections.addImage_images;if(O){for(var D in O)if(N===O[D].alias)return O[D]}},k=function(N,O,D){return N||O||(N=-96,O=-96),N<0&&(N=-1*D.width*72/N/this.internal.scaleFactor),O<0&&(O=-1*D.height*72/O/this.internal.scaleFactor),N===0&&(N=O*D.width/D.height),O===0&&(O=N*D.height/D.width),[N,O]},C=function(N,O,D,oe,pe,de){var re=k.call(this,D,oe,pe),Y=this.internal.getCoordinateString,ce=this.internal.getVerticalCoordinateString,ae=u.call(this);if(D=re[0],oe=re[1],ae[pe.index]=pe,de){de*=Math.PI/180;var Ne=Math.cos(de),F=Math.sin(de),X=function(ie){return ie.toFixed(4)},J=[X(Ne),X(F),X(-1*F),X(Ne),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,Y(N),ce(O+oe),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([Y(D),"0","0",Y(oe),"0","0","cm"].join(" "))):this.internal.write([Y(D),"0","0",Y(oe),Y(N),ce(O+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},M=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(N){var O,D,oe=0;if(typeof N=="string")for(D=N.length,O=0;O<D;O++)oe=(oe<<5)-oe+N.charCodeAt(O),oe|=0;else if(we(N))for(D=N.byteLength/2,O=0;O<D;O++)oe=(oe<<5)-oe+N[O],oe|=0;return oe},j=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var O=!0;return N.length===0&&(O=!1),N.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(O=!1),O},te=t.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var O=N.indexOf(",");return O<0?null:N.substring(0,O).trim().endsWith("base64")?N.substring(O+1):null},he=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(N){return he()&&N instanceof ArrayBuffer};var we=t.__addimage__.isArrayBufferView=function(N){return he()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},z=t.__addimage__.binaryStringToUint8Array=function(N){for(var O=N.length,D=new Uint8Array(O),oe=0;oe<O;oe++)D[oe]=N.charCodeAt(oe);return D},R=t.__addimage__.arrayBufferToBinaryString=function(N){for(var O="",D=we(N)?N:new Uint8Array(N),oe=0;oe<D.length;oe+=8192)O+=String.fromCharCode.apply(null,D.subarray(oe,oe+8192));return O};t.addImage=function(){var N,O,D,oe,pe,de,re,Y,ce;if(typeof arguments[1]=="number"?(O=e,D=arguments[1],oe=arguments[2],pe=arguments[3],de=arguments[4],re=arguments[5],Y=arguments[6],ce=arguments[7]):(O=arguments[1],D=arguments[2],oe=arguments[3],pe=arguments[4],de=arguments[5],re=arguments[6],Y=arguments[7],ce=arguments[8]),yn(N=arguments[0])==="object"&&!v(N)&&"imageData"in N){var ae=N;N=ae.imageData,O=ae.format||O||e,D=ae.x||D||0,oe=ae.y||oe||0,pe=ae.w||ae.width||pe,de=ae.h||ae.height||de,re=ae.alias||re,Y=ae.compression||Y,ce=ae.rotation||ae.angle||ce}var Ne=this.internal.getFilters();if(Y===void 0&&Ne.indexOf("FlateEncode")!==-1&&(Y="SLOW"),isNaN(D)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var F=U.call(this,N,O,re,Y);return C.call(this,D,oe,pe,de,F,ce),this};var U=function(N,O,D,oe){var pe,de,re;if(typeof N=="string"&&r(N)===e){N=unescape(N);var Y=K(N,!1);(Y!==""||(Y=t.loadFile(N,!0))!==void 0)&&(N=Y)}if(v(N)&&(N=b(N,O)),O=r(N,O),!g(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((re=D)==null||re.length===0)&&(D=function(ce){return typeof ce=="string"||we(ce)?T(ce):we(ce.data)?T(ce.data):null}(N)),(pe=_.call(this,D))||(he()&&(N instanceof Uint8Array||O==="RGBA"||(de=N,N=z(N))),pe=this["process"+O.toUpperCase()](N,f.call(this),D,function(ce){return ce&&typeof ce=="string"&&(ce=ce.toUpperCase()),ce in t.image_compression?ce:E.NONE}(oe),de)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},K=t.__addimage__.convertBase64ToBinaryString=function(N,O){O=typeof O!="boolean"||O;var D,oe="";if(typeof N=="string"){var pe;D=(pe=te(N))!==null&&pe!==void 0?pe:N;try{oe=cf(D)}catch(de){if(O)throw j(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};t.getImageProperties=function(N){var O,D,oe="";if(v(N)&&(N=b(N)),typeof N=="string"&&r(N)===e&&((oe=K(N,!1))===""&&(oe=t.loadFile(N)||""),N=oe),D=r(N),!g(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!he()||N instanceof Uint8Array||(N=z(N)),!(O=this["process"+D.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=D,O}})(xt.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};xt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,g=!1,v=0;v<f.length&&!g;v++)switch((r=f[v]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){r=f[b];var _=this.internal.pdfEscape,k=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(C.objId),T=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+_(E(r.contents))+")",s+=" /Popup "+M.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+_(E(T))+") >>",C.content=s;var j=C.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(s+=" /Open true"),s+=" >>",M.content=s,this.internal.write(C.objId,"0 R",M.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+l(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var te=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+_(k(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+te+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var he=this.annotations._nameMap[r.options.name];r.options.pageNumber=he.page,r.options.top=he.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+_(k(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var we=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+we+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(n),y:f(r),w:u(n+i),h:f(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,l,u=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var g=this.splitTextToSize(n,l).length;a=Math.ceil(f*g)}else l=u,a=f;return this.text(n,r,i,s),i+=.2*f,s.align==="center"&&(r-=u/2),s.align==="right"&&(r-=u),this.link(r,i-f,l,a,s),u},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(xt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(C){return e[C.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},l=t.__arabicParser__.isArabicEndLetter=function(C){return a(C)&&s(C)&&e[C.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(C){return a(C)&&i.indexOf(C.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return a(C)&&s(C)&&e[C.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(C){return a(C)&&s(C)&&e[C.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(C){return a(C)&&s(C)&&e[C.charCodeAt(0)].length>=3};var g=t.__arabicParser__.arabicLetterHasMedialForm=function(C){return a(C)&&s(C)&&e[C.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(C){var M=0,E=n,T="",j=0;for(M=0;M<C.length;M+=1)E[C.charCodeAt(M)]!==void 0?(j++,typeof(E=E[C.charCodeAt(M)])=="number"&&(T+=String.fromCharCode(E),E=n,j=0),M===C.length-1&&(E=n,T+=C.charAt(M-(j-1)),M-=j-1,j=0)):(E=n,T+=C.charAt(M-j),M-=j,j=0);return T};t.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&r[C.charCodeAt(0)]!==void 0};var b=t.__arabicParser__.getCorrectForm=function(C,M,E){return a(C)?s(C)===!1?-1:!f(C)||!a(M)&&!a(E)||!a(E)&&l(M)||l(C)&&!a(M)||l(C)&&u(M)||l(C)&&l(M)?0:g(C)&&a(M)&&!l(M)&&a(E)&&f(E)?3:l(C)||!a(E)?1:2:-1},_=function(C){var M=0,E=0,T=0,j="",te="",he="",we=(C=C||"").split("\\s+"),z=[];for(M=0;M<we.length;M+=1){for(z.push(""),E=0;E<we[M].length;E+=1)j=we[M][E],te=we[M][E-1],he=we[M][E+1],a(j)?(T=b(j,te,he),z[M]+=T!==-1?String.fromCharCode(e[j.charCodeAt(0)][T]):j):z[M]+=j;z[M]=v(z[M])}return z.join(" ")},k=t.__arabicParser__.processArabic=t.processArabic=function(){var C,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(M)){var T=0;for(E=[],T=0;T<M.length;T+=1)Array.isArray(M[T])?E.push([_(M[T][0]),M[T][1],M[T][2]]):E.push([_(M[T])]);C=E}else C=_(M);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};t.events.push(["preProcessText",k])}(xt.API),xt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(l){a=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(xt.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(C){u=C}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(C){f=C}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(C){v=C}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var _=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return _},set:function(C){_=C}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(C){k=C}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},t.getTextDimensions=function(u,f){r.call(this);var g=(f=f||{}).fontSize||this.getFontSize(),v=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,_=0,k=0,C=0,M=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var E=f.maxWidth;E>0?typeof u=="string"?u=this.splitTextToSize(u,E):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(j,te){return j.concat(M.splitTextToSize(te,E))},[])):u=Array.isArray(u)?u:[u];for(var T=0;T<u.length;T++)_<(C=this.getStringUnitWidth(u[T],{font:v})*g)&&(_=C);return _!==0&&(k=u.length),{w:_/=b,h:Math.max((k*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/b,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,v=this.internal.__cell__.margins||e,b=this.internal.__cell__.tableHeaderRow,_=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=v.top,_&&b&&(this.printHeaderRow(u.lineNumber,!0),u.y+=b[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-g,u.y+g,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+g,{align:"center",baseline:"top",maxWidth:u.width-g-g}):this.text(u.text,u.x+g,u.y+g,{align:"left",baseline:"top",maxWidth:u.width-g-g})),this.internal.__cell__.lastCell=u,this};t.table=function(u,f,g,v,b){if(r.call(this),!g)throw new Error("No data for PDF table.");var _,k,C,M,E=[],T=[],j=[],te={},he={},we=[],z=[],R=(b=b||{}).autoSize||!1,U=b.printHeaders!==!1,K=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,N=b.margins||Object.assign({width:this.getPageWidth()},e),O=typeof b.padding=="number"?b.padding:3,D=b.headerBackgroundColor||"#c8c8c8",oe=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=oe,this.setFontSize(K),v==null)T=E=Object.keys(g[0]),j=E.map(function(){return"left"});else if(Array.isArray(v)&&yn(v[0])==="object")for(E=v.map(function(ae){return ae.name}),T=v.map(function(ae){return ae.prompt||ae.name||""}),j=v.map(function(ae){return ae.align||"left"}),_=0;_<v.length;_+=1)he[v[_].name]=v[_].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(T=E=v,j=E.map(function(){return"left"}));if(R||Array.isArray(v)&&typeof v[0]=="string")for(_=0;_<E.length;_+=1){for(te[M=E[_]]=g.map(function(ae){return ae[M]}),this.setFont(void 0,"bold"),we.push(this.getTextDimensions(T[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=te[M],this.setFont(void 0,"normal"),C=0;C<k.length;C+=1)we.push(this.getTextDimensions(k[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);he[M]=Math.max.apply(null,we)+O+O,we=[]}if(U){var pe={};for(_=0;_<E.length;_+=1)pe[E[_]]={},pe[E[_]].text=T[_],pe[E[_]].align=j[_];var de=l.call(this,pe,he);z=E.map(function(ae){return new s(u,f,he[ae],de,pe[ae].text,void 0,pe[ae].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var re=v.reduce(function(ae,Ne){return ae[Ne.name]=Ne.align,ae},{});for(_=0;_<g.length;_+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:_,data:g[_]},this);var Y=l.call(this,g[_],he);for(C=0;C<E.length;C+=1){var ce=g[_][E[C]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:_,col:C,data:ce},this),a.call(this,new s(u,f,he[E[C]],Y,ce,_+2,re[E[C]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var l=function(u,f){var g=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(u).map(function(_){var k=u[_];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,f[_]-g-g)},this).map(function(_){return this.getLineHeightFactor()*_.length*v/b+g+g},this).reduce(function(_,k){return Math.max(_,k)},0)};t.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},t.printHeaderRow=function(u,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],_=0;_<this.internal.__cell__.tableHeaderRow.length;_+=1){g=this.internal.__cell__.tableHeaderRow[_].clone(),f&&(g.y=this.internal.__cell__.margins.top||0,b.push(g)),g.lineNumber=u;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,g),this.setTextColor(k)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),n=!1}}(xt.API);var qS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],D0=US(WS),HS=[100,200,300,400,500,600,700,800,900],xN=US(HS);function F0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return qS[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof D0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function o5(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var SN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},a5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function l5(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function EN(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},SN,n.genericFontFamilies||{}),s=null,a=null,l=0;l<e.length;++l)if(i[(s=F0(e[l])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+l5(s)+"' and default family '"+r+"'.");if(a=function(u,f){if(f[u])return f[u];var g=D0[u],v=g<=D0.normal?-1:1,b=o5(f,WS,g,v);if(!b)throw new Error("Could not find a matching font-stretch value for "+u);return b}(s.stretch,a),a=function(u,f){if(f[u])return f[u];for(var g=qS[u],v=0;v<g.length;++v)if(f[g[v]])return f[g[v]];throw new Error("Could not find a matching font-style for "+u)}(s.style,a),!(a=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var g=xN[u],v=o5(f,HS,g,u<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+u);return v}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+l5(s)+"'.");return a}function u5(t){return t.trimLeft()}function AN(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function PN(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Kd,c5,h5,lv=["times"];(function(t){var e,n,r,i,s,a,l,u,f,g=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new u,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new a,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new a,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,f=new g}]);var v=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=F;Object.defineProperty(this,"pdf",{get:function(){return X}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Oe){J=!!Oe}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(Oe){ie=!!Oe}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Oe){isNaN(Oe)||(le=Oe)}});var xe=0;Object.defineProperty(this,"posY",{get:function(){return xe},set:function(Oe){isNaN(Oe)||(xe=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Oe){var se;typeof Oe=="number"?se=[Oe,Oe,Oe,Oe]:((se=new Array(4))[0]=Oe[0],se[1]=Oe.length>=2?Oe[1]:se[0],se[2]=Oe.length>=3?Oe[2]:se[0],se[3]=Oe.length>=4?Oe[3]:se[1]),f.margin=se}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(Oe){Se=Oe}});var Le=0;Object.defineProperty(this,"lastBreak",{get:function(){return Le},set:function(Oe){Le=Oe}});var $e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return $e},set:function(Oe){$e=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Oe){Oe instanceof g&&(f=Oe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Oe){f.path=Oe}});var qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return qe},set:function(Oe){qe=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var se;se=b(Oe),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var se=b(Oe);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){["butt","round","square"].indexOf(Oe)!==-1&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){["bevel","round","miter"].indexOf(Oe)!==-1&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){["right","end","center","left","start"].indexOf(Oe)!==-1&&(this.ctx.textAlign=Oe)}});var Ze=null;function Ye(Oe,se){if(Ze===null){var Pt=function(lt){var He=[];return Object.keys(lt).forEach(function(Ke){lt[Ke].forEach(function(Je){var Xe=null;switch(Je){case"bold":Xe={family:Ke,weight:"bold"};break;case"italic":Xe={family:Ke,style:"italic"};break;case"bolditalic":Xe={family:Ke,weight:"bold",style:"italic"};break;case"":case"normal":Xe={family:Ke}}Xe!==null&&(Xe.ref={name:Ke,style:Je},He.push(Xe))})}),He}(Oe.getFontList());Ze=function(lt){for(var He={},Ke=0;Ke<lt.length;++Ke){var Je=F0(lt[Ke]),Xe=Je.family,ht=Je.stretch,St=Je.style,Ct=Je.weight;He[Xe]=He[Xe]||{},He[Xe][ht]=He[Xe][ht]||{},He[Xe][ht][St]=He[Xe][ht][St]||{},He[Xe][ht][St][Ct]=Je}return He}(Pt.concat(se))}return Ze}var pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(Oe){Ze=null,pt=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var se;if(this.ctx.font=Oe,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))!==null){var Pt=se[1];se[2];var lt=se[3],He=se[4];se[5];var Ke=se[6],Je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(Je==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:Je==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var Xe=function(wt){var jt,nt,Bn=[],$t=wt.trim();if($t==="")return lv;if($t in a5)return[a5[$t]];for(;$t!=="";){switch(nt=null,jt=($t=u5($t)).charAt(0)){case'"':case"'":nt=AN($t.substring(1),jt);break;default:nt=PN($t)}if(nt===null||(Bn.push(nt[0]),($t=u5(nt[1]))!==""&&$t.charAt(0)!==","))return lv;$t=$t.replace(/^,/,"")}return Bn}(Ke);if(this.fontFaces){var ht=EN(Ye(this.pdf,this.fontFaces),Xe.map(function(wt){return{family:wt,stretch:"normal",weight:lt,style:Pt}}));this.pdf.setFont(ht.ref.name,ht.ref.style)}else{var St="";(lt==="bold"||parseInt(lt,10)>=700||Pt==="bold")&&(St="bold"),Pt==="italic"&&(St+="italic"),St.length===0&&(St="normal");for(var Ct="",dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<Xe.length;yt++){if(this.pdf.internal.getFont(Xe[yt],St,{noFallback:!0,disableWarning:!0})!==void 0){Ct=Xe[yt];break}if(St==="bolditalic"&&this.pdf.internal.getFont(Xe[yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ct=Xe[yt],St="bold";else if(this.pdf.internal.getFont(Xe[yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ct=Xe[yt],St="normal";break}}if(Ct===""){for(var Kt=0;Kt<Xe.length;Kt++)if(dt[Xe[Kt]]){Ct=dt[Xe[Kt]];break}}Ct=Ct===""?"Times":Ct,this.pdf.setFont(Ct,St)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,Ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,Ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};v.prototype.setLineDash=function(F){this.lineDash=F},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){te.call(this,"fill",!1)},v.prototype.stroke=function(){te.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(F,X){if(isNaN(F)||isNaN(X))throw Ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new a(F,X));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(F,X)},v.prototype.closePath=function(){var F=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&yn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){F=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(F.x,F.y)},v.prototype.lineTo=function(F,X){if(isNaN(F)||isNaN(X))throw Ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new a(F,X));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),te.call(this,null,!0)},v.prototype.quadraticCurveTo=function(F,X,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(F)||isNaN(X))throw Ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new a(J,ie)),xe=this.ctx.transform.applyToPoint(new a(F,X));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new a(le.x,le.y)},v.prototype.bezierCurveTo=function(F,X,J,ie,le,xe){if(isNaN(le)||isNaN(xe)||isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie))throw Ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new a(le,xe)),Le=this.ctx.transform.applyToPoint(new a(F,X)),$e=this.ctx.transform.applyToPoint(new a(J,ie));this.path.push({type:"bct",x1:Le.x,y1:Le.y,x2:$e.x,y2:$e.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new a(Se.x,Se.y)},v.prototype.arc=function(F,X,J,ie,le,xe){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie)||isNaN(le))throw Ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=!!xe,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new a(F,X));F=Se.x,X=Se.y;var Le=this.ctx.transform.applyToPoint(new a(0,J)),$e=this.ctx.transform.applyToPoint(new a(0,0));J=Math.sqrt(Math.pow(Le.x-$e.x,2)+Math.pow(Le.y-$e.y,2))}Math.abs(le-ie)>=2*Math.PI&&(ie=0,le=2*Math.PI),this.path.push({type:"arc",x:F,y:X,radius:J,startAngle:ie,endAngle:le,counterclockwise:xe})},v.prototype.arcTo=function(F,X,J,ie,le){throw new Error("arcTo not implemented.")},v.prototype.rect=function(F,X,J,ie){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie))throw Ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,X),this.lineTo(F+J,X),this.lineTo(F+J,X+ie),this.lineTo(F,X+ie),this.lineTo(F,X),this.lineTo(F+J,X),this.lineTo(F,X)},v.prototype.fillRect=function(F,X,J,ie){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie))throw Ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!_.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,X,J,ie),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},v.prototype.strokeRect=function(F,X,J,ie){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie))throw Ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(F,X,J,ie),this.stroke())},v.prototype.clearRect=function(F,X,J,ie){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie))throw Ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,X,J,ie))},v.prototype.save=function(F){F=typeof F!="boolean"||F;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},v.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(X),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(F){var X,J,ie,le;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))X=0,J=0,ie=0,le=0;else{var xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(xe!==null)X=parseInt(xe[1]),J=parseInt(xe[2]),ie=parseInt(xe[3]),le=1;else if((xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)X=parseInt(xe[1]),J=parseInt(xe[2]),ie=parseInt(xe[3]),le=parseFloat(xe[4]);else{if(le=1,typeof F=="string"&&F.charAt(0)!=="#"){var Se=new DS(F);F=Se.ok?Se.toHex():"#000000"}F.length===4?(X=F.substring(1,2),X+=X,J=F.substring(2,3),J+=J,ie=F.substring(3,4),ie+=ie):(X=F.substring(1,3),J=F.substring(3,5),ie=F.substring(5,7)),X=parseInt(X,16),J=parseInt(J,16),ie=parseInt(ie,16)}}return{r:X,g:J,b:ie,a:le,style:F}},_=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(F,X,J,ie){if(isNaN(X)||isNaN(J)||typeof F!="string")throw Ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!_.call(this)){var le=Y(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;O.call(this,{text:F,x:X,y:J,scale:xe,angle:le,align:this.textAlign,maxWidth:ie})}},v.prototype.strokeText=function(F,X,J,ie){if(isNaN(X)||isNaN(J)||typeof F!="string")throw Ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){ie=isNaN(ie)?void 0:ie;var le=Y(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;O.call(this,{text:F,x:X,y:J,scale:xe,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:ie})}},v.prototype.measureText=function(F){if(typeof F!="string")throw Ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,J=this.pdf.internal.scaleFactor,ie=X.internal.getFontSize(),le=X.getStringUnitWidth(F)*ie/X.internal.scaleFactor,xe=function(Se){var Le=(Se=Se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Le}}),this};return new xe({width:le*=Math.round(96*J/72*1e4)/1e4})},v.prototype.scale=function(F,X){if(isNaN(F)||isNaN(X))throw Ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new u(F,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.rotate=function(F){if(isNaN(F))throw Ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new u(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},v.prototype.translate=function(F,X){if(isNaN(F)||isNaN(X))throw Ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new u(1,0,0,1,F,X);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.transform=function(F,X,J,ie,le,xe){if(isNaN(F)||isNaN(X)||isNaN(J)||isNaN(ie)||isNaN(le)||isNaN(xe))throw Ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new u(F,X,J,ie,le,xe);this.ctx.transform=this.ctx.transform.multiply(Se)},v.prototype.setTransform=function(F,X,J,ie,le,xe){F=isNaN(F)?1:F,X=isNaN(X)?0:X,J=isNaN(J)?0:J,ie=isNaN(ie)?1:ie,le=isNaN(le)?0:le,xe=isNaN(xe)?0:xe,this.ctx.transform=new u(F,X,J,ie,le,xe)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(F,X,J,ie,le,xe,Se,Le,$e){var qe=this.pdf.getImageProperties(F),Ze=1,Ye=1,pt=1,Oe=1;ie!==void 0&&Le!==void 0&&(pt=Le/ie,Oe=$e/le,Ze=qe.width/ie*Le/ie,Ye=qe.height/le*$e/le),xe===void 0&&(xe=X,Se=J,X=0,J=0),ie!==void 0&&Le===void 0&&(Le=ie,$e=le),ie===void 0&&Le===void 0&&(Le=qe.width,$e=qe.height);for(var se,Pt=this.ctx.transform.decompose(),lt=Y(Pt.rotate.shx),He=new u,Ke=(He=(He=(He=He.multiply(Pt.translate)).multiply(Pt.skew)).multiply(Pt.scale)).applyToRectangle(new l(xe-X*pt,Se-J*Oe,ie*Ze,le*Ye)),Je=M.call(this,Ke),Xe=[],ht=0;ht<Je.length;ht+=1)Xe.indexOf(Je[ht])===-1&&Xe.push(Je[ht]);if(j(Xe),this.autoPaging)for(var St=Xe[0],Ct=Xe[Xe.length-1],dt=St;dt<Ct+1;dt++){this.pdf.setPage(dt);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=dt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=dt===1?0:wt+(dt-2)*jt;if(this.ctx.clip_path.length!==0){var Bn=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(se,this.posX+this.margin[3],-nt+Kt+this.ctx.prevPageLastElemOffset),he.call(this,"fill",!0),this.path=Bn}var $t=JSON.parse(JSON.stringify(Ke));$t=T([$t],this.posX+this.margin[3],-nt+Kt+this.ctx.prevPageLastElemOffset)[0];var Ir=(dt>St||dt<Ct)&&C.call(this);Ir&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,jt,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,lt),Ir&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,lt)};var M=function(F,X,J){var ie=[];X=X||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":ie.push(Math.floor((F.y+le)/J)+1);break;case"arc":ie.push(Math.floor((F.y+le-F.radius)/J)+1),ie.push(Math.floor((F.y+le+F.radius)/J)+1);break;case"qct":var xe=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);ie.push(Math.floor((xe.y+le)/J)+1),ie.push(Math.floor((xe.y+xe.h+le)/J)+1);break;case"bct":var Se=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);ie.push(Math.floor((Se.y+le)/J)+1),ie.push(Math.floor((Se.y+Se.h+le)/J)+1);break;case"rect":ie.push(Math.floor((F.y+le)/J)+1),ie.push(Math.floor((F.y+F.h+le)/J)+1)}for(var Le=0;Le<ie.length;Le+=1)for(;this.pdf.internal.getNumberOfPages()<ie[Le];)E.call(this);return ie},E=function(){var F=this.fillStyle,X=this.strokeStyle,J=this.font,ie=this.lineCap,le=this.lineWidth,xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=X,this.font=J,this.lineCap=ie,this.lineWidth=le,this.lineJoin=xe},T=function(F,X,J){for(var ie=0;ie<F.length;ie++)switch(F[ie].type){case"bct":F[ie].x2+=X,F[ie].y2+=J;case"qct":F[ie].x1+=X,F[ie].y1+=J;case"mt":case"lt":case"arc":default:F[ie].x+=X,F[ie].y+=J}return F},j=function(F){return F.sort(function(X,J){return X-J})},te=function(F,X){for(var J,ie,le=this.fillStyle,xe=this.strokeStyle,Se=this.lineCap,Le=this.lineWidth,$e=Math.abs(Le*this.ctx.transform.scaleX),qe=this.lineJoin,Ze=JSON.parse(JSON.stringify(this.path)),Ye=JSON.parse(JSON.stringify(this.path)),pt=[],Oe=0;Oe<Ye.length;Oe++)if(Ye[Oe].x!==void 0)for(var se=M.call(this,Ye[Oe]),Pt=0;Pt<se.length;Pt+=1)pt.indexOf(se[Pt])===-1&&pt.push(se[Pt]);for(var lt=0;lt<pt.length;lt++)for(;this.pdf.internal.getNumberOfPages()<pt[lt];)E.call(this);if(j(pt),this.autoPaging)for(var He=pt[0],Ke=pt[pt.length-1],Je=He;Je<Ke+1;Je++){this.pdf.setPage(Je),this.fillStyle=le,this.strokeStyle=xe,this.lineCap=Se,this.lineWidth=$e,this.lineJoin=qe;var Xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ht=Je===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Je===1?0:St+(Je-2)*Ct;if(this.ctx.clip_path.length!==0){var yt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T(J,this.posX+this.margin[3],-dt+ht+this.ctx.prevPageLastElemOffset),he.call(this,F,!0),this.path=yt}if(ie=JSON.parse(JSON.stringify(Ze)),this.path=T(ie,this.posX+this.margin[3],-dt+ht+this.ctx.prevPageLastElemOffset),X===!1||Je===0){var Kt=(Je>He||Je<Ke)&&C.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,Ct,null).clip().discardPath()),he.call(this,F,X),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=Le}else this.lineWidth=$e,he.call(this,F,X),this.lineWidth=Le;this.path=Ze},he=function(F,X){if((F!=="stroke"||X||!k.call(this))&&(F==="stroke"||X||!_.call(this))){for(var J,ie,le=[],xe=this.path,Se=0;Se<xe.length;Se++){var Le=xe[Se];switch(Le.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Le,deltas:[],abs:[]});break;case"lt":var $e=le.length;if(xe[Se-1]&&!isNaN(xe[Se-1].x)&&(J=[Le.x-xe[Se-1].x,Le.y-xe[Se-1].y],$e>0)){for(;$e>=0;$e--)if(le[$e-1].close!==!0&&le[$e-1].begin!==!0){le[$e-1].deltas.push(J),le[$e-1].abs.push(Le);break}}break;case"bct":J=[Le.x1-xe[Se-1].x,Le.y1-xe[Se-1].y,Le.x2-xe[Se-1].x,Le.y2-xe[Se-1].y,Le.x-xe[Se-1].x,Le.y-xe[Se-1].y],le[le.length-1].deltas.push(J);break;case"qct":var qe=xe[Se-1].x+2/3*(Le.x1-xe[Se-1].x),Ze=xe[Se-1].y+2/3*(Le.y1-xe[Se-1].y),Ye=Le.x+2/3*(Le.x1-Le.x),pt=Le.y+2/3*(Le.y1-Le.y),Oe=Le.x,se=Le.y;J=[qe-xe[Se-1].x,Ze-xe[Se-1].y,Ye-xe[Se-1].x,pt-xe[Se-1].y,Oe-xe[Se-1].x,se-xe[Se-1].y],le[le.length-1].deltas.push(J);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Le)}}ie=X?null:F==="stroke"?"stroke":"fill";for(var Pt=!1,lt=0;lt<le.length;lt++)if(le[lt].arc)for(var He=le[lt].abs,Ke=0;Ke<He.length;Ke++){var Je=He[Ke];Je.type==="arc"?R.call(this,Je.x,Je.y,Je.radius,Je.startAngle,Je.endAngle,Je.counterclockwise,void 0,X,!Pt):D.call(this,Je.x,Je.y),Pt=!0}else if(le[lt].close===!0)this.pdf.internal.out("h"),Pt=!1;else if(le[lt].begin!==!0){var Xe=le[lt].start.x,ht=le[lt].start.y;oe.call(this,le[lt].deltas,Xe,ht),Pt=!0}ie&&U.call(this,ie),X&&K.call(this)}},we=function(F){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-J;case"top":return F+X-J;case"hanging":return F+X-2*J;case"middle":return F+X/2-J;case"ideographic":return F;case"alphabetic":default:return F}},z=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(X,J){this.colorStops.push([X,J])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(F,X,J,ie,le,xe,Se,Le,$e){for(var qe=de.call(this,J,ie,le,xe),Ze=0;Ze<qe.length;Ze++){var Ye=qe[Ze];Ze===0&&($e?N.call(this,Ye.x1+F,Ye.y1+X):D.call(this,Ye.x1+F,Ye.y1+X)),pe.call(this,F,X,Ye.x2,Ye.y2,Ye.x3,Ye.y3,Ye.x4,Ye.y4)}Le?K.call(this):U.call(this,Se)},U=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(F,X){this.pdf.internal.out(n(F)+" "+r(X)+" m")},O=function(F){var X;switch(F.align){case"right":case"end":X="right";break;case"center":X="center";break;case"left":case"start":default:X="left"}var J=this.pdf.getTextDimensions(F.text),ie=we.call(this,F.y),le=z.call(this,ie)-J.h,xe=this.ctx.transform.applyToPoint(new a(F.x,ie)),Se=this.ctx.transform.decompose(),Le=new u;Le=(Le=(Le=Le.multiply(Se.translate)).multiply(Se.skew)).multiply(Se.scale);for(var $e,qe,Ze,Ye=this.ctx.transform.applyToRectangle(new l(F.x,ie,J.w,J.h)),pt=Le.applyToRectangle(new l(F.x,le,J.w,J.h)),Oe=M.call(this,pt),se=[],Pt=0;Pt<Oe.length;Pt+=1)se.indexOf(Oe[Pt])===-1&&se.push(Oe[Pt]);if(j(se),this.autoPaging)for(var lt=se[0],He=se[se.length-1],Ke=lt;Ke<He+1;Ke++){this.pdf.setPage(Ke);var Je=Ke===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[2],St=ht-this.margin[0],Ct=this.pdf.internal.pageSize.width-this.margin[1],dt=Ct-this.margin[3],yt=Ke===1?0:Xe+(Ke-2)*St;if(this.ctx.clip_path.length!==0){var Kt=this.path;$e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=T($e,this.posX+this.margin[3],-1*yt+Je),he.call(this,"fill",!0),this.path=Kt}var wt=T([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-yt+Je+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*F.scale),Ze=this.lineWidth,this.lineWidth=Ze*F.scale);var jt=this.autoPaging!=="text";if(jt||wt.y+wt.h<=ht){if(jt||wt.y>=Je&&wt.x<=Ct){var nt=jt?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||Ct-wt.x)[0],Bn=T([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-yt+Je+this.ctx.prevPageLastElemOffset)[0],$t=jt&&(Ke>lt||Ke<He)&&C.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,St,null).clip().discardPath()),this.pdf.text(nt,Bn.x,Bn.y,{angle:F.angle,align:X,renderingMode:F.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else wt.y<ht&&(this.ctx.prevPageLastElemOffset+=ht-wt.y);F.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=Ze)}else F.scale>=.01&&(qe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(qe*F.scale),Ze=this.lineWidth,this.lineWidth=Ze*F.scale),this.pdf.text(F.text,xe.x+this.posX,xe.y+this.posY,{angle:F.angle,align:X,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(qe),this.lineWidth=Ze)},D=function(F,X,J,ie){J=J||0,ie=ie||0,this.pdf.internal.out(n(F+J)+" "+r(X+ie)+" l")},oe=function(F,X,J){return this.pdf.lines(F,X,J,null,null)},pe=function(F,X,J,ie,le,xe,Se,Le){this.pdf.internal.out([e(i(J+F)),e(s(ie+X)),e(i(le+F)),e(s(xe+X)),e(i(Se+F)),e(s(Le+X)),"c"].join(" "))},de=function(F,X,J,ie){for(var le=2*Math.PI,xe=Math.PI/2;X>J;)X-=le;var Se=Math.abs(J-X);Se<le&&ie&&(Se=le-Se);for(var Le=[],$e=ie?-1:1,qe=X;Se>1e-5;){var Ze=qe+$e*Math.min(Se,xe);Le.push(re.call(this,F,qe,Ze)),Se-=Math.abs(Ze-qe),qe=Ze}return Le},re=function(F,X,J){var ie=(J-X)/2,le=F*Math.cos(ie),xe=F*Math.sin(ie),Se=le,Le=-xe,$e=Se*Se+Le*Le,qe=$e+Se*le+Le*xe,Ze=4/3*(Math.sqrt(2*$e*qe)-qe)/(Se*xe-Le*le),Ye=Se-Ze*Le,pt=Le+Ze*Se,Oe=Ye,se=-pt,Pt=ie+X,lt=Math.cos(Pt),He=Math.sin(Pt);return{x1:F*Math.cos(X),y1:F*Math.sin(X),x2:Ye*lt-pt*He,y2:Ye*He+pt*lt,x3:Oe*lt-se*He,y3:Oe*He+se*lt,x4:F*Math.cos(J),y4:F*Math.sin(J)}},Y=function(F){return 180*F/Math.PI},ce=function(F,X,J,ie,le,xe){var Se=F+.5*(J-F),Le=X+.5*(ie-X),$e=le+.5*(J-le),qe=xe+.5*(ie-xe),Ze=Math.min(F,le,Se,$e),Ye=Math.max(F,le,Se,$e),pt=Math.min(X,xe,Le,qe),Oe=Math.max(X,xe,Le,qe);return new l(Ze,pt,Ye-Ze,Oe-pt)},ae=function(F,X,J,ie,le,xe,Se,Le){var $e,qe,Ze,Ye,pt,Oe,se,Pt,lt,He,Ke,Je,Xe,ht,St=J-F,Ct=ie-X,dt=le-J,yt=xe-ie,Kt=Se-le,wt=Le-xe;for(qe=0;qe<41;qe++)lt=(se=(Ze=F+($e=qe/40)*St)+$e*((pt=J+$e*dt)-Ze))+$e*(pt+$e*(le+$e*Kt-pt)-se),He=(Pt=(Ye=X+$e*Ct)+$e*((Oe=ie+$e*yt)-Ye))+$e*(Oe+$e*(xe+$e*wt-Oe)-Pt),qe==0?(Ke=lt,Je=He,Xe=lt,ht=He):(Ke=Math.min(Ke,lt),Je=Math.min(Je,He),Xe=Math.max(Xe,lt),ht=Math.max(ht,He));return new l(Math.round(Ke),Math.round(Je),Math.round(Xe-Ke),Math.round(ht-Je))},Ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,X,J=(F=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:X}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(xt.API),function(t){var e=function(s){var a,l,u,f,g,v,b,_,k,C;for(l=[],u=0,f=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;f>u;u+=4)(g=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(v=(g=((g=((g=((g=(g-(C=g%85))/85)-(k=g%85))/85)-(_=g%85))/85)-(b=g%85))/85)%85,l.push(v+33,b+33,_+33,k+33,C+33)):l.push(122);return function(M,E){for(var T=E;T>0;T--)M.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var a,l,u,f,g,v=String,b="length",_=255,k="charCodeAt",C="slice",M="replace";for(s[C](-2),s=s[C](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),u=[],f=0,g=(s+=a="uuuuu"[C](s[b]%5||5))[b];g>f;f+=5)l=52200625*(s[k](f)-33)+614125*(s[k](f+1)-33)+7225*(s[k](f+2)-33)+85*(s[k](f+3)-33)+(s[k](f+4)-33),u.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(E,T){for(var j=T;j>0;j--)E.pop()}(u,a[b]),v.fromCharCode.apply(v,u)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},i=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return s=(a=C0(a)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(s,a){var l=0,u=s||"",f=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(xt.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var l=void 0;try{l=function(u,f,g){var v=new XMLHttpRequest,b=0,_=function(k){var C=k.length,M=[],E=String.fromCharCode;for(b=0;b<C;b+=1)M.push(E(255&k.charCodeAt(b)));return M.join("")};if(v.open("GET",u,!f),v.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(v.onload=function(){v.status===200?g(_(this.responseText)):g(void 0)}),v.send(null),f&&v.status===200)return _(v.responseText)}(i,s,a)}catch{}return l}(e,n,r)},t.loadImageFile=t.loadFile}(xt.API),function(t){function e(){return(It.html2canvas?Promise.resolve(It.html2canvas):P0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(It.DOMPurify?Promise.resolve(It.DOMPurify):P0(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=yn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var u=document.createElement(a);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},s=function a(l){var u=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),f=a.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:a,dompurify:u})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(f,g){for(var v=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)g!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||v.appendChild(u(b,g));return f.nodeType===1&&(f.nodeName==="CANVAS"?(v.width=f.width,v.height=f.height,v.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(v.value=f.value),v.addEventListener("load",function(){v.scrollTop=f.scrollTop,v.scrollLeft=f.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var b=0;b<f.length;++b){var _=f[b],k=_.src.find(function(C){return C.format==="truetype"});k&&u.addFont(k.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=a[u]};switch(u){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[u]=a[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var u=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(u):u})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(a=a||xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,u,f){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,u,f){return this.setProgress(a?this.progress.val+a:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(a,l){var u=this;return this.thenCore(a,l,function(f,g){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,f),v}).then(f,g).then(function(v){return u.updateProgress(1),v})})},s.prototype.thenCore=function(a,l,u){u=u||Promise.prototype.then,a&&(a=a.bind(this)),l&&(l=l.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),g=u.call(f,a,l);return s.convert(g,this.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,xt.getPageSize=function(a,l,u){if(yn(a)==="object"){var f=a;a=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",a=(""+(a||"P")).toLowerCase();var g,v=(""+u).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var _,k=0,C=0;if(b.hasOwnProperty(v))k=b[v][1]/g,C=b[v][0]/g;else try{k=u[1],C=u[0]}catch{throw new Error("Invalid format: "+u)}if(a==="p"||a==="portrait")a="p",C>k&&(_=C,C=k,k=_);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",k>C&&(_=C,C=k,k=_)}return{width:C,height:k,unit:l,k:g,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(F0):null;var u=new s(l);return l.worker?u:u.from(a).doCallback()}}(xt.API),xt.API.addJS=function(t){return h5=t,this.internal.events.subscribe("postPutResources",function(){Kd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Kd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),c5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+h5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Kd!==void 0&&c5!==void 0&&this.internal.out("/Names <</JavaScript "+Kd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],l=r.exec(a);if(l!=null){var u=l[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,g=[];for(s=0;s<f;s++){var v=n.internal.newObject();g.push(v);var b=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var _=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<g.length;s++)n.internal.write("(page_"+(s+1)+")"+g[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+_+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var l=this.count=this.count_r({count:0},a);if(l>0&&this.line("/Count "+l),a.options&&a.options.pageNumber){var u=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(xt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,l){var u,f=this.decode.DCT_DECODE,g=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(v){for(var b,_=256*v.charCodeAt(4)+v.charCodeAt(5),k=v.length,C={width:0,height:0,numcomponents:1},M=4;M<k;M+=2){if(M+=_,e.indexOf(v.charCodeAt(M+1))!==-1){b=256*v.charCodeAt(M+5)+v.charCodeAt(M+6),C={width:256*v.charCodeAt(M+7)+v.charCodeAt(M+8),height:b,numcomponents:v.charCodeAt(M+9)};break}_=256*v.charCodeAt(M+2)+v.charCodeAt(M+3)}return C}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}g={data:n,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:f,index:r,alias:i}}return g}}(xt.API);var cc,Zd,f5,d5,p5,TN=function(){var t,e,n;function r(s){var a,l,u,f,g,v,b,_,k,C,M,E,T,j;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(a=this.readUInt32(),k=(function(){var te,he;for(he=[],te=0;te<4;++te)he.push(String.fromCharCode(this.data[this.pos++]));return he}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},g=this.readUInt16(),f=this.readUInt16()||100,v.delay=1e3*g/f,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(k==="fdAT"&&(this.pos+=4,a-=4),s=(v!=null?v.data:void 0)||this.imgData,E=0;0<=a?E<a:E>a;0<=a?++E:--E)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((C=u-this.transparency.indexed.length)>0)for(T=0;0<=C?T<C:T>C;0<=C?++T:--T)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":b=(M=this.read(a)).indexOf(0),_=String.fromCharCode.apply(String,M.slice(0,b)),this.text[_]=String.fromCharCode.apply(String,M.slice(b+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,l;for(l=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*a),u=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function g(v,b,_,k){var C,M,E,T,j,te,he,we,z,R,U,K,N,O,D,oe,pe,de,re,Y,ce,ae=Math.ceil((f.width-v)/_),Ne=Math.ceil((f.height-b)/k),F=f.width==ae&&f.height==Ne;for(O=a*ae,K=F?l:new Uint8Array(O*Ne),te=s.length,N=0,M=0;N<Ne&&u<te;){switch(s[u++]){case 0:for(T=pe=0;pe<O;T=pe+=1)K[M++]=s[u++];break;case 1:for(T=de=0;de<O;T=de+=1)C=s[u++],j=T<a?0:K[M-a],K[M++]=(C+j)%256;break;case 2:for(T=re=0;re<O;T=re+=1)C=s[u++],E=(T-T%a)/a,D=N&&K[(N-1)*O+E*a+T%a],K[M++]=(D+C)%256;break;case 3:for(T=Y=0;Y<O;T=Y+=1)C=s[u++],E=(T-T%a)/a,j=T<a?0:K[M-a],D=N&&K[(N-1)*O+E*a+T%a],K[M++]=(C+Math.floor((j+D)/2))%256;break;case 4:for(T=ce=0;ce<O;T=ce+=1)C=s[u++],E=(T-T%a)/a,j=T<a?0:K[M-a],N===0?D=oe=0:(D=K[(N-1)*O+E*a+T%a],oe=E&&K[(N-1)*O+(E-1)*a+T%a]),he=j+D-oe,we=Math.abs(he-j),R=Math.abs(he-D),U=Math.abs(he-oe),z=we<=R&&we<=U?j:R<=U?D:oe,K[M++]=(C+z)%256;break;default:throw new Error("Invalid filter algorithm: "+s[u-1])}if(!F){var X=((b+N*k)*f.width+v)*a,J=N*O;for(T=0;T<ae;T+=1){for(var ie=0;ie<a;ie+=1)l[X++]=K[J++];X+=(_-1)*a}}N++}}return s=sN(s),f.interlaceMethod==1?(g(0,0,8,8),g(4,0,8,8),g(0,4,4,8),g(2,0,4,4),g(0,2,2,4),g(1,0,2,2),g(0,1,1,2)):g(0,0,1,1),l},r.prototype.decodePalette=function(){var s,a,l,u,f,g,v,b,_;for(l=this.palette,g=this.transparency.indexed||[],f=new Uint8Array((g.length||0)+l.length),u=0,s=0,a=v=0,b=l.length;v<b;a=v+=3)f[u++]=l[a],f[u++]=l[a+1],f[u++]=l[a+2],f[u++]=(_=g[s++])!=null?_:255;return f},r.prototype.copyToImageData=function(s,a){var l,u,f,g,v,b,_,k,C,M,E;if(u=this.colors,C=null,l=this.hasAlphaChannel,this.palette.length&&(C=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),u=4,l=!0),k=(f=s.data||s).length,v=C||a,g=b=0,u===1)for(;g<k;)_=C?4*a[g/4]:b,M=v[_++],f[g++]=M,f[g++]=M,f[g++]=M,f[g++]=l?v[_++]:255,b=_;else for(;g<k;)_=C?4*a[g/4]:b,f[g++]=v[_++],f[g++]=v[_++],f[g++]=v[_++],f[g++]=l?v[_++]:255,b=_},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(It)==="[object Window]"){try{e=It.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,l,u,f,g,v,b,_;if(this.animation){for(_=[],l=g=0,v=(b=this.animation.frames).length;g<v;l=++g)a=b[l],u=s.createImageData(a.width,a.height),f=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(u,f),a.imageData=u,_.push(a.image=t(u));return _}},r.prototype.renderFrame=function(s,a){var l,u,f;return l=(u=this.animation.frames)[a],f=u[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(s){var a,l,u,f,g,v,b=this;return l=0,v=this.animation,f=v.numFrames,u=v.frames,g=v.numPlays,(a=function(){var _,k;if(_=l++%f,k=u[_],b.renderFrame(s,_),f>1&&l/f<g)return b.animation._timeout=setTimeout(a,k.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(l=a.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),a.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function IN(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var l=null,u=null;s&&(l=e,u=a,e+=3*a);var f=!0,g=[],v=0,b=null,_=0,k=null;for(this.width=n,this.height=r;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,k=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[e++];v=t[e++]|t[e++]<<8,b=t[e++],!(1&C)&&(b=null),_=C>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var M=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,te=t[e++],he=te>>6&1,we=1<<(7&te)+1,z=l,R=u,U=!1;te>>7&&(U=!0,z=e,R=we,e+=3*we);var K=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}g.push({x:M,y:E,width:T,height:j,has_local_palette:U,palette_offset:z,palette_size:R,data_offset:K,data_length:e-K,transparent_index:b,interlaced:!!he,delay:v,disposal:_});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return k},this.frameInfo=function(O){if(O<0||O>=g.length)throw new Error("Frame index out of range.");return g[O]},this.decodeAndBlitFrameBGRA=function(O,D){var oe=this.frameInfo(O),pe=oe.width*oe.height,de=new Uint8Array(pe);m5(t,oe.data_offset,de,pe);var re=oe.palette_offset,Y=oe.transparent_index;Y===null&&(Y=256);var ce=oe.width,ae=n-ce,Ne=ce,F=4*(oe.y*n+oe.x),X=4*((oe.y+oe.height)*n+oe.x),J=F,ie=4*ae;oe.interlaced===!0&&(ie+=4*n*7);for(var le=8,xe=0,Se=de.length;xe<Se;++xe){var Le=de[xe];if(Ne===0&&(Ne=ce,(J+=ie)>=X&&(ie=4*ae+4*n*(le-1),J=F+(ce+ae)*(le<<1),le>>=1)),Le===Y)J+=4;else{var $e=t[re+3*Le],qe=t[re+3*Le+1],Ze=t[re+3*Le+2];D[J++]=Ze,D[J++]=qe,D[J++]=$e,D[J++]=255}--Ne}},this.decodeAndBlitFrameRGBA=function(O,D){var oe=this.frameInfo(O),pe=oe.width*oe.height,de=new Uint8Array(pe);m5(t,oe.data_offset,de,pe);var re=oe.palette_offset,Y=oe.transparent_index;Y===null&&(Y=256);var ce=oe.width,ae=n-ce,Ne=ce,F=4*(oe.y*n+oe.x),X=4*((oe.y+oe.height)*n+oe.x),J=F,ie=4*ae;oe.interlaced===!0&&(ie+=4*n*7);for(var le=8,xe=0,Se=de.length;xe<Se;++xe){var Le=de[xe];if(Ne===0&&(Ne=ce,(J+=ie)>=X&&(ie=4*ae+4*n*(le-1),J=F+(ce+ae)*(le<<1),le>>=1)),Le===Y)J+=4;else{var $e=t[re+3*Le],qe=t[re+3*Le+1],Ze=t[re+3*Le+2];D[J++]=$e,D[J++]=qe,D[J++]=Ze,D[J++]=255}--Ne}}}function m5(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,l=a+1,u=i+1,f=(1<<u)-1,g=0,v=0,b=0,_=t[e++],k=new Int32Array(4096),C=null;;){for(;g<16&&_!==0;)v|=t[e++]<<g,g+=8,_===1?_=t[e++]:--_;if(g<u)break;var M=v&f;if(v>>=u,g-=u,M!==s){if(M===a)break;for(var E=M<l?M:C,T=0,j=E;j>s;)j=k[j]>>8,++T;var te=j;if(b+T+(E!==M?1:0)>r)return void Ln.log("Warning, gif stream longer than expected.");n[b++]=te;var he=b+=T;for(E!==M&&(n[b++]=te),j=E;T--;)j=k[j],n[--he]=255&j,j>>=8;C!==null&&l<4096&&(k[l++]=C<<8|te,l>=f+1&&u<12&&(++u,f=f<<1|1)),C=M}else l=a+1,f=(1<<(u=i+1))-1,C=null}return b!==r&&Ln.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function uv(t){var e,n,r,i,s,a=Math.floor,l=new Array(64),u=new Array(64),f=new Array(64),g=new Array(64),v=new Array(65535),b=new Array(65535),_=new Array(64),k=new Array(64),C=[],M=0,E=7,T=new Array(64),j=new Array(64),te=new Array(64),he=new Array(256),we=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(F,X){for(var J=0,ie=0,le=new Array,xe=1;xe<=16;xe++){for(var Se=1;Se<=F[xe];Se++)le[X[ie]]=[],le[X[ie]][0]=J,le[X[ie]][1]=xe,ie++,J++;J*=2}return le}function re(F){for(var X=F[0],J=F[1]-1;J>=0;)X&1<<J&&(M|=1<<E),J--,--E<0&&(M==255?(Y(255),Y(0)):Y(M),E=7,M=0)}function Y(F){C.push(F)}function ce(F){Y(F>>8&255),Y(255&F)}function ae(F,X,J,ie,le){for(var xe,Se=le[0],Le=le[240],$e=function(He,Ke){var Je,Xe,ht,St,Ct,dt,yt,Kt,wt,jt,nt=0;for(wt=0;wt<8;++wt){Je=He[nt],Xe=He[nt+1],ht=He[nt+2],St=He[nt+3],Ct=He[nt+4],dt=He[nt+5],yt=He[nt+6];var Bn=Je+(Kt=He[nt+7]),$t=Je-Kt,Ir=Xe+yt,tn=Xe-yt,xn=ht+dt,Nr=ht-dt,Zt=St+Ct,Ps=St-Ct,Sn=Bn+Zt,fr=Bn-Zt,oi=Ir+xn,En=Ir-xn;He[nt]=Sn+oi,He[nt+4]=Sn-oi;var gt=.707106781*(En+fr);He[nt+2]=fr+gt,He[nt+6]=fr-gt;var Jt=.382683433*((Sn=Ps+Nr)-(En=tn+$t)),zi=.5411961*Sn+Jt,Zn=1.306562965*En+Jt,Lr=.707106781*(oi=Nr+tn),qr=$t+Lr,ot=$t-Lr;He[nt+5]=ot+zi,He[nt+3]=ot-zi,He[nt+1]=qr+Zn,He[nt+7]=qr-Zn,nt+=8}for(nt=0,wt=0;wt<8;++wt){Je=He[nt],Xe=He[nt+8],ht=He[nt+16],St=He[nt+24],Ct=He[nt+32],dt=He[nt+40],yt=He[nt+48];var ai=Je+(Kt=He[nt+56]),Cr=Je-Kt,Yn=Xe+yt,an=Xe-yt,et=ht+dt,Un=ht-dt,ao=St+Ct,Ui=St-Ct,_r=ai+ao,kr=ai-ao,Rr=Yn+et,Qn=Yn-et;He[nt]=_r+Rr,He[nt+32]=_r-Rr;var Vn=.707106781*(Qn+kr);He[nt+16]=kr+Vn,He[nt+48]=kr-Vn;var Ti=.382683433*((_r=Ui+Un)-(Qn=an+Cr)),Ts=.5411961*_r+Ti,Is=1.306562965*Qn+Ti,Ns=.707106781*(Rr=Un+an),Ls=Cr+Ns,lo=Cr-Ns;He[nt+40]=lo+Ts,He[nt+24]=lo-Ts,He[nt+8]=Ls+Is,He[nt+56]=Ls-Is,nt++}for(wt=0;wt<64;++wt)jt=He[wt]*Ke[wt],_[wt]=jt>0?jt+.5|0:jt-.5|0;return _}(F,X),qe=0;qe<64;++qe)k[z[qe]]=$e[qe];var Ze=k[0]-J;J=k[0],Ze==0?re(ie[0]):(re(ie[b[xe=32767+Ze]]),re(v[xe]));for(var Ye=63;Ye>0&&k[Ye]==0;)Ye--;if(Ye==0)return re(Se),J;for(var pt,Oe=1;Oe<=Ye;){for(var se=Oe;k[Oe]==0&&Oe<=Ye;)++Oe;var Pt=Oe-se;if(Pt>=16){pt=Pt>>4;for(var lt=1;lt<=pt;++lt)re(Le);Pt&=15}xe=32767+k[Oe],re(le[(Pt<<4)+b[xe]]),re(v[xe]),Oe++}return Ye!=63&&re(Se),J}function Ne(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(X){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var le=a((J[ie]*X+50)/100);le=Math.min(Math.max(le,1),255),l[z[ie]]=le}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Le=a((xe[Se]*X+50)/100);Le=Math.min(Math.max(Le,1),255),u[z[Se]]=Le}for(var $e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],qe=0,Ze=0;Ze<8;Ze++)for(var Ye=0;Ye<8;Ye++)f[qe]=1/(l[z[qe]]*$e[Ze]*$e[Ye]*8),g[qe]=1/(u[z[qe]]*$e[Ze]*$e[Ye]*8),qe++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,X){X&&Ne(X),C=new Array,M=0,E=7,ce(65496),ce(65504),ce(16),Y(74),Y(70),Y(73),Y(70),Y(0),Y(1),Y(1),Y(0),ce(1),ce(1),Y(0),Y(0),function(){ce(65499),ce(132),Y(0);for(var Xe=0;Xe<64;Xe++)Y(l[Xe]);Y(1);for(var ht=0;ht<64;ht++)Y(u[ht])}(),function(Xe,ht){ce(65472),ce(17),Y(8),ce(ht),ce(Xe),Y(3),Y(1),Y(17),Y(0),Y(2),Y(17),Y(1),Y(3),Y(17),Y(1)}(F.width,F.height),function(){ce(65476),ce(418),Y(0);for(var Xe=0;Xe<16;Xe++)Y(R[Xe+1]);for(var ht=0;ht<=11;ht++)Y(U[ht]);Y(16);for(var St=0;St<16;St++)Y(K[St+1]);for(var Ct=0;Ct<=161;Ct++)Y(N[Ct]);Y(1);for(var dt=0;dt<16;dt++)Y(O[dt+1]);for(var yt=0;yt<=11;yt++)Y(D[yt]);Y(17);for(var Kt=0;Kt<16;Kt++)Y(oe[Kt+1]);for(var wt=0;wt<=161;wt++)Y(pe[wt])}(),ce(65498),ce(12),Y(3),Y(1),Y(0),Y(2),Y(17),Y(3),Y(17),Y(0),Y(63),Y(0);var J=0,ie=0,le=0;M=0,E=7,this.encode.displayName="_encode_";for(var xe,Se,Le,$e,qe,Ze,Ye,pt,Oe,se=F.data,Pt=F.width,lt=F.height,He=4*Pt,Ke=0;Ke<lt;){for(xe=0;xe<He;){for(qe=He*Ke+xe,Ye=-1,pt=0,Oe=0;Oe<64;Oe++)Ze=qe+(pt=Oe>>3)*He+(Ye=4*(7&Oe)),Ke+pt>=lt&&(Ze-=He*(Ke+1+pt-lt)),xe+Ye>=He&&(Ze-=xe+Ye-He+4),Se=se[Ze++],Le=se[Ze++],$e=se[Ze++],T[Oe]=(we[Se]+we[Le+256>>0]+we[$e+512>>0]>>16)-128,j[Oe]=(we[Se+768>>0]+we[Le+1024>>0]+we[$e+1280>>0]>>16)-128,te[Oe]=(we[Se+1280>>0]+we[Le+1536>>0]+we[$e+1792>>0]>>16)-128;J=ae(T,f,J,e,r),ie=ae(j,g,ie,n,i),le=ae(te,g,le,n,i),xe+=32}Ke+=8}if(E>=0){var Je=[];Je[1]=E+1,Je[0]=(1<<E+1)-1,re(Je)}return ce(65497),new Uint8Array(C)},t=t||50,function(){for(var F=String.fromCharCode,X=0;X<256;X++)he[X]=F(X)}(),e=de(R,U),n=de(O,D),r=de(K,N),i=de(oe,pe),function(){for(var F=1,X=2,J=1;J<=15;J++){for(var ie=F;ie<X;ie++)b[32767+ie]=J,v[32767+ie]=[],v[32767+ie][1]=J,v[32767+ie][0]=ie;for(var le=-(X-1);le<=-F;le++)b[32767+le]=J,v[32767+le]=[],v[32767+le][1]=J,v[32767+le][0]=X-1+le;F<<=1,X<<=1}}(),function(){for(var F=0;F<256;F++)we[F]=19595*F,we[F+256>>0]=38470*F,we[F+512>>0]=7471*F+32768,we[F+768>>0]=-11059*F,we[F+1024>>0]=-21709*F,we[F+1280>>0]=32768*F+8421375,we[F+1536>>0]=-27439*F,we[F+1792>>0]=-5329*F}(),Ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Io(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function g5(t){function e(R){if(!R)throw Error("assert :P")}function n(R,U,K){for(var N=0;4>N;N++)if(R[U+N]!=K.charCodeAt(N))return!0;return!1}function r(R,U,K,N,O){for(var D=0;D<O;D++)R[U+D]=K[N+D]}function i(R,U,K,N){for(var O=0;O<N;O++)R[U+O]=K}function s(R){return new Int32Array(R)}function a(R,U){for(var K=[],N=0;N<R;N++)K.push(new U);return K}function l(R,U){var K=[];return function N(O,D,oe){for(var pe=oe[D],de=0;de<pe&&(O.push(oe.length>D+1?[]:new U),!(oe.length<D+1));de++)N(O[de],D+1,oe)}(K,0,R),K}var u=function(){var R=this;function U(h,m){for(var x=1<<m-1>>>0;h&x;)x>>>=1;return x?(h&x-1)+x:h}function K(h,m,x,A,V){e(!(A%x));do h[m+(A-=x)]=V;while(0<A)}function N(h,m,x,A,V){if(e(2328>=V),512>=V)var q=s(512);else if((q=s(V))==null)return 0;return function(H,Z,Q,ee,me,Pe){var Te,be,Fe=Z,Re=1<<Q,ge=s(16),_e=s(16);for(e(me!=0),e(ee!=null),e(H!=null),e(0<Q),be=0;be<me;++be){if(15<ee[be])return 0;++ge[ee[be]]}if(ge[0]==me)return 0;for(_e[1]=0,Te=1;15>Te;++Te){if(ge[Te]>1<<Te)return 0;_e[Te+1]=_e[Te]+ge[Te]}for(be=0;be<me;++be)Te=ee[be],0<ee[be]&&(Pe[_e[Te]++]=be);if(_e[15]==1)return(ee=new O).g=0,ee.value=Pe[0],K(H,Fe,1,Re,ee),Re;var Me,ze=-1,De=Re-1,st=0,tt=1,bt=1,rt=1<<Q;for(be=0,Te=1,me=2;Te<=Q;++Te,me<<=1){if(tt+=bt<<=1,0>(bt-=ge[Te]))return 0;for(;0<ge[Te];--ge[Te])(ee=new O).g=Te,ee.value=Pe[be++],K(H,Fe+st,me,rt,ee),st=U(st,Te)}for(Te=Q+1,me=2;15>=Te;++Te,me<<=1){if(tt+=bt<<=1,0>(bt-=ge[Te]))return 0;for(;0<ge[Te];--ge[Te]){if(ee=new O,(st&De)!=ze){for(Fe+=rt,Me=1<<(ze=Te)-Q;15>ze&&!(0>=(Me-=ge[ze]));)++ze,Me<<=1;Re+=rt=1<<(Me=ze-Q),H[Z+(ze=st&De)].g=Me+Q,H[Z+ze].value=Fe-Z-ze}ee.g=Te-Q,ee.value=Pe[be++],K(H,Fe+(st>>Q),me,rt,ee),st=U(st,Te)}}return tt!=2*_e[15]-1?0:Re}(h,m,x,A,V,q)}function O(){this.value=this.g=0}function D(){this.value=this.g=0}function oe(){this.G=a(5,O),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Xn,D)}function pe(h,m,x,A){e(h!=null),e(m!=null),e(2147483648>A),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=x,h.Jd=m,h.Yc=x+A,h.Zc=4<=A?x+A-4+1:x,xe(h)}function de(h,m){for(var x=0;0<m--;)x|=Le(h,128)<<m;return x}function re(h,m){var x=de(h,m);return Se(h)?-x:x}function Y(h,m,x,A){var V,q=0;for(e(h!=null),e(m!=null),e(4294967288>A),h.Sb=A,h.Ra=0,h.u=0,h.h=0,4<A&&(A=4),V=0;V<A;++V)q+=m[x+V]<<8*V;h.Ra=q,h.bb=A,h.oa=m,h.pa=x}function ce(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<bo-8>>>0,++h.bb,h.u-=8;J(h)&&(h.h=1,h.u=0)}function ae(h,m){if(e(0<=m),!h.h&&m<=ki){var x=X(h)&tl[m];return h.u+=m,ce(h),x}return h.h=1,h.u=0}function Ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(h){return h.Ra>>>(h.u&bo-1)>>>0}function J(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>bo}function ie(h,m){h.u=m,h.h=J(h)}function le(h){h.u>=uu&&(e(h.u>=uu),ce(h))}function xe(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Se(h){return de(h,1)}function Le(h,m){var x=h.Ca;0>h.b&&xe(h);var A=h.b,V=x*m>>>8,q=(h.I>>>A>V)+0;for(q?(x-=V,h.I-=V+1<<A>>>0):x=V+1,A=x,V=0;256<=A;)V+=8,A>>=8;return A=7^V+Mr[A],h.b-=A,h.Ca=(x<<A)-1,q}function $e(h,m,x){h[m+0]=x>>24&255,h[m+1]=x>>16&255,h[m+2]=x>>8&255,h[m+3]=x>>0&255}function qe(h,m){return h[m+0]<<0|h[m+1]<<8}function Ze(h,m){return qe(h,m)|h[m+2]<<16}function Ye(h,m){return qe(h,m)|qe(h,m+2)<<16}function pt(h,m){var x=1<<m;return e(h!=null),e(0<m),h.X=s(x),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function Oe(h,m){e(h!=null),e(m!=null),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function Pt(h,m,x,A){e(x!=null),e(A!=null);var V=x[0],q=A[0];return V==0&&(V=(h*q+m/2)/m),q==0&&(q=(m*V+h/2)/h),0>=V||0>=q?0:(x[0]=V,A[0]=q,1)}function lt(h,m){return h+(1<<m)-1>>>m}function He(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function Ke(h,m){R[m]=function(x,A,V,q,H,Z,Q){var ee;for(ee=0;ee<H;++ee){var me=R[h](Z[Q+ee-1],V,q+ee);Z[Q+ee]=He(x[A+ee],me)}}}function Je(){this.ud=this.hd=this.jd=0}function Xe(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function ht(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function St(h,m){return ht(h+(h-m+.5>>1))}function Ct(h,m,x){return Math.abs(m-x)-Math.abs(h-x)}function dt(h,m,x,A,V,q,H){for(A=q[H-1],x=0;x<V;++x)q[H+x]=A=He(h[m+x],A)}function yt(h,m,x,A,V){var q;for(q=0;q<x;++q){var H=h[m+q],Z=H>>8&255,Q=16711935&(Q=(Q=16711935&H)+((Z<<16)+Z));A[V+q]=(4278255360&H)+Q>>>0}}function Kt(h,m){m.jd=h>>0&255,m.hd=h>>8&255,m.ud=h>>16&255}function wt(h,m,x,A,V,q){var H;for(H=0;H<A;++H){var Z=m[x+H],Q=Z>>>8,ee=Z,me=255&(me=(me=Z>>>16)+((h.jd<<24>>24)*(Q<<24>>24)>>>5));ee=255&(ee=(ee=ee+((h.hd<<24>>24)*(Q<<24>>24)>>>5))+((h.ud<<24>>24)*(me<<24>>24)>>>5)),V[q+H]=(4278255360&Z)+(me<<16)+ee}}function jt(h,m,x,A,V){R[m]=function(q,H,Z,Q,ee,me,Pe,Te,be){for(Q=Pe;Q<Te;++Q)for(Pe=0;Pe<be;++Pe)ee[me++]=V(Z[A(q[H++])])},R[h]=function(q,H,Z,Q,ee,me,Pe){var Te=8>>q.b,be=q.Ea,Fe=q.K[0],Re=q.w;if(8>Te)for(q=(1<<q.b)-1,Re=(1<<Te)-1;H<Z;++H){var ge,_e=0;for(ge=0;ge<be;++ge)ge&q||(_e=A(Q[ee++])),me[Pe++]=V(Fe[_e&Re]),_e>>=Te}else R["VP8LMapColor"+x](Q,ee,Fe,Re,me,Pe,H,Z,be)}}function nt(h,m,x,A,V){for(x=m+x;m<x;){var q=h[m++];A[V++]=q>>16&255,A[V++]=q>>8&255,A[V++]=q>>0&255}}function Bn(h,m,x,A,V){for(x=m+x;m<x;){var q=h[m++];A[V++]=q>>16&255,A[V++]=q>>8&255,A[V++]=q>>0&255,A[V++]=q>>24&255}}function $t(h,m,x,A,V){for(x=m+x;m<x;){var q=(H=h[m++])>>16&240|H>>12&15,H=H>>0&240|H>>28&15;A[V++]=q,A[V++]=H}}function Ir(h,m,x,A,V){for(x=m+x;m<x;){var q=(H=h[m++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;A[V++]=q,A[V++]=H}}function tn(h,m,x,A,V){for(x=m+x;m<x;){var q=h[m++];A[V++]=q>>0&255,A[V++]=q>>8&255,A[V++]=q>>16&255}}function xn(h,m,x,A,V,q){if(q==0)for(x=m+x;m<x;)$e(A,((q=h[m++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),V+=32;else r(A,V,h,m,x)}function Nr(h,m){R[m][0]=R[h+"0"],R[m][1]=R[h+"1"],R[m][2]=R[h+"2"],R[m][3]=R[h+"3"],R[m][4]=R[h+"4"],R[m][5]=R[h+"5"],R[m][6]=R[h+"6"],R[m][7]=R[h+"7"],R[m][8]=R[h+"8"],R[m][9]=R[h+"9"],R[m][10]=R[h+"10"],R[m][11]=R[h+"11"],R[m][12]=R[h+"12"],R[m][13]=R[h+"13"],R[m][14]=R[h+"0"],R[m][15]=R[h+"0"]}function Zt(h){return h==ec||h==tc||h==nc||h==o}function Ps(){this.eb=[],this.size=this.A=this.fb=0}function Sn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ps,this.f.kb=new Sn,this.sd=null}function oi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function En(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function gt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Jt(h,m){var x=h.T,A=m.ba.f.RGBA,V=A.eb,q=A.fb+h.ka*A.A,H=Qr[m.ba.S],Z=h.y,Q=h.O,ee=h.f,me=h.N,Pe=h.ea,Te=h.W,be=m.cc,Fe=m.dc,Re=m.Mc,ge=m.Nc,_e=h.ka,Me=h.ka+h.T,ze=h.U,De=ze+1>>1;for(_e==0?H(Z,Q,null,null,ee,me,Pe,Te,ee,me,Pe,Te,V,q,null,null,ze):(H(m.ec,m.fc,Z,Q,be,Fe,Re,ge,ee,me,Pe,Te,V,q-A.A,V,q,ze),++x);_e+2<Me;_e+=2)be=ee,Fe=me,Re=Pe,ge=Te,me+=h.Rc,Te+=h.Rc,q+=2*A.A,H(Z,(Q+=2*h.fa)-h.fa,Z,Q,be,Fe,Re,ge,ee,me,Pe,Te,V,q-A.A,V,q,ze);return Q+=h.fa,h.j+Me<h.o?(r(m.ec,m.fc,Z,Q,ze),r(m.cc,m.dc,ee,me,De),r(m.Mc,m.Nc,Pe,Te,De),x--):1&Me||H(Z,Q,null,null,ee,me,Pe,Te,ee,me,Pe,Te,V,q+A.A,null,null,ze),x}function zi(h,m,x){var A=h.F,V=[h.J];if(A!=null){var q=h.U,H=m.ba.S,Z=H==pu||H==nc;m=m.ba.f.RGBA;var Q=[0],ee=h.ka;Q[0]=h.T,h.Kb&&(ee==0?--Q[0]:(--ee,V[0]-=h.width),h.j+h.ka+h.T==h.o&&(Q[0]=h.o-h.j-ee));var me=m.eb;ee=m.fb+ee*m.A,h=pn(A,V[0],h.width,q,Q,me,ee+(Z?0:3),m.A),e(x==Q),h&&Zt(H)&&Sr(me,ee,Z,q,Q,m.A)}return 0}function Zn(h){var m=h.ma,x=m.ba.S,A=11>x,V=x==fu||x==du||x==pu||x==Ju||x==12||Zt(x);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!lu(m.Oa,h,V?11:12))return 0;if(V&&Zt(x)&&Ve(),h.da)alert("todo:use_scaling");else{if(A){if(m.Ib=gt,h.Kb){if(x=h.U+1>>1,m.memory=s(h.U+2*x),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+x,m.Ib=Jt,Ve()}}else alert("todo:EmitYUV");V&&(m.Jb=zi,A&&ye())}if(A&&!gy){for(h=0;256>h;++h)MA[h]=89858*(h-128)+vd>>gd,jA[h]=-22014*(h-128)+vd,FA[h]=-45773*(h-128),DA[h]=113618*(h-128)+vd>>gd;for(h=Ah;h<_g;++h)m=76283*(h-16)+vd>>gd,BA[h-Ah]=Vt(m,255),VA[h-Ah]=Vt(m+8>>4,15);gy=1}return 1}function Lr(h){var m=h.ma,x=h.U,A=h.T;return e(!(1&h.ka)),0>=x||0>=A?0:(x=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,x),m.Dc+=x,1)}function qr(h){h.ma.memory=null}function ot(h,m,x,A){return ae(h,8)!=47?0:(m[0]=ae(h,14)+1,x[0]=ae(h,14)+1,A[0]=ae(h,1),ae(h,3)!=0?0:!h.h)}function ai(h,m){if(4>h)return h+1;var x=h-2>>1;return(2+(1&h)<<x)+ae(m,x)+1}function Cr(h,m){return 120<m?m-120:1<=(x=((x=ue[m-1])>>4)*h+(8-(15&x)))?x:1;var x}function Yn(h,m,x){var A=X(x),V=h[m+=255&A].g-8;return 0<V&&(ie(x,x.u+8),A=X(x),m+=h[m].value,m+=A&(1<<V)-1),ie(x,x.u+h[m].g),h[m].value}function an(h,m,x){return x.g+=h.g,x.value+=h.value<<m>>>0,e(8>=x.g),h.g}function et(h,m,x){var A=h.xc;return e((m=A==0?0:h.vc[h.md*(x>>A)+(m>>A)])<h.Wb),h.Ya[m]}function Un(h,m,x,A){var V=h.ab,q=h.c*m,H=h.C;m=H+m;var Z=x,Q=A;for(A=h.Ta,x=h.Ua;0<V--;){var ee=h.gc[V],me=H,Pe=m,Te=Z,be=Q,Fe=(Q=A,Z=x,ee.Ea);switch(e(me<Pe),e(Pe<=ee.nc),ee.hc){case 2:Yu(Te,be,(Pe-me)*Fe,Q,Z);break;case 0:var Re=me,ge=Pe,_e=Q,Me=Z,ze=(rt=ee).Ea;Re==0&&(bh(Te,be,null,null,1,_e,Me),dt(Te,be+1,0,0,ze-1,_e,Me+1),be+=ze,Me+=ze,++Re);for(var De=1<<rt.b,st=De-1,tt=lt(ze,rt.b),bt=rt.K,rt=rt.w+(Re>>rt.b)*tt;Re<ge;){var cn=bt,vn=rt,sn=1;for(Ri(Te,be,_e,Me-ze,1,_e,Me);sn<ze;){var Qt=(sn&~st)+De;Qt>ze&&(Qt=ze),(0,xo[cn[vn++]>>8&15])(Te,be+ +sn,_e,Me+sn-ze,Qt-sn,_e,Me+sn),sn=Qt}be+=ze,Me+=ze,++Re&st||(rt+=tt)}Pe!=ee.nc&&r(Q,Z-Fe,Q,Z+(Pe-me-1)*Fe,Fe);break;case 1:for(Fe=Te,ge=be,ze=(Te=ee.Ea)-(Me=Te&~(_e=(be=1<<ee.b)-1)),Re=lt(Te,ee.b),De=ee.K,ee=ee.w+(me>>ee.b)*Re;me<Pe;){for(st=De,tt=ee,bt=new Je,rt=ge+Me,cn=ge+Te;ge<rt;)Kt(st[tt++],bt),So(bt,Fe,ge,be,Q,Z),ge+=be,Z+=be;ge<cn&&(Kt(st[tt++],bt),So(bt,Fe,ge,ze,Q,Z),ge+=ze,Z+=ze),++me&_e||(ee+=Re)}break;case 3:if(Te==Q&&be==Z&&0<ee.b){for(ge=Q,Te=Fe=Z+(Pe-me)*Fe-(Me=(Pe-me)*lt(ee.Ea,ee.b)),be=Q,_e=Z,Re=[],Me=(ze=Me)-1;0<=Me;--Me)Re[Me]=be[_e+Me];for(Me=ze-1;0<=Me;--Me)ge[Te+Me]=Re[Me];wr(ee,me,Pe,Q,Fe,Q,Z)}else wr(ee,me,Pe,Te,be,Q,Z)}Z=A,Q=x}Q!=x&&r(A,x,Z,Q,q)}function ao(h,m){var x=h.V,A=h.Ba+h.c*h.C,V=m-h.C;if(e(m<=h.l.o),e(16>=V),0<V){var q=h.l,H=h.Ta,Z=h.Ua,Q=q.width;if(Un(h,V,x,A),V=Z=[Z],e((x=h.C)<(A=m)),e(q.v<q.va),A>q.o&&(A=q.o),x<q.j){var ee=q.j-x;x=q.j,V[0]+=ee*Q}if(x>=A?x=0:(V[0]+=4*q.v,q.ka=x-q.j,q.U=q.va-q.v,q.T=A-x,x=1),x){if(Z=Z[0],11>(x=h.ca).S){var me=x.f.RGBA,Pe=(A=x.S,V=q.U,q=q.T,ee=me.eb,me.A),Te=q;for(me=me.fb+h.Ma*me.A;0<Te--;){var be=H,Fe=Z,Re=V,ge=ee,_e=me;switch(A){case Xu:br(be,Fe,Re,ge,_e);break;case fu:xr(be,Fe,Re,ge,_e);break;case ec:xr(be,Fe,Re,ge,_e),Sr(ge,_e,0,Re,1,0);break;case xh:Ki(be,Fe,Re,ge,_e);break;case du:xn(be,Fe,Re,ge,_e,1);break;case tc:xn(be,Fe,Re,ge,_e,1),Sr(ge,_e,0,Re,1,0);break;case pu:xn(be,Fe,Re,ge,_e,0);break;case nc:xn(be,Fe,Re,ge,_e,0),Sr(ge,_e,1,Re,1,0);break;case Ju:ps(be,Fe,Re,ge,_e);break;case o:ps(be,Fe,Re,ge,_e),dn(ge,_e,Re,1,0);break;case dd:ci(be,Fe,Re,ge,_e);break;default:e(0)}Z+=Q,me+=Pe}h.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=x.height)}}h.C=m,e(h.C<=h.i)}function Ui(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var x=h.Ya[m].G,A=h.Ya[m].H;if(0<x[1][A[1]+0].g||0<x[2][A[2]+0].g||0<x[3][A[3]+0].g)return 0}return 1}function _r(h,m,x,A,V,q){if(h.Z!=0){var H=h.qd,Z=h.rd;for(e(gn[h.Z]!=null);m<x;++m)gn[h.Z](H,Z,A,V,A,V,q),H=A,Z=V,V+=q;h.qd=H,h.rd=Z}}function kr(h,m){var x=h.l.ma,A=x.Z==0||x.Z==1?h.l.j:h.C;if(A=h.C<A?A:h.C,e(m<=h.l.o),m>A){var V=h.l.width,q=x.ca,H=x.tb+V*A,Z=h.V,Q=h.Ba+h.c*A,ee=h.gc;e(h.ab==1),e(ee[0].hc==3),Gi(ee[0],A,m,Z,Q,q,H),_r(x,A,m,q,H,V)}h.C=h.Ma=m}function Rr(h,m,x,A,V,q,H){var Z=h.$/A,Q=h.$%A,ee=h.m,me=h.s,Pe=x+h.$,Te=Pe;V=x+A*V;var be=x+A*q,Fe=280+me.ua,Re=h.Pb?Z:16777216,ge=0<me.ua?me.Wa:null,_e=me.wc,Me=Pe<be?et(me,Q,Z):null;e(h.C<q),e(be<=V);var ze=!1;e:for(;;){for(;ze||Pe<be;){var De=0;if(Z>=Re){var st=Pe-x;e((Re=h).Pb),Re.wd=Re.m,Re.xd=st,0<Re.s.ua&&Oe(Re.s.Wa,Re.s.vb),Re=Z+Ce}if(Q&_e||(Me=et(me,Q,Z)),e(Me!=null),Me.Qb&&(m[Pe]=Me.qb,ze=!0),!ze)if(le(ee),Me.jc){De=ee,st=m;var tt=Pe,bt=Me.pd[X(De)&Xn-1];e(Me.jc),256>bt.g?(ie(De,De.u+bt.g),st[tt]=bt.value,De=0):(ie(De,De.u+bt.g-256),e(256<=bt.value),De=bt.value),De==0&&(ze=!0)}else De=Yn(Me.G[0],Me.H[0],ee);if(ee.h)break;if(ze||256>De){if(!ze)if(Me.nd)m[Pe]=(Me.qb|De<<8)>>>0;else{if(le(ee),ze=Yn(Me.G[1],Me.H[1],ee),le(ee),st=Yn(Me.G[2],Me.H[2],ee),tt=Yn(Me.G[3],Me.H[3],ee),ee.h)break;m[Pe]=(tt<<24|ze<<16|De<<8|st)>>>0}if(ze=!1,++Pe,++Q>=A&&(Q=0,++Z,H!=null&&Z<=q&&!(Z%16)&&H(h,Z),ge!=null))for(;Te<Pe;)De=m[Te++],ge.X[(506832829*De&4294967295)>>>ge.Mb]=De}else if(280>De){if(De=ai(De-256,ee),st=Yn(Me.G[4],Me.H[4],ee),le(ee),st=Cr(A,st=ai(st,ee)),ee.h)break;if(Pe-x<st||V-Pe<De)break e;for(tt=0;tt<De;++tt)m[Pe+tt]=m[Pe+tt-st];for(Pe+=De,Q+=De;Q>=A;)Q-=A,++Z,H!=null&&Z<=q&&!(Z%16)&&H(h,Z);if(e(Pe<=V),Q&_e&&(Me=et(me,Q,Z)),ge!=null)for(;Te<Pe;)De=m[Te++],ge.X[(506832829*De&4294967295)>>>ge.Mb]=De}else{if(!(De<Fe))break e;for(ze=De-280,e(ge!=null);Te<Pe;)De=m[Te++],ge.X[(506832829*De&4294967295)>>>ge.Mb]=De;De=Pe,e(!(ze>>>(st=ge).Xa)),m[De]=st.X[ze],ze=!0}ze||e(ee.h==J(ee))}if(h.Pb&&ee.h&&Pe<V)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&Oe(h.s.vb,h.s.Wa);else{if(ee.h)break e;H!=null&&H(h,Z>q?q:Z),h.a=0,h.$=Pe-x}return 1}return h.a=3,0}function Qn(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,e(h!=null)}function Vn(){var h=new Zo;return h==null?null:(h.a=0,h.xb=Sh,Nr("Predictor","VP8LPredictors"),Nr("Predictor","VP8LPredictors_C"),Nr("PredictorAdd","VP8LPredictorsAdd"),Nr("PredictorAdd","VP8LPredictorsAdd_C"),Yu=yt,So=wt,br=nt,xr=Bn,ps=$t,ci=Ir,Ki=tn,R.VP8LMapColor32b=nl,R.VP8LMapColor8b=Ia,h)}function Ti(h,m,x,A,V){var q=1,H=[h],Z=[m],Q=A.m,ee=A.s,me=null,Pe=0;e:for(;;){if(x)for(;q&&ae(Q,1);){var Te=H,be=Z,Fe=A,Re=1,ge=Fe.m,_e=Fe.gc[Fe.ab],Me=ae(ge,2);if(Fe.Oc&1<<Me)q=0;else{switch(Fe.Oc|=1<<Me,_e.hc=Me,_e.Ea=Te[0],_e.nc=be[0],_e.K=[null],++Fe.ab,e(4>=Fe.ab),Me){case 0:case 1:_e.b=ae(ge,3)+2,Re=Ti(lt(_e.Ea,_e.b),lt(_e.nc,_e.b),0,Fe,_e.K),_e.K=_e.K[0];break;case 3:var ze,De=ae(ge,8)+1,st=16<De?0:4<De?1:2<De?2:3;if(Te[0]=lt(_e.Ea,st),_e.b=st,ze=Re=Ti(De,1,0,Fe,_e.K)){var tt,bt=De,rt=_e,cn=1<<(8>>rt.b),vn=s(cn);if(vn==null)ze=0;else{var sn=rt.K[0],Qt=rt.w;for(vn[0]=rt.K[0][0],tt=1;tt<1*bt;++tt)vn[tt]=He(sn[Qt+tt],vn[tt-1]);for(;tt<4*cn;++tt)vn[tt]=0;rt.K[0]=null,rt.K[0]=vn,ze=1}}Re=ze;break;case 2:break;default:e(0)}q=Re}}if(H=H[0],Z=Z[0],q&&ae(Q,1)&&!(q=1<=(Pe=ae(Q,4))&&11>=Pe)){A.a=3;break e}var Nn;if(Nn=q)t:{var Pn,zt,dr,Qi=A,pr=H,Xi=Z,_n=Pe,gs=x,vs=Qi.m,Fr=Qi.s,Xr=[null],Di=1,Js=0,ia=Ee[_n];n:for(;;){if(gs&&ae(vs,1)){var jr=ae(vs,3)+2,Na=lt(pr,jr),mu=lt(Xi,jr),ic=Na*mu;if(!Ti(Na,mu,0,Qi,Xr))break n;for(Xr=Xr[0],Fr.xc=jr,Pn=0;Pn<ic;++Pn){var ll=Xr[Pn]>>8&65535;Xr[Pn]=ll,ll>=Di&&(Di=ll+1)}}if(vs.h)break n;for(zt=0;5>zt;++zt){var Jn=w[zt];!zt&&0<_n&&(Jn+=1<<_n),Js<Jn&&(Js=Jn)}var yg=a(Di*ia,O),yy=Di,wy=a(yy,oe);if(wy==null)var yd=null;else e(65536>=yy),yd=wy;var Ph=s(Js);if(yd==null||Ph==null||yg==null){Qi.a=1;break n}var wd=yg;for(Pn=dr=0;Pn<Di;++Pn){var Ao=yd[Pn],sc=Ao.G,oc=Ao.H,by=0,bd=1,xy=0;for(zt=0;5>zt;++zt){Jn=w[zt],sc[zt]=wd,oc[zt]=dr,!zt&&0<_n&&(Jn+=1<<_n);i:{var xd,wg=Jn,Sd=Qi,Th=Ph,qA=wd,WA=dr,bg=0,ul=Sd.m,HA=ae(ul,1);if(i(Th,0,0,wg),HA){var $A=ae(ul,1)+1,GA=ae(ul,1),Sy=ae(ul,GA==0?1:8);Th[Sy]=1,$A==2&&(Th[Sy=ae(ul,8)]=1);var Ed=1}else{var Ey=s(19),Ay=ae(ul,4)+4;if(19<Ay){Sd.a=3;var Ad=0;break i}for(xd=0;xd<Ay;++xd)Ey[$[xd]]=ae(ul,3);var xg=void 0,Ih=void 0,Py=Sd,KA=Ey,Pd=wg,Ty=Th,Sg=0,cl=Py.m,Iy=8,Ny=a(128,O);r:for(;N(Ny,0,7,KA,19);){if(ae(cl,1)){var ZA=2+2*ae(cl,3);if((xg=2+ae(cl,ZA))>Pd)break r}else xg=Pd;for(Ih=0;Ih<Pd&&xg--;){le(cl);var Ly=Ny[0+(127&X(cl))];ie(cl,cl.u+Ly.g);var ac=Ly.value;if(16>ac)Ty[Ih++]=ac,ac!=0&&(Iy=ac);else{var YA=ac==16,Cy=ac-16,QA=p[Cy],ky=ae(cl,c[Cy])+QA;if(Ih+ky>Pd)break r;for(var XA=YA?Iy:0;0<ky--;)Ty[Ih++]=XA}}Sg=1;break r}Sg||(Py.a=3),Ed=Sg}(Ed=Ed&&!ul.h)&&(bg=N(qA,WA,8,Th,wg)),Ed&&bg!=0?Ad=bg:(Sd.a=3,Ad=0)}if(Ad==0)break n;if(bd&&P[zt]==1&&(bd=wd[dr].g==0),by+=wd[dr].g,dr+=Ad,3>=zt){var Nh,Eg=Ph[0];for(Nh=1;Nh<Jn;++Nh)Ph[Nh]>Eg&&(Eg=Ph[Nh]);xy+=Eg}}if(Ao.nd=bd,Ao.Qb=0,bd&&(Ao.qb=(sc[3][oc[3]+0].value<<24|sc[1][oc[1]+0].value<<16|sc[2][oc[2]+0].value)>>>0,by==0&&256>sc[0][oc[0]+0].value&&(Ao.Qb=1,Ao.qb+=sc[0][oc[0]+0].value<<8)),Ao.jc=!Ao.Qb&&6>xy,Ao.jc){var Td,La=Ao;for(Td=0;Td<Xn;++Td){var hl=Td,fl=La.pd[hl],Id=La.G[0][La.H[0]+hl];256<=Id.value?(fl.g=Id.g+256,fl.value=Id.value):(fl.g=0,fl.value=0,hl>>=an(Id,8,fl),hl>>=an(La.G[1][La.H[1]+hl],16,fl),hl>>=an(La.G[2][La.H[2]+hl],0,fl),an(La.G[3][La.H[3]+hl],24,fl))}}}Fr.vc=Xr,Fr.Wb=Di,Fr.Ya=yd,Fr.yc=yg,Nn=1;break t}Nn=0}if(!(q=Nn)){A.a=3;break e}if(0<Pe){if(ee.ua=1<<Pe,!pt(ee.Wa,Pe)){A.a=1,q=0;break e}}else ee.ua=0;var Ag=A,Ry=H,JA=Z,Pg=Ag.s,Tg=Pg.xc;if(Ag.c=Ry,Ag.i=JA,Pg.md=lt(Ry,Tg),Pg.wc=Tg==0?-1:(1<<Tg)-1,x){A.xb=mg;break e}if((me=s(H*Z))==null){A.a=1,q=0;break e}q=(q=Rr(A,me,0,H,Z,Z,null))&&!Q.h;break e}return q?(V!=null?V[0]=me:(e(me==null),e(x)),A.$=0,x||Qn(ee)):Qn(ee),q}function Ts(h,m){var x=h.c*h.i,A=x+m+16*m;return e(h.c<=m),h.V=s(A),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+x+m,1)}function Is(h,m){var x=h.C,A=m-x,V=h.V,q=h.Ba+h.c*x;for(e(m<=h.l.o);0<A;){var H=16<A?16:A,Z=h.l.ma,Q=h.l.width,ee=Q*H,me=Z.ca,Pe=Z.tb+Q*x,Te=h.Ta,be=h.Ua;Un(h,H,V,q),Wn(Te,be,me,Pe,ee),_r(Z,x,x+H,me,Pe,Q),A-=H,V+=H*h.c,x+=H}e(x==m),h.C=h.Ma=m}function Ns(){this.ub=this.yd=this.td=this.Rb=0}function Ls(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function uo(){this.Yb=function(){var h=[];return function m(x,A,V){for(var q=V[A],H=0;H<q&&(x.push(V.length>A+1?[]:0),!(V.length<A+1));H++)m(x[H],A+1,V)}(h,0,[3,11]),h}()}function Uo(){this.jb=s(3),this.Wc=l([4,8],uo),this.Xc=l([4,17],uo)}function el(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Cs(){this.ld=this.La=this.dd=this.tc=0}function ks(){this.Na=this.la=0}function os(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function as(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function co(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cs),this.Y=0,this.ya=Array(new as),this.aa=0,this.l=new Ii}function qo(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ya(){this.cb=this.a=0,this.sc="",this.m=new Ne,this.Od=new Ns,this.Kc=new Ls,this.ed=new el,this.Qa=new lo,this.Ic=this.$c=this.Aa=0,this.D=new co,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Ne),this.ia=0,this.pb=a(4,os),this.Pa=new Uo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qo),this.Hd=0,this.rb=Array(new ks),this.sb=0,this.wa=Array(new Cs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new as),this.L=this.aa=0,this.gd=l([4,2],Cs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ii(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ut(){var h=new ya;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,mt||(mt=ls)),h}function Tt(h,m,x){return h.a==0&&(h.a=m,h.sc=x,h.cb=0),0}function Rs(h,m,x){return 3<=x&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function qi(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return Tt(h,2,"null VP8Io passed to VP8GetHeaders()");var x=m.data,A=m.w,V=m.ha;if(4>V)return Tt(h,7,"Truncated header.");var q=x[A+0]|x[A+1]<<8|x[A+2]<<16,H=h.Od;if(H.Rb=!(1&q),H.td=q>>1&7,H.yd=q>>4&1,H.ub=q>>5,3<H.td)return Tt(h,3,"Incorrect keyframe parameters.");if(!H.yd)return Tt(h,4,"Frame not displayable.");A+=3,V-=3;var Z=h.Kc;if(H.Rb){if(7>V)return Tt(h,7,"cannot parse picture header");if(!Rs(x,A,V))return Tt(h,3,"Bad code word");Z.c=16383&(x[A+4]<<8|x[A+3]),Z.Td=x[A+4]>>6,Z.i=16383&(x[A+6]<<8|x[A+5]),Z.Ud=x[A+6]>>6,A+=7,V-=7,h.za=Z.c+15>>4,h.Ub=Z.i+15>>4,m.width=Z.c,m.height=Z.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((q=h.Pa).jb,0,255,q.jb.length),e((q=h.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if(H.ub>V)return Tt(h,7,"bad partition length");pe(q=h.m,x,A,H.ub),A+=H.ub,V-=H.ub,H.Rb&&(Z.Ld=Se(q),Z.Kd=Se(q)),Z=h.Qa;var Q,ee=h.Pa;if(e(q!=null),e(Z!=null),Z.Cb=Se(q),Z.Cb){if(Z.Bb=Se(q),Se(q)){for(Z.Fb=Se(q),Q=0;4>Q;++Q)Z.Zb[Q]=Se(q)?re(q,7):0;for(Q=0;4>Q;++Q)Z.Lb[Q]=Se(q)?re(q,6):0}if(Z.Bb)for(Q=0;3>Q;++Q)ee.jb[Q]=Se(q)?de(q,8):255}else Z.Bb=0;if(q.Ka)return Tt(h,3,"cannot parse segment header");if((Z=h.ed).zd=Se(q),Z.Tb=de(q,6),Z.wb=de(q,3),Z.Pc=Se(q),Z.Pc&&Se(q)){for(ee=0;4>ee;++ee)Se(q)&&(Z.vd[ee]=re(q,6));for(ee=0;4>ee;++ee)Se(q)&&(Z.od[ee]=re(q,6))}if(h.L=Z.Tb==0?0:Z.zd?1:2,q.Ka)return Tt(h,3,"cannot parse filter header");var me=V;if(V=Q=A,A=Q+me,Z=me,h.Xb=(1<<de(h.m,2))-1,me<3*(ee=h.Xb))x=7;else{for(Q+=3*ee,Z-=3*ee,me=0;me<ee;++me){var Pe=x[V+0]|x[V+1]<<8|x[V+2]<<16;Pe>Z&&(Pe=Z),pe(h.Jc[+me],x,Q,Pe),Q+=Pe,Z-=Pe,V+=3}pe(h.Jc[+ee],x,Q,Z),x=Q<A?0:5}if(x!=0)return Tt(h,x,"cannot parse partitions");for(x=de(Q=h.m,7),V=Se(Q)?re(Q,4):0,A=Se(Q)?re(Q,4):0,Z=Se(Q)?re(Q,4):0,ee=Se(Q)?re(Q,4):0,Q=Se(Q)?re(Q,4):0,me=h.Qa,Pe=0;4>Pe;++Pe){if(me.Cb){var Te=me.Zb[Pe];me.Fb||(Te+=x)}else{if(0<Pe){h.pb[Pe]=h.pb[0];continue}Te=x}var be=h.pb[Pe];be.Sc[0]=Be[Vt(Te+V,127)],be.Sc[1]=it[Vt(Te+0,127)],be.Eb[0]=2*Be[Vt(Te+A,127)],be.Eb[1]=101581*it[Vt(Te+Z,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=Be[Vt(Te+ee,117)],be.Qc[1]=it[Vt(Te+Q,127)],be.lc=Te+Q}if(!H.Rb)return Tt(h,4,"Not a key frame.");for(Se(q),H=h.Pa,x=0;4>x;++x){for(V=0;8>V;++V)for(A=0;3>A;++A)for(Z=0;11>Z;++Z)ee=Le(q,al[x][V][A][Z])?de(q,8):Yi[x][V][A][Z],H.Wc[x][V].Yb[A][Z]=ee;for(V=0;17>V;++V)H.Xc[x][V]=H.Wc[x][pg[V]]}return h.kc=Se(q),h.kc&&(h.Bd=de(q,8)),h.cb=1}function ls(h,m,x,A,V,q,H){var Z=m[V].Yb[x];for(x=0;16>V;++V){if(!Le(h,Z[x+0]))return V;for(;!Le(h,Z[x+1]);)if(Z=m[++V].Yb[0],x=0,V==16)return 16;var Q=m[V+1].Yb;if(Le(h,Z[x+2])){var ee=h,me=0;if(Le(ee,(Te=Z)[(Pe=x)+3]))if(Le(ee,Te[Pe+6])){for(Z=0,Pe=2*(me=Le(ee,Te[Pe+8]))+(Te=Le(ee,Te[Pe+9+me])),me=0,Te=qt[Pe];Te[Z];++Z)me+=me+Le(ee,Te[Z]);me+=3+(8<<Pe)}else Le(ee,Te[Pe+7])?(me=7+2*Le(ee,165),me+=Le(ee,145)):me=5+Le(ee,159);else me=Le(ee,Te[Pe+4])?3+Le(ee,Te[Pe+5]):2;Z=Q[2]}else me=1,Z=Q[1];Q=H+Yr[V],0>(ee=h).b&&xe(ee);var Pe,Te=ee.b,be=(Pe=ee.Ca>>1)-(ee.I>>Te)>>31;--ee.b,ee.Ca+=be,ee.Ca|=1,ee.I-=(Pe+1&be)<<Te,q[Q]=((me^be)-be)*A[(0<V)+0]}return 16}function ho(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function Lt(h,m){if(h==null)return 0;if(m==null)return Tt(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!qi(h,m))return 0;if(e(h.cb),m.ac==null||m.ac(m)){m.ob&&(h.L=0);var x=_d[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=m.v-x>>4,h.zb=m.j-x>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=m.o+15+x>>4,h.Hb=m.va+15+x>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var A=h.ed;for(x=0;4>x;++x){var V;if(h.Qa.Cb){var q=h.Qa.Lb[x];h.Qa.Fb||(q+=A.Tb)}else q=A.Tb;for(V=0;1>=V;++V){var H=h.gd[x][V],Z=q;if(A.Pc&&(Z+=A.vd[0],V&&(Z+=A.od[0])),0<(Z=0>Z?0:63<Z?63:Z)){var Q=Z;0<A.wb&&(Q=4<A.wb?Q>>2:Q>>1)>9-A.wb&&(Q=9-A.wb),1>Q&&(Q=1),H.dd=Q,H.tc=2*Z+Q,H.ld=40<=Z?2:15<=Z?1:0}else H.tc=0;H.La=V}}}x=0}else Tt(h,6,"Frame setup failed"),x=h.a;if(x=x==0){if(x){h.$c=0,0<h.Aa||(h.Ic=UA);e:{x=h.Ic,A=4*(Q=h.za);var ee=32*Q,me=Q+1,Pe=0<h.L?Q*(0<h.Aa?2:1):0,Te=(h.Aa==2?2:1)*Q;if((H=A+832+(V=3*(16*x+_d[h.L])/2*ee)+(q=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=H)x=0;else{if(H>h.Vb){if(h.Vb=0,h.Ec=s(H),h.Fc=0,h.Ec==null){x=Tt(h,1,"no memory during frame initialization.");break e}h.Vb=H}H=h.Ec,Z=h.Fc,h.Ac=H,h.Bc=Z,Z+=A,h.Gd=a(ee,qo),h.Hd=0,h.rb=a(me+1,ks),h.sb=1,h.wa=Pe?a(Pe,Cs):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=Q),e(!0),h.oc=H,h.pc=Z,Z+=832,h.ya=a(Te,as),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=Q),h.R=16*Q,h.B=8*Q,Q=(ee=_d[h.L])*h.R,ee=ee/2*h.B,h.sa=H,h.ta=Z+Q,h.qa=h.sa,h.ra=h.ta+16*x*h.R+ee,h.Ha=h.qa,h.Ia=h.ra+8*x*h.B+ee,h.$c=0,Z+=V,h.mb=q?H:null,h.nb=q?Z:null,e(Z+q<=h.Fc+h.Vb),ho(h),i(h.Ac,h.Bc,0,A),x=1}}if(x){if(m.ka=0,m.y=h.sa,m.O=h.ta,m.f=h.qa,m.N=h.ra,m.ea=h.Ha,m.Vd=h.Ia,m.fa=h.R,m.Rc=h.B,m.F=null,m.J=0,!Qu){for(x=-255;255>=x;++x)mn[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)Ys[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)sl[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)Qs[255+x]=0>x?0:255<x?255:x;Qu=1}Qo=Li,Gs=us,Xo=Ni,Zr=Et,Oi=Wr,qn=fo,rl=Go,cu=$i,hu=Us,Dr=Pa,Ks=Ko,Jo=vo,Zs=yr,il=qs,ea=go,ta=kn,Eo=Rn,Zi=Aa,ms[0]=Wt,ms[1]=wa,ms[2]=_t,ms[3]=li,ms[4]=Sa,ms[5]=Fs,ms[6]=$r,ms[7]=mo,ms[8]=js,ms[9]=ui,ra[0]=Wi,ra[1]=ba,ra[2]=Ci,ra[3]=cs,ra[4]=hn,ra[5]=xa,ra[6]=po,Xs[0]=Hi,Xs[1]=Ms,Xs[2]=Bs,Xs[3]=fn,Xs[4]=ln,Xs[5]=Wo,Xs[6]=Ho,x=1}else x=0}x&&(x=function(be,Fe){for(be.M=0;be.M<be.Va;++be.M){var Re,ge=be.Jc[be.M&be.Xb],_e=be.m,Me=be;for(Re=0;Re<Me.za;++Re){var ze=_e,De=Me,st=De.Ac,tt=De.Bc+4*Re,bt=De.zc,rt=De.ya[De.aa+Re];if(De.Qa.Bb?rt.$b=Le(ze,De.Pa.jb[0])?2+Le(ze,De.Pa.jb[2]):Le(ze,De.Pa.jb[1]):rt.$b=0,De.kc&&(rt.Ad=Le(ze,De.Bd)),rt.Za=!Le(ze,145)+0,rt.Za){var cn=rt.Ob,vn=0;for(De=0;4>De;++De){var sn,Qt=bt[0+De];for(sn=0;4>sn;++sn){Qt=fi[st[tt+sn]][Qt];for(var Nn=sr[Le(ze,Qt[0])];0<Nn;)Nn=sr[2*Nn+Le(ze,Qt[Nn])];Qt=-Nn,st[tt+sn]=Qt}r(cn,vn,st,tt,4),vn+=4,bt[0+De]=Qt}}else Qt=Le(ze,156)?Le(ze,128)?1:3:Le(ze,163)?2:0,rt.Ob[0]=Qt,i(st,tt,Qt,4),i(bt,0,Qt,4);rt.Dd=Le(ze,142)?Le(ze,114)?Le(ze,183)?1:3:2:0}if(Me.m.Ka)return Tt(be,7,"Premature end-of-partition0 encountered.");for(;be.ja<be.za;++be.ja){if(Me=ge,ze=(_e=be).rb[_e.sb-1],st=_e.rb[_e.sb+_e.ja],Re=_e.ya[_e.aa+_e.ja],tt=_e.kc?Re.Ad:0)ze.la=st.la=0,Re.Za||(ze.Na=st.Na=0),Re.Hc=0,Re.Gc=0,Re.ia=0;else{var Pn,zt;if(ze=st,st=Me,tt=_e.Pa.Xc,bt=_e.ya[_e.aa+_e.ja],rt=_e.pb[bt.$b],De=bt.ad,cn=0,vn=_e.rb[_e.sb-1],Qt=sn=0,i(De,cn,0,384),bt.Za)var dr=0,Qi=tt[3];else{Nn=s(16);var pr=ze.Na+vn.Na;if(pr=mt(st,tt[1],pr,rt.Eb,0,Nn,0),ze.Na=vn.Na=(0<pr)+0,1<pr)Qo(Nn,0,De,cn);else{var Xi=Nn[0]+3>>3;for(Nn=0;256>Nn;Nn+=16)De[cn+Nn]=Xi}dr=1,Qi=tt[0]}var _n=15&ze.la,gs=15&vn.la;for(Nn=0;4>Nn;++Nn){var vs=1&gs;for(Xi=zt=0;4>Xi;++Xi)_n=_n>>1|(vs=(pr=mt(st,Qi,pr=vs+(1&_n),rt.Sc,dr,De,cn))>dr)<<7,zt=zt<<2|(3<pr?3:1<pr?2:De[cn+0]!=0),cn+=16;_n>>=4,gs=gs>>1|vs<<7,sn=(sn<<8|zt)>>>0}for(Qi=_n,dr=gs>>4,Pn=0;4>Pn;Pn+=2){for(zt=0,_n=ze.la>>4+Pn,gs=vn.la>>4+Pn,Nn=0;2>Nn;++Nn){for(vs=1&gs,Xi=0;2>Xi;++Xi)pr=vs+(1&_n),_n=_n>>1|(vs=0<(pr=mt(st,tt[2],pr,rt.Qc,0,De,cn)))<<3,zt=zt<<2|(3<pr?3:1<pr?2:De[cn+0]!=0),cn+=16;_n>>=2,gs=gs>>1|vs<<5}Qt|=zt<<4*Pn,Qi|=_n<<4<<Pn,dr|=(240&gs)<<Pn}ze.la=Qi,vn.la=dr,bt.Hc=sn,bt.Gc=Qt,bt.ia=43690&Qt?0:rt.ia,tt=!(sn|Qt)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[Re.$b][Re.Za],_e.wa[_e.Y+_e.ja].La|=!tt),Me.Ka)return Tt(be,7,"Premature end-of-file encountered.")}if(ho(be),_e=Fe,Me=1,Re=(ge=be).D,ze=0<ge.L&&ge.M>=ge.zb&&ge.M<=ge.Va,ge.Aa==0)e:{if(Re.M=ge.M,Re.uc=ze,$s(ge,Re),Me=1,Re=(zt=ge.D).Nb,ze=(Qt=_d[ge.L])*ge.R,st=Qt/2*ge.B,Nn=16*Re*ge.R,Xi=8*Re*ge.B,tt=ge.sa,bt=ge.ta-ze+Nn,rt=ge.qa,De=ge.ra-st+Xi,cn=ge.Ha,vn=ge.Ia-st+Xi,gs=(_n=zt.M)==0,sn=_n>=ge.Va-1,ge.Aa==2&&$s(ge,zt),zt.uc)for(vs=(pr=ge).D.M,e(pr.D.uc),zt=pr.yb;zt<pr.Hb;++zt){dr=zt,Qi=vs;var Fr=(Xr=(Jn=pr).D).Nb;Pn=Jn.R;var Xr=Xr.wa[Xr.Y+dr],Di=Jn.sa,Js=Jn.ta+16*Fr*Pn+16*dr,ia=Xr.dd,jr=Xr.tc;if(jr!=0)if(e(3<=jr),Jn.L==1)0<dr&&ta(Di,Js,Pn,jr+4),Xr.La&&Zi(Di,Js,Pn,jr),0<Qi&&ea(Di,Js,Pn,jr+4),Xr.La&&Eo(Di,Js,Pn,jr);else{var Na=Jn.B,mu=Jn.qa,ic=Jn.ra+8*Fr*Na+8*dr,ll=Jn.Ha,Jn=Jn.Ia+8*Fr*Na+8*dr;Fr=Xr.ld,0<dr&&(cu(Di,Js,Pn,jr+4,ia,Fr),Dr(mu,ic,ll,Jn,Na,jr+4,ia,Fr)),Xr.La&&(Jo(Di,Js,Pn,jr,ia,Fr),il(mu,ic,ll,Jn,Na,jr,ia,Fr)),0<Qi&&(rl(Di,Js,Pn,jr+4,ia,Fr),hu(mu,ic,ll,Jn,Na,jr+4,ia,Fr)),Xr.La&&(Ks(Di,Js,Pn,jr,ia,Fr),Zs(mu,ic,ll,Jn,Na,jr,ia,Fr))}}if(ge.ia&&alert("todo:DitherRow"),_e.put!=null){if(zt=16*_n,_n=16*(_n+1),gs?(_e.y=ge.sa,_e.O=ge.ta+Nn,_e.f=ge.qa,_e.N=ge.ra+Xi,_e.ea=ge.Ha,_e.W=ge.Ia+Xi):(zt-=Qt,_e.y=tt,_e.O=bt,_e.f=rt,_e.N=De,_e.ea=cn,_e.W=vn),sn||(_n-=Qt),_n>_e.o&&(_n=_e.o),_e.F=null,_e.J=null,ge.Fa!=null&&0<ge.Fa.length&&zt<_n&&(_e.J=Yo(ge,_e,zt,_n-zt),_e.F=ge.mb,_e.F==null&&_e.F.length==0)){Me=Tt(ge,3,"Could not decode alpha data.");break e}zt<_e.j&&(Qt=_e.j-zt,zt=_e.j,e(!(1&Qt)),_e.O+=ge.R*Qt,_e.N+=ge.B*(Qt>>1),_e.W+=ge.B*(Qt>>1),_e.F!=null&&(_e.J+=_e.width*Qt)),zt<_n&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=zt-_e.j,_e.U=_e.va-_e.v,_e.T=_n-zt,Me=_e.put(_e))}Re+1!=ge.Ic||sn||(r(ge.sa,ge.ta-ze,tt,bt+16*ge.R,ze),r(ge.qa,ge.ra-st,rt,De+8*ge.B,st),r(ge.Ha,ge.Ia-st,cn,vn+8*ge.B,st))}if(!Me)return Tt(be,6,"Output aborted.")}return 1}(h,m)),m.bc!=null&&m.bc(m),x&=1}return x?(h.cb=0,x):0}function Yt(h,m,x,A,V){V=h[m+x+32*A]+(V>>3),h[m+x+32*A]=-256&V?0>V?0:255:V}function Os(h,m,x,A,V,q){Yt(h,m,0,x,A+V),Yt(h,m,1,x,A+q),Yt(h,m,2,x,A-q),Yt(h,m,3,x,A-V)}function Tn(h){return(20091*h>>16)+h}function An(h,m,x,A){var V,q=0,H=s(16);for(V=0;4>V;++V){var Z=h[m+0]+h[m+8],Q=h[m+0]-h[m+8],ee=(35468*h[m+4]>>16)-Tn(h[m+12]),me=Tn(h[m+4])+(35468*h[m+12]>>16);H[q+0]=Z+me,H[q+1]=Q+ee,H[q+2]=Q-ee,H[q+3]=Z-me,q+=4,m++}for(V=q=0;4>V;++V)Z=(h=H[q+0]+4)+H[q+8],Q=h-H[q+8],ee=(35468*H[q+4]>>16)-Tn(H[q+12]),Yt(x,A,0,0,Z+(me=Tn(H[q+4])+(35468*H[q+12]>>16))),Yt(x,A,1,0,Q+ee),Yt(x,A,2,0,Q-ee),Yt(x,A,3,0,Z-me),q++,A+=32}function fo(h,m,x,A){var V=h[m+0]+4,q=35468*h[m+4]>>16,H=Tn(h[m+4]),Z=35468*h[m+1]>>16;Os(x,A,0,V+H,h=Tn(h[m+1]),Z),Os(x,A,1,V+q,h,Z),Os(x,A,2,V-q,h,Z),Os(x,A,3,V-H,h,Z)}function us(h,m,x,A,V){An(h,m,x,A),V&&An(h,m+16,x,A+4)}function Ni(h,m,x,A){Gs(h,m+0,x,A,1),Gs(h,m+32,x,A+128,1)}function Et(h,m,x,A){var V;for(h=h[m+0]+4,V=0;4>V;++V)for(m=0;4>m;++m)Yt(x,A,m,V,h)}function Wr(h,m,x,A){h[m+0]&&Zr(h,m+0,x,A),h[m+16]&&Zr(h,m+16,x,A+4),h[m+32]&&Zr(h,m+32,x,A+128),h[m+48]&&Zr(h,m+48,x,A+128+4)}function Li(h,m,x,A){var V,q=s(16);for(V=0;4>V;++V){var H=h[m+0+V]+h[m+12+V],Z=h[m+4+V]+h[m+8+V],Q=h[m+4+V]-h[m+8+V],ee=h[m+0+V]-h[m+12+V];q[0+V]=H+Z,q[8+V]=H-Z,q[4+V]=ee+Q,q[12+V]=ee-Q}for(V=0;4>V;++V)H=(h=q[0+4*V]+3)+q[3+4*V],Z=q[1+4*V]+q[2+4*V],Q=q[1+4*V]-q[2+4*V],ee=h-q[3+4*V],x[A+0]=H+Z>>3,x[A+16]=ee+Q>>3,x[A+32]=H-Z>>3,x[A+48]=ee-Q>>3,A+=64}function Hr(h,m,x){var A,V=m-32,q=hi,H=255-h[V-1];for(A=0;A<x;++A){var Z,Q=q,ee=H+h[m-1];for(Z=0;Z<x;++Z)h[m+Z]=Q[ee+h[V+Z]];m+=32}}function wa(h,m){Hr(h,m,4)}function Ms(h,m){Hr(h,m,8)}function ba(h,m){Hr(h,m,16)}function Ci(h,m){var x;for(x=0;16>x;++x)r(h,m+32*x,h,m-32,16)}function cs(h,m){var x;for(x=16;0<x;--x)i(h,m,h[m-1],16),m+=32}function Ds(h,m,x){var A;for(A=0;16>A;++A)i(m,x+32*A,h,16)}function Wi(h,m){var x,A=16;for(x=0;16>x;++x)A+=h[m-1+32*x]+h[m+x-32];Ds(A>>5,h,m)}function hn(h,m){var x,A=8;for(x=0;16>x;++x)A+=h[m-1+32*x];Ds(A>>4,h,m)}function xa(h,m){var x,A=8;for(x=0;16>x;++x)A+=h[m+x-32];Ds(A>>4,h,m)}function po(h,m){Ds(128,h,m)}function At(h,m,x){return h+2*m+x+2>>2}function _t(h,m){var x,A=m-32;for(A=new Uint8Array([At(h[A-1],h[A+0],h[A+1]),At(h[A+0],h[A+1],h[A+2]),At(h[A+1],h[A+2],h[A+3]),At(h[A+2],h[A+3],h[A+4])]),x=0;4>x;++x)r(h,m+32*x,A,0,A.length)}function li(h,m){var x=h[m-1],A=h[m-1+32],V=h[m-1+64],q=h[m-1+96];$e(h,m+0,16843009*At(h[m-1-32],x,A)),$e(h,m+32,16843009*At(x,A,V)),$e(h,m+64,16843009*At(A,V,q)),$e(h,m+96,16843009*At(V,q,q))}function Wt(h,m){var x,A=4;for(x=0;4>x;++x)A+=h[m+x-32]+h[m-1+32*x];for(A>>=3,x=0;4>x;++x)i(h,m+32*x,A,4)}function Sa(h,m){var x=h[m-1+0],A=h[m-1+32],V=h[m-1+64],q=h[m-1-32],H=h[m+0-32],Z=h[m+1-32],Q=h[m+2-32],ee=h[m+3-32];h[m+0+96]=At(A,V,h[m-1+96]),h[m+1+96]=h[m+0+64]=At(x,A,V),h[m+2+96]=h[m+1+64]=h[m+0+32]=At(q,x,A),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=At(H,q,x),h[m+3+64]=h[m+2+32]=h[m+1+0]=At(Z,H,q),h[m+3+32]=h[m+2+0]=At(Q,Z,H),h[m+3+0]=At(ee,Q,Z)}function $r(h,m){var x=h[m+1-32],A=h[m+2-32],V=h[m+3-32],q=h[m+4-32],H=h[m+5-32],Z=h[m+6-32],Q=h[m+7-32];h[m+0+0]=At(h[m+0-32],x,A),h[m+1+0]=h[m+0+32]=At(x,A,V),h[m+2+0]=h[m+1+32]=h[m+0+64]=At(A,V,q),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=At(V,q,H),h[m+3+32]=h[m+2+64]=h[m+1+96]=At(q,H,Z),h[m+3+64]=h[m+2+96]=At(H,Z,Q),h[m+3+96]=At(Z,Q,Q)}function Fs(h,m){var x=h[m-1+0],A=h[m-1+32],V=h[m-1+64],q=h[m-1-32],H=h[m+0-32],Z=h[m+1-32],Q=h[m+2-32],ee=h[m+3-32];h[m+0+0]=h[m+1+64]=q+H+1>>1,h[m+1+0]=h[m+2+64]=H+Z+1>>1,h[m+2+0]=h[m+3+64]=Z+Q+1>>1,h[m+3+0]=Q+ee+1>>1,h[m+0+96]=At(V,A,x),h[m+0+64]=At(A,x,q),h[m+0+32]=h[m+1+96]=At(x,q,H),h[m+1+32]=h[m+2+96]=At(q,H,Z),h[m+2+32]=h[m+3+96]=At(H,Z,Q),h[m+3+32]=At(Z,Q,ee)}function mo(h,m){var x=h[m+0-32],A=h[m+1-32],V=h[m+2-32],q=h[m+3-32],H=h[m+4-32],Z=h[m+5-32],Q=h[m+6-32],ee=h[m+7-32];h[m+0+0]=x+A+1>>1,h[m+1+0]=h[m+0+64]=A+V+1>>1,h[m+2+0]=h[m+1+64]=V+q+1>>1,h[m+3+0]=h[m+2+64]=q+H+1>>1,h[m+0+32]=At(x,A,V),h[m+1+32]=h[m+0+96]=At(A,V,q),h[m+2+32]=h[m+1+96]=At(V,q,H),h[m+3+32]=h[m+2+96]=At(q,H,Z),h[m+3+64]=At(H,Z,Q),h[m+3+96]=At(Z,Q,ee)}function ui(h,m){var x=h[m-1+0],A=h[m-1+32],V=h[m-1+64],q=h[m-1+96];h[m+0+0]=x+A+1>>1,h[m+2+0]=h[m+0+32]=A+V+1>>1,h[m+2+32]=h[m+0+64]=V+q+1>>1,h[m+1+0]=At(x,A,V),h[m+3+0]=h[m+1+32]=At(A,V,q),h[m+3+32]=h[m+1+64]=At(V,q,q),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=q}function js(h,m){var x=h[m-1+0],A=h[m-1+32],V=h[m-1+64],q=h[m-1+96],H=h[m-1-32],Z=h[m+0-32],Q=h[m+1-32],ee=h[m+2-32];h[m+0+0]=h[m+2+32]=x+H+1>>1,h[m+0+32]=h[m+2+64]=A+x+1>>1,h[m+0+64]=h[m+2+96]=V+A+1>>1,h[m+0+96]=q+V+1>>1,h[m+3+0]=At(Z,Q,ee),h[m+2+0]=At(H,Z,Q),h[m+1+0]=h[m+3+32]=At(x,H,Z),h[m+1+32]=h[m+3+64]=At(A,x,H),h[m+1+64]=h[m+3+96]=At(V,A,x),h[m+1+96]=At(q,V,A)}function Bs(h,m){var x;for(x=0;8>x;++x)r(h,m+32*x,h,m-32,8)}function fn(h,m){var x;for(x=0;8>x;++x)i(h,m,h[m-1],8),m+=32}function rr(h,m,x){var A;for(A=0;8>A;++A)i(m,x+32*A,h,8)}function Hi(h,m){var x,A=8;for(x=0;8>x;++x)A+=h[m+x-32]+h[m-1+32*x];rr(A>>4,h,m)}function Wo(h,m){var x,A=4;for(x=0;8>x;++x)A+=h[m+x-32];rr(A>>3,h,m)}function ln(h,m){var x,A=4;for(x=0;8>x;++x)A+=h[m-1+32*x];rr(A>>3,h,m)}function Ho(h,m){rr(128,h,m)}function Vs(h,m,x){var A=h[m-x],V=h[m+0],q=3*(V-A)+ol[1020+h[m-2*x]-h[m+x]],H=na[112+(q+4>>3)];h[m-x]=hi[255+A+na[112+(q+3>>3)]],h[m+0]=hi[255+V-H]}function Ea(h,m,x,A){var V=h[m+0],q=h[m+x];return Mi[255+h[m-2*x]-h[m-x]]>A||Mi[255+q-V]>A}function $o(h,m,x,A){return 4*Mi[255+h[m-x]-h[m+0]]+Mi[255+h[m-2*x]-h[m+x]]<=A}function Bt(h,m,x,A,V){var q=h[m-3*x],H=h[m-2*x],Z=h[m-x],Q=h[m+0],ee=h[m+x],me=h[m+2*x],Pe=h[m+3*x];return 4*Mi[255+Z-Q]+Mi[255+H-ee]>A?0:Mi[255+h[m-4*x]-q]<=V&&Mi[255+q-H]<=V&&Mi[255+H-Z]<=V&&Mi[255+Pe-me]<=V&&Mi[255+me-ee]<=V&&Mi[255+ee-Q]<=V}function go(h,m,x,A){var V=2*A+1;for(A=0;16>A;++A)$o(h,m+A,x,V)&&Vs(h,m+A,x)}function kn(h,m,x,A){var V=2*A+1;for(A=0;16>A;++A)$o(h,m+A*x,1,V)&&Vs(h,m+A*x,1)}function Rn(h,m,x,A){var V;for(V=3;0<V;--V)go(h,m+=4*x,x,A)}function Aa(h,m,x,A){var V;for(V=3;0<V;--V)kn(h,m+=4,x,A)}function zs(h,m,x,A,V,q,H,Z){for(q=2*q+1;0<V--;){if(Bt(h,m,x,q,H))if(Ea(h,m,x,Z))Vs(h,m,x);else{var Q=h,ee=m,me=x,Pe=Q[ee-2*me],Te=Q[ee-me],be=Q[ee+0],Fe=Q[ee+me],Re=Q[ee+2*me],ge=27*(Me=ol[1020+3*(be-Te)+ol[1020+Pe-Fe]])+63>>7,_e=18*Me+63>>7,Me=9*Me+63>>7;Q[ee-3*me]=hi[255+Q[ee-3*me]+Me],Q[ee-2*me]=hi[255+Pe+_e],Q[ee-me]=hi[255+Te+ge],Q[ee+0]=hi[255+be-ge],Q[ee+me]=hi[255+Fe-_e],Q[ee+2*me]=hi[255+Re-Me]}m+=A}}function ir(h,m,x,A,V,q,H,Z){for(q=2*q+1;0<V--;){if(Bt(h,m,x,q,H))if(Ea(h,m,x,Z))Vs(h,m,x);else{var Q=h,ee=m,me=x,Pe=Q[ee-me],Te=Q[ee+0],be=Q[ee+me],Fe=na[112+((Re=3*(Te-Pe))+4>>3)],Re=na[112+(Re+3>>3)],ge=Fe+1>>1;Q[ee-2*me]=hi[255+Q[ee-2*me]+ge],Q[ee-me]=hi[255+Pe+Re],Q[ee+0]=hi[255+Te-Fe],Q[ee+me]=hi[255+be-ge]}m+=A}}function Go(h,m,x,A,V,q){zs(h,m,x,1,16,A,V,q)}function $i(h,m,x,A,V,q){zs(h,m,1,x,16,A,V,q)}function Ko(h,m,x,A,V,q){var H;for(H=3;0<H;--H)ir(h,m+=4*x,x,1,16,A,V,q)}function vo(h,m,x,A,V,q){var H;for(H=3;0<H;--H)ir(h,m+=4,1,x,16,A,V,q)}function Us(h,m,x,A,V,q,H,Z){zs(h,m,V,1,8,q,H,Z),zs(x,A,V,1,8,q,H,Z)}function Pa(h,m,x,A,V,q,H,Z){zs(h,m,1,V,8,q,H,Z),zs(x,A,1,V,8,q,H,Z)}function yr(h,m,x,A,V,q,H,Z){ir(h,m+4*V,V,1,8,q,H,Z),ir(x,A+4*V,V,1,8,q,H,Z)}function qs(h,m,x,A,V,q,H,Z){ir(h,m+4,1,V,8,q,H,Z),ir(x,A+4,1,V,8,q,H,Z)}function Ws(){this.ba=new fr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new En,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Gr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Hs(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _o(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new O}function Zo(){this.xb=this.a=0,this.l=new Ii,this.ca=new fr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _o,this.ab=0,this.gc=a(4,Hs),this.Oc=0}function hs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ii,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fs(h,m,x,A,V,q,H){for(h=h==null?0:h[m+0],m=0;m<H;++m)V[q+m]=h+x[A+m]&255,h=V[q+m]}function yo(h,m,x,A,V,q,H){var Z;if(h==null)fs(null,null,x,A,V,q,H);else for(Z=0;Z<H;++Z)V[q+Z]=h[m+Z]+x[A+Z]&255}function Or(h,m,x,A,V,q,H){if(h==null)fs(null,null,x,A,V,q,H);else{var Z,Q=h[m+0],ee=Q,me=Q;for(Z=0;Z<H;++Z)ee=me+(Q=h[m+Z])-ee,me=x[A+Z]+(-256&ee?0>ee?0:255:ee)&255,ee=Q,V[q+Z]=me}}function Yo(h,m,x,A){var V=m.width,q=m.o;if(e(h!=null&&m!=null),0>x||0>=A||x+A>q)return null;if(!h.Cc){if(h.ga==null){var H;if(h.ga=new hs,(H=h.ga==null)||(H=m.width*m.o,e(h.Gb.length==0),h.Gb=s(H),h.Uc=0,h.Gb==null?H=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,H=1),H=!H),!H){H=h.ga;var Z=h.Fa,Q=h.P,ee=h.qc,me=h.mb,Pe=h.nb,Te=Q+1,be=ee-1,Fe=H.l;if(e(Z!=null&&me!=null&&m!=null),gn[0]=null,gn[1]=fs,gn[2]=yo,gn[3]=Or,H.ca=me,H.tb=Pe,H.c=m.width,H.i=m.height,e(0<H.c&&0<H.i),1>=ee)m=0;else if(H.$a=Z[Q+0]>>0&3,H.Z=Z[Q+0]>>2&3,H.Lc=Z[Q+0]>>4&3,Q=Z[Q+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||Q)m=0;else if(Fe.put=Lr,Fe.ac=Zn,Fe.bc=qr,Fe.ma=H,Fe.width=m.width,Fe.height=m.height,Fe.Da=m.Da,Fe.v=m.v,Fe.va=m.va,Fe.j=m.j,Fe.o=m.o,H.$a)e:{e(H.$a==1),m=Vn();t:for(;;){if(m==null){m=0;break e}if(e(H!=null),H.mc=m,m.c=H.c,m.i=H.i,m.l=H.l,m.l.ma=H,m.l.width=H.c,m.l.height=H.i,m.a=0,Y(m.m,Z,Te,be),!Ti(H.c,H.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Ui(m.s)?(H.ic=1,Z=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(Z),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(H.ic=0,m=Ts(m,H.c)),!m))break t;m=1;break e}H.mc=null,m=0}else m=be>=H.c*H.i;H=!m}if(H)return null;h.ga.Lc!=1?h.Ga=0:A=q-x}e(h.ga!=null),e(x+A<=q);e:{if(m=(Z=h.ga).c,q=Z.l.o,Z.$a==0){if(Te=h.rc,be=h.Vc,Fe=h.Fa,Q=h.P+1+x*m,ee=h.mb,me=h.nb+x*m,e(Q<=h.P+h.qc),Z.Z!=0)for(e(gn[Z.Z]!=null),H=0;H<A;++H)gn[Z.Z](Te,be,Fe,Q,ee,me,m),Te=ee,be=me,me+=m,Q+=m;else for(H=0;H<A;++H)r(ee,me,Fe,Q,m),Te=ee,be=me,me+=m,Q+=m;h.rc=Te,h.Vc=be}else{if(e(Z.mc!=null),m=x+A,e((H=Z.mc)!=null),e(m<=H.i),H.C>=m)m=1;else if(Z.ic||ye(),Z.ic){Z=H.V,Te=H.Ba,be=H.c;var Re=H.i,ge=(Fe=1,Q=H.$/be,ee=H.$%be,me=H.m,Pe=H.s,H.$),_e=be*Re,Me=be*m,ze=Pe.wc,De=ge<Me?et(Pe,ee,Q):null;e(ge<=_e),e(m<=Re),e(Ui(Pe));t:for(;;){for(;!me.h&&ge<Me;){if(ee&ze||(De=et(Pe,ee,Q)),e(De!=null),le(me),256>(Re=Yn(De.G[0],De.H[0],me)))Z[Te+ge]=Re,++ge,++ee>=be&&(ee=0,++Q<=m&&!(Q%16)&&kr(H,Q));else{if(!(280>Re)){Fe=0;break t}Re=ai(Re-256,me);var st,tt=Yn(De.G[4],De.H[4],me);if(le(me),!(ge>=(tt=Cr(be,tt=ai(tt,me)))&&_e-ge>=Re)){Fe=0;break t}for(st=0;st<Re;++st)Z[Te+ge+st]=Z[Te+ge+st-tt];for(ge+=Re,ee+=Re;ee>=be;)ee-=be,++Q<=m&&!(Q%16)&&kr(H,Q);ge<Me&&ee&ze&&(De=et(Pe,ee,Q))}e(me.h==J(me))}kr(H,Q>m?m:Q);break t}!Fe||me.h&&ge<_e?(Fe=0,H.a=me.h?5:3):H.$=ge,m=Fe}else m=Rr(H,H.V,H.Ba,H.c,H.i,m,Is);if(!m){A=0;break e}}x+A>=q&&(h.Cc=1),A=1}if(!A)return null;if(h.Cc&&((A=h.ga)!=null&&(A.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+x*V}function y(h,m,x,A,V,q){for(;0<V--;){var H,Z=h,Q=m+(x?1:0),ee=h,me=m+(x?0:3);for(H=0;H<A;++H){var Pe=ee[me+4*H];Pe!=255&&(Pe*=32897,Z[Q+4*H+0]=Z[Q+4*H+0]*Pe>>23,Z[Q+4*H+1]=Z[Q+4*H+1]*Pe>>23,Z[Q+4*H+2]=Z[Q+4*H+2]*Pe>>23)}m+=q}}function B(h,m,x,A,V){for(;0<A--;){var q;for(q=0;q<x;++q){var H=h[m+2*q+0],Z=15&(ee=h[m+2*q+1]),Q=4369*Z,ee=(240&ee|ee>>4)*Q>>16;h[m+2*q+0]=(240&H|H>>4)*Q>>16&240|(15&H|H<<4)*Q>>16>>4&15,h[m+2*q+1]=240&ee|Z}m+=V}}function ne(h,m,x,A,V,q,H,Z){var Q,ee,me=255;for(ee=0;ee<V;++ee){for(Q=0;Q<A;++Q){var Pe=h[m+Q];q[H+4*Q]=Pe,me&=Pe}m+=x,H+=Z}return me!=255}function fe(h,m,x,A,V){var q;for(q=0;q<V;++q)x[A+q]=h[m+q]>>8}function ye(){Sr=y,dn=B,pn=ne,Wn=fe}function ke(h,m,x){R[h]=function(A,V,q,H,Z,Q,ee,me,Pe,Te,be,Fe,Re,ge,_e,Me,ze){var De,st=ze-1>>1,tt=Z[Q+0]|ee[me+0]<<16,bt=Pe[Te+0]|be[Fe+0]<<16;e(A!=null);var rt=3*tt+bt+131074>>2;for(m(A[V+0],255&rt,rt>>16,Re,ge),q!=null&&(rt=3*bt+tt+131074>>2,m(q[H+0],255&rt,rt>>16,_e,Me)),De=1;De<=st;++De){var cn=Z[Q+De]|ee[me+De]<<16,vn=Pe[Te+De]|be[Fe+De]<<16,sn=tt+cn+bt+vn+524296,Qt=sn+2*(cn+bt)>>3;rt=Qt+tt>>1,tt=(sn=sn+2*(tt+vn)>>3)+cn>>1,m(A[V+2*De-1],255&rt,rt>>16,Re,ge+(2*De-1)*x),m(A[V+2*De-0],255&tt,tt>>16,Re,ge+(2*De-0)*x),q!=null&&(rt=sn+bt>>1,tt=Qt+vn>>1,m(q[H+2*De-1],255&rt,rt>>16,_e,Me+(2*De-1)*x),m(q[H+2*De+0],255&tt,tt>>16,_e,Me+(2*De+0)*x)),tt=cn,bt=vn}1&ze||(rt=3*tt+bt+131074>>2,m(A[V+ze-1],255&rt,rt>>16,Re,ge+(ze-1)*x),q!=null&&(rt=3*bt+tt+131074>>2,m(q[H+ze-1],255&rt,rt>>16,_e,Me+(ze-1)*x)))}}function Ve(){Qr[Xu]=gg,Qr[fu]=pd,Qr[xh]=vg,Qr[du]=rc,Qr[pu]=Eh,Qr[Ju]=md,Qr[dd]=RA,Qr[ec]=pd,Qr[tc]=rc,Qr[nc]=Eh,Qr[o]=md}function Qe(h){return h&-16384?0>h?0:255:h>>OA}function d(h,m){return Qe((19077*h>>8)+(26149*m>>8)-14234)}function S(h,m,x){return Qe((19077*h>>8)-(6419*m>>8)-(13320*x>>8)+8708)}function I(h,m){return Qe((19077*h>>8)+(33050*m>>8)-17685)}function G(h,m,x,A,V){A[V+0]=d(h,x),A[V+1]=S(h,m,x),A[V+2]=I(h,m)}function ve(h,m,x,A,V){A[V+0]=I(h,m),A[V+1]=S(h,m,x),A[V+2]=d(h,x)}function Ae(h,m,x,A,V){var q=S(h,m,x);m=q<<3&224|I(h,m)>>3,A[V+0]=248&d(h,x)|q>>5,A[V+1]=m}function Ue(h,m,x,A,V){var q=240&I(h,m)|15;A[V+0]=240&d(h,x)|S(h,m,x)>>4,A[V+1]=q}function kt(h,m,x,A,V){A[V+0]=255,G(h,m,x,A,V+1)}function Ht(h,m,x,A,V){ve(h,m,x,A,V),A[V+3]=255}function Rt(h,m,x,A,V){G(h,m,x,A,V),A[V+3]=255}function Vt(h,m){return 0>h?0:h>m?m:h}function nn(h,m,x){R[h]=function(A,V,q,H,Z,Q,ee,me,Pe){for(var Te=me+(-2&Pe)*x;me!=Te;)m(A[V+0],q[H+0],Z[Q+0],ee,me),m(A[V+1],q[H+0],Z[Q+0],ee,me+x),V+=2,++H,++Q,me+=2*x;1&Pe&&m(A[V+0],q[H+0],Z[Q+0],ee,me)}}function ds(h,m,x){return x==0?h==0?m==0?6:5:m==0?4:0:x}function In(h,m,x,A,V){switch(h>>>30){case 3:Gs(m,x,A,V,0);break;case 2:qn(m,x,A,V);break;case 1:Zr(m,x,A,V)}}function $s(h,m){var x,A,V=m.M,q=m.Nb,H=h.oc,Z=h.pc+40,Q=h.oc,ee=h.pc+584,me=h.oc,Pe=h.pc+600;for(x=0;16>x;++x)H[Z+32*x-1]=129;for(x=0;8>x;++x)Q[ee+32*x-1]=129,me[Pe+32*x-1]=129;for(0<V?H[Z-1-32]=Q[ee-1-32]=me[Pe-1-32]=129:(i(H,Z-32-1,127,21),i(Q,ee-32-1,127,9),i(me,Pe-32-1,127,9)),A=0;A<h.za;++A){var Te=m.ya[m.aa+A];if(0<A){for(x=-1;16>x;++x)r(H,Z+32*x-4,H,Z+32*x+12,4);for(x=-1;8>x;++x)r(Q,ee+32*x-4,Q,ee+32*x+4,4),r(me,Pe+32*x-4,me,Pe+32*x+4,4)}var be=h.Gd,Fe=h.Hd+A,Re=Te.ad,ge=Te.Hc;if(0<V&&(r(H,Z-32,be[Fe].y,0,16),r(Q,ee-32,be[Fe].f,0,8),r(me,Pe-32,be[Fe].ea,0,8)),Te.Za){var _e=H,Me=Z-32+16;for(0<V&&(A>=h.za-1?i(_e,Me,be[Fe].y[15],4):r(_e,Me,be[Fe+1].y,0,4)),x=0;4>x;x++)_e[Me+128+x]=_e[Me+256+x]=_e[Me+384+x]=_e[Me+0+x];for(x=0;16>x;++x,ge<<=2)_e=H,Me=Z+vy[x],ms[Te.Ob[x]](_e,Me),In(ge,Re,16*+x,_e,Me)}else if(_e=ds(A,V,Te.Ob[0]),ra[_e](H,Z),ge!=0)for(x=0;16>x;++x,ge<<=2)In(ge,Re,16*+x,H,Z+vy[x]);for(x=Te.Gc,_e=ds(A,V,Te.Dd),Xs[_e](Q,ee),Xs[_e](me,Pe),ge=Re,_e=Q,Me=ee,255&(Te=x>>0)&&(170&Te?Xo(ge,256,_e,Me):Oi(ge,256,_e,Me)),Te=me,ge=Pe,255&(x>>=8)&&(170&x?Xo(Re,320,Te,ge):Oi(Re,320,Te,ge)),V<h.Ub-1&&(r(be[Fe].y,0,H,Z+480,16),r(be[Fe].f,0,Q,ee+224,8),r(be[Fe].ea,0,me,Pe+224,8)),x=8*q*h.B,be=h.sa,Fe=h.ta+16*A+16*q*h.R,Re=h.qa,Te=h.ra+8*A+x,ge=h.Ha,_e=h.Ia+8*A+x,x=0;16>x;++x)r(be,Fe+x*h.R,H,Z+32*x,16);for(x=0;8>x;++x)r(Re,Te+x*h.B,Q,ee+32*x,8),r(ge,_e+x*h.B,me,Pe+32*x,8)}}function Kr(h,m,x,A,V,q,H,Z,Q){var ee=[0],me=[0],Pe=0,Te=Q!=null?Q.kd:0,be=Q??new Gr;if(h==null||12>x)return 7;be.data=h,be.w=m,be.ha=x,m=[m],x=[x],be.gb=[be.gb];e:{var Fe=m,Re=x,ge=be.gb;if(e(h!=null),e(Re!=null),e(ge!=null),ge[0]=0,12<=Re[0]&&!n(h,Fe[0],"RIFF")){if(n(h,Fe[0]+8,"WEBP")){ge=3;break e}var _e=Ye(h,Fe[0]+4);if(12>_e||4294967286<_e){ge=3;break e}if(Te&&_e>Re[0]-8){ge=7;break e}ge[0]=_e,Fe[0]+=12,Re[0]-=12}ge=0}if(ge!=0)return ge;for(_e=0<be.gb[0],x=x[0];;){e:{var Me=h;Re=m,ge=x;var ze=ee,De=me,st=Fe=[0];if((rt=Pe=[Pe])[0]=0,8>ge[0])ge=7;else{if(!n(Me,Re[0],"VP8X")){if(Ye(Me,Re[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var tt=Ye(Me,Re[0]+8),bt=1+Ze(Me,Re[0]+12);if(2147483648<=bt*(Me=1+Ze(Me,Re[0]+15))){ge=3;break e}st!=null&&(st[0]=tt),ze!=null&&(ze[0]=bt),De!=null&&(De[0]=Me),Re[0]+=18,ge[0]-=18,rt[0]=1}ge=0}}if(Pe=Pe[0],Fe=Fe[0],ge!=0)return ge;if(Re=!!(2&Fe),!_e&&Pe)return 3;if(q!=null&&(q[0]=!!(16&Fe)),H!=null&&(H[0]=Re),Z!=null&&(Z[0]=0),H=ee[0],Fe=me[0],Pe&&Re&&Q==null){ge=0;break}if(4>x){ge=7;break}if(_e&&Pe||!_e&&!Pe&&!n(h,m[0],"ALPH")){x=[x],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{tt=h,ge=m,_e=x;var rt=be.gb;ze=be.na,De=be.P,st=be.Sa,bt=22,e(tt!=null),e(_e!=null),Me=ge[0];var cn=_e[0];for(e(ze!=null),e(st!=null),ze[0]=null,De[0]=null,st[0]=0;;){if(ge[0]=Me,_e[0]=cn,8>cn){ge=7;break e}var vn=Ye(tt,Me+4);if(4294967286<vn){ge=3;break e}var sn=8+vn+1&-2;if(bt+=sn,0<rt&&bt>rt){ge=3;break e}if(!n(tt,Me,"VP8 ")||!n(tt,Me,"VP8L")){ge=0;break e}if(cn[0]<sn){ge=7;break e}n(tt,Me,"ALPH")||(ze[0]=tt,De[0]=Me+8,st[0]=vn),Me+=sn,cn-=sn}}if(x=x[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],ge!=0)break}x=[x],be.Ja=[be.Ja],be.xa=[be.xa];e:if(rt=h,ge=m,_e=x,ze=be.gb[0],De=be.Ja,st=be.xa,tt=ge[0],Me=!n(rt,tt,"VP8 "),bt=!n(rt,tt,"VP8L"),e(rt!=null),e(_e!=null),e(De!=null),e(st!=null),8>_e[0])ge=7;else{if(Me||bt){if(rt=Ye(rt,tt+4),12<=ze&&rt>ze-12){ge=3;break e}if(Te&&rt>_e[0]-8){ge=7;break e}De[0]=rt,ge[0]+=8,_e[0]-=8,st[0]=bt}else st[0]=5<=_e[0]&&rt[tt+0]==47&&!(rt[tt+4]>>5),De[0]=_e[0];ge=0}if(x=x[0],be.Ja=be.Ja[0],be.xa=be.xa[0],m=m[0],ge!=0)break;if(4294967286<be.Ja)return 3;if(Z==null||Re||(Z[0]=be.xa?2:1),H=[H],Fe=[Fe],be.xa){if(5>x){ge=7;break}Z=H,Te=Fe,Re=q,h==null||5>x?h=0:5<=x&&h[m+0]==47&&!(h[m+4]>>5)?(_e=[0],rt=[0],ze=[0],Y(De=new F,h,m,x),ot(De,_e,rt,ze)?(Z!=null&&(Z[0]=_e[0]),Te!=null&&(Te[0]=rt[0]),Re!=null&&(Re[0]=ze[0]),h=1):h=0):h=0}else{if(10>x){ge=7;break}Z=Fe,h==null||10>x||!Rs(h,m+3,x-3)?h=0:(Te=h[m+0]|h[m+1]<<8|h[m+2]<<16,Re=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=be.Ja||!Re||!h?h=0:(H&&(H[0]=Re),Z&&(Z[0]=h),h=1))}if(!h||(H=H[0],Fe=Fe[0],Pe&&(ee[0]!=H||me[0]!=Fe)))return 3;Q!=null&&(Q[0]=be,Q.offset=m-Q.w,e(4294967286>m-Q.w),e(Q.offset==Q.ha-x));break}return ge==0||ge==7&&Pe&&Q==null?(q!=null&&(q[0]|=be.na!=null&&0<be.na.length),A!=null&&(A[0]=H),V!=null&&(V[0]=Fe),0):ge}function lu(h,m,x){var A=m.width,V=m.height,q=0,H=0,Z=A,Q=V;if(m.Da=h!=null&&0<h.Da,m.Da&&(Z=h.cd,Q=h.bd,q=h.v,H=h.j,11>x||(q&=-2,H&=-2),0>q||0>H||0>=Z||0>=Q||q+Z>A||H+Q>V))return 0;if(m.v=q,m.j=H,m.va=q+Z,m.o=H+Q,m.U=Z,m.T=Q,m.da=h!=null&&0<h.da,m.da){if(!Pt(Z,Q,x=[h.ib],q=[h.hb]))return 0;m.ib=x[0],m.hb=q[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*A/4&&m.hb<3*V/4,m.Kb=0),1}function wo(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function Ta(h,m,x,A){if(A==null||0>=h||0>=m)return 2;if(x!=null){if(x.Da){var V=x.cd,q=x.bd,H=-2&x.v,Z=-2&x.j;if(0>H||0>Z||0>=V||0>=q||H+V>h||Z+q>m)return 2;h=V,m=q}if(x.da){if(!Pt(h,m,V=[x.ib],q=[x.hb]))return 2;h=V[0],m=q[0]}}A.width=h,A.height=m;e:{var Q=A.width,ee=A.height;if(h=A.S,0>=Q||0>=ee||!(h>=Xu&&13>h))h=2;else{if(0>=A.Rd&&A.sd==null){H=q=V=m=0;var me=(Z=Q*_y[h])*ee;if(11>h||(q=(ee+1)/2*(m=(Q+1)/2),h==12&&(H=(V=Q)*ee)),(ee=s(me+2*q+H))==null){h=1;break e}A.sd=ee,11>h?((Q=A.f.RGBA).eb=ee,Q.fb=0,Q.A=Z,Q.size=me):((Q=A.f.kb).y=ee,Q.O=0,Q.fa=Z,Q.Fd=me,Q.f=ee,Q.N=0+me,Q.Ab=m,Q.Cd=q,Q.ea=ee,Q.W=0+me+q,Q.Db=m,Q.Ed=q,h==12&&(Q.F=ee,Q.J=0+me+2*q),Q.Tc=H,Q.lb=V)}if(m=1,V=A.S,q=A.width,H=A.height,V>=Xu&&13>V)if(11>V)h=A.f.RGBA,m&=(Z=Math.abs(h.A))*(H-1)+q<=h.size,m&=Z>=q*_y[V],m&=h.eb!=null;else{h=A.f.kb,Z=(q+1)/2,me=(H+1)/2,Q=Math.abs(h.fa),ee=Math.abs(h.Ab);var Pe=Math.abs(h.Db),Te=Math.abs(h.lb),be=Te*(H-1)+q;m&=Q*(H-1)+q<=h.Fd,m&=ee*(me-1)+Z<=h.Cd,m=(m&=Pe*(me-1)+Z<=h.Ed)&Q>=q&ee>=Z&Pe>=Z,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,V==12&&(m&=Te>=q,m&=be<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||x!=null&&x.fd&&(h=wo(A)),h}var Xn=64,tl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ki=24,bo=32,uu=8,Mr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(h){return h},R.Predictor2=function(h,m,x){return m[x+0]},R.Predictor3=function(h,m,x){return m[x+1]},R.Predictor4=function(h,m,x){return m[x-1]},R.Predictor5=function(h,m,x){return Xe(Xe(h,m[x+1]),m[x+0])},R.Predictor6=function(h,m,x){return Xe(h,m[x-1])},R.Predictor7=function(h,m,x){return Xe(h,m[x+0])},R.Predictor8=function(h,m,x){return Xe(m[x-1],m[x+0])},R.Predictor9=function(h,m,x){return Xe(m[x+0],m[x+1])},R.Predictor10=function(h,m,x){return Xe(Xe(h,m[x-1]),Xe(m[x+0],m[x+1]))},R.Predictor11=function(h,m,x){var A=m[x+0];return 0>=Ct(A>>24&255,h>>24&255,(m=m[x-1])>>24&255)+Ct(A>>16&255,h>>16&255,m>>16&255)+Ct(A>>8&255,h>>8&255,m>>8&255)+Ct(255&A,255&h,255&m)?A:h},R.Predictor12=function(h,m,x){var A=m[x+0];return(ht((h>>24&255)+(A>>24&255)-((m=m[x-1])>>24&255))<<24|ht((h>>16&255)+(A>>16&255)-(m>>16&255))<<16|ht((h>>8&255)+(A>>8&255)-(m>>8&255))<<8|ht((255&h)+(255&A)-(255&m)))>>>0},R.Predictor13=function(h,m,x){var A=m[x-1];return(St((h=Xe(h,m[x+0]))>>24&255,A>>24&255)<<24|St(h>>16&255,A>>16&255)<<16|St(h>>8&255,A>>8&255)<<8|St(h>>0&255,A>>0&255))>>>0};var bh=R.PredictorAdd0;R.PredictorAdd1=dt,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var Ri=R.PredictorAdd2;jt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Yu,wr=R.ColorIndexInverseTransform,nl=R.MapARGB,Gi=R.VP8LColorIndexInverseTransformAlpha,Ia=R.MapAlpha,xo=R.VP8LPredictorsAdd=[];xo.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var So,br,xr,ps,ci,Ki,Qo,Gs,qn,Xo,Zr,Oi,rl,cu,hu,Dr,Ks,Jo,Zs,il,ea,ta,Eo,Zi,Sr,dn,pn,Wn,mn=s(511),Ys=s(2041),sl=s(225),Qs=s(767),Qu=0,ol=Ys,na=sl,hi=Qs,Mi=mn,Xu=0,fu=1,xh=2,du=3,pu=4,Ju=5,dd=6,ec=7,tc=8,nc=9,o=10,c=[2,3,7],p=[3,3,11],w=[280,256,256,256,40],P=[0,1,1,1,0],$=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ue=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ee=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ce=8,Be=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],it=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mt=null,qt=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],al=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ra=[],ms=[],Xs=[],mg=1,Sh=2,gn=[],Qr=[];ke("UpsampleRgbLinePair",G,3),ke("UpsampleBgrLinePair",ve,3),ke("UpsampleRgbaLinePair",Rt,4),ke("UpsampleBgraLinePair",Ht,4),ke("UpsampleArgbLinePair",kt,4),ke("UpsampleRgba4444LinePair",Ue,2),ke("UpsampleRgb565LinePair",Ae,2);var gg=R.UpsampleRgbLinePair,vg=R.UpsampleBgrLinePair,pd=R.UpsampleRgbaLinePair,rc=R.UpsampleBgraLinePair,Eh=R.UpsampleArgbLinePair,md=R.UpsampleRgba4444LinePair,RA=R.UpsampleRgb565LinePair,gd=16,vd=1<<gd-1,Ah=-227,_g=482,OA=6,gy=0,MA=s(256),DA=s(256),FA=s(256),jA=s(256),BA=s(_g-Ah),VA=s(_g-Ah);nn("YuvToRgbRow",G,3),nn("YuvToBgrRow",ve,3),nn("YuvToRgbaRow",Rt,4),nn("YuvToBgraRow",Ht,4),nn("YuvToArgbRow",kt,4),nn("YuvToRgba4444Row",Ue,2),nn("YuvToRgb565Row",Ae,2);var vy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_d=[0,2,8],zA=[8,7,6,4,4,2,2,2,1,1,1,1],UA=1;this.WebPDecodeRGBA=function(h,m,x,A,V){var q=fu,H=new Ws,Z=new fr;H.ba=Z,Z.S=q,Z.width=[Z.width],Z.height=[Z.height];var Q=Z.width,ee=Z.height,me=new oi;if(me==null||h==null)var Pe=2;else e(me!=null),Pe=Kr(h,m,x,me.width,me.height,me.Pd,me.Qd,me.format,null);if(Pe!=0?Q=0:(Q!=null&&(Q[0]=me.width[0]),ee!=null&&(ee[0]=me.height[0]),Q=1),Q){Z.width=Z.width[0],Z.height=Z.height[0],A!=null&&(A[0]=Z.width),V!=null&&(V[0]=Z.height);e:{if(A=new Ii,(V=new Gr).data=h,V.w=m,V.ha=x,V.kd=1,m=[0],e(V!=null),((h=Kr(V.data,V.w,V.ha,null,null,null,m,null,V))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(e(H!=null),A.data=V.data,A.w=V.w+V.offset,A.ha=V.ha-V.offset,A.put=Lr,A.ac=Zn,A.bc=qr,A.ma=H,V.xa){if((h=Vn())==null){H=1;break e}if(function(Te,be){var Fe=[0],Re=[0],ge=[0];t:for(;;){if(Te==null)return 0;if(be==null)return Te.a=2,0;if(Te.l=be,Te.a=0,Y(Te.m,be.data,be.w,be.ha),!ot(Te.m,Fe,Re,ge)){Te.a=3;break t}if(Te.xb=Sh,be.width=Fe[0],be.height=Re[0],!Ti(Fe[0],Re[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(h,A)){if(A=(m=Ta(A.width,A.height,H.Oa,H.ba))==0){t:{A=h;n:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((x=A.l)!=null),e((V=x.ma)!=null),A.xb!=0){if(A.ca=V.ba,A.tb=V.tb,e(A.ca!=null),!lu(V.Oa,x,du)){A.a=2;break n}if(!Ts(A,x.width)||x.da)break n;if((x.da||Zt(A.ca.S))&&ye(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&ye()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!pt(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Rr(A,A.V,A.Ba,A.c,A.i,x.o,ao))break n;V.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(m=h.a)}else m=h.a}else{if((h=new Ut)==null){H=1;break e}if(h.Fa=V.na,h.P=V.P,h.qc=V.Sa,qi(h,A)){if((m=Ta(A.width,A.height,H.Oa,H.ba))==0){if(h.Aa=0,x=H.Oa,e((V=h)!=null),x!=null){if(0<(Q=0>(Q=x.Md)?0:100<Q?255:255*Q/100)){for(ee=me=0;4>ee;++ee)12>(Pe=V.pb[ee]).lc&&(Pe.ia=Q*zA[0>Pe.lc?0:Pe.lc]>>3),me|=Pe.ia;me&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=x.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}Lt(h,A)||(m=h.a)}}else m=h.a}m==0&&H.Oa!=null&&H.Oa.fd&&(m=wo(H.ba))}H=m}q=H!=0?null:11>q?Z.f.RGBA.eb:Z.f.kb.y}else q=null;return q};var _y=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(R,U){for(var K="",N=0;N<4;N++)K+=String.fromCharCode(R[U++]);return K}function g(R,U){return(R[U+0]<<0|R[U+1]<<8|R[U+2]<<16)>>>0}function v(R,U){return(R[U+0]<<0|R[U+1]<<8|R[U+2]<<16|R[U+3]<<24)>>>0}new u;var b=[0],_=[0],k=[],C=new u,M=t,E=function(R,U){var K={},N=0,O=!1,D=0,oe=0;if(K.frames=[],!function(X,J,ie,le){for(var xe=0;xe<le;xe++)if(X[J+xe]!=ie.charCodeAt(xe))return!0;return!1}(R,U,"RIFF",4)){for(v(R,U+=4),U+=8;U<R.length;){var pe=f(R,U),de=v(R,U+=4);U+=4;var re=de+(1&de);switch(pe){case"VP8 ":case"VP8L":K.frames[N]===void 0&&(K.frames[N]={}),(ae=K.frames[N]).src_off=O?oe:U-8,ae.src_size=D+de+8,N++,O&&(O=!1,D=0,oe=0);break;case"VP8X":(ae=K.header={}).feature_flags=R[U];var Y=U+4;ae.canvas_width=1+g(R,Y),Y+=3,ae.canvas_height=1+g(R,Y),Y+=3;break;case"ALPH":O=!0,D=re+8,oe=U-8;break;case"ANIM":(ae=K.header).bgcolor=v(R,U),Y=U+4,ae.loop_count=(Ne=R)[(F=Y)+0]<<0|Ne[F+1]<<8,Y+=2;break;case"ANMF":var ce,ae;(ae=K.frames[N]={}).offset_x=2*g(R,U),U+=3,ae.offset_y=2*g(R,U),U+=3,ae.width=1+g(R,U),U+=3,ae.height=1+g(R,U),U+=3,ae.duration=g(R,U),U+=3,ce=R[U++],ae.dispose=1&ce,ae.blend=ce>>1&1}pe!="ANMF"&&(U+=re)}var Ne,F;return K}}(M,0);E.response=M,E.rgbaoutput=!0,E.dataurl=!1;var T=E.header?E.header:null,j=E.frames?E.frames:null;if(T){T.loop_counter=T.loop_count,b=[T.canvas_height],_=[T.canvas_width];for(var te=0;te<j.length&&j[te].blend!=0;te++);}var he=j[0],we=C.WebPDecodeRGBA(M,he.src_off,he.src_size,_,b);he.rgba=we,he.imgwidth=_[0],he.imgheight=b[0];for(var z=0;z<_[0]*b[0]*4;z++)k[z]=we[z];return this.width=_,this.height=b,this.data=k,this}(function(t){var e=function(){return typeof C0=="function"},n=function(b,_,k,C){var M=4,E=a;switch(C){case t.image_compression.FAST:M=1,E=s;break;case t.image_compression.MEDIUM:M=6,E=l;break;case t.image_compression.SLOW:M=9,E=u}b=r(b,_,k,E);var T=C0(b,{level:M});return t.__addimage__.arrayBufferToBinaryString(T)},r=function(b,_,k,C){for(var M,E,T,j=b.length/_,te=new Uint8Array(b.length+j),he=g(),we=0;we<j;we+=1){if(T=we*_,M=b.subarray(T,T+_),C)te.set(C(M,k,E),T+we);else{for(var z,R=he.length,U=[];z<R;z+=1)U[z]=he[z](M,k,E);var K=v(U.concat());te.set(U[K],T+we)}E=M}return te},i=function(b){var _=Array.apply([],b);return _.unshift(0),_},s=function(b,_){var k,C=[],M=b.length;C[0]=1;for(var E=0;E<M;E+=1)k=b[E-_]||0,C[E+1]=b[E]-k+256&255;return C},a=function(b,_,k){var C,M=[],E=b.length;M[0]=2;for(var T=0;T<E;T+=1)C=k&&k[T]||0,M[T+1]=b[T]-C+256&255;return M},l=function(b,_,k){var C,M,E=[],T=b.length;E[0]=3;for(var j=0;j<T;j+=1)C=b[j-_]||0,M=k&&k[j]||0,E[j+1]=b[j]+256-(C+M>>>1)&255;return E},u=function(b,_,k){var C,M,E,T,j=[],te=b.length;j[0]=4;for(var he=0;he<te;he+=1)C=b[he-_]||0,M=k&&k[he]||0,E=k&&k[he-_]||0,T=f(C,M,E),j[he+1]=b[he]-T+256&255;return j},f=function(b,_,k){if(b===_&&_===k)return b;var C=Math.abs(_-k),M=Math.abs(b-k),E=Math.abs(b+_-k-k);return C<=M&&C<=E?b:M<=E?_:k},g=function(){return[i,s,a,l,u]},v=function(b){var _=b.map(function(k){return k.reduce(function(C,M){return C+Math.abs(M)},0)});return _.indexOf(Math.min.apply(null,_))};t.processPNG=function(b,_,k,C){var M,E,T,j,te,he,we,z,R,U,K,N,O,D,oe,pe=this.decode.FLATE_DECODE,de="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(T=new TN(b)).imgData,E=T.bits,M=T.colorSpace,te=T.colors,[4,6].indexOf(T.colorType)!==-1){if(T.bits===8){R=(z=T.pixelBitlength==32?new Uint32Array(T.decodePixels().buffer):T.pixelBitlength==16?new Uint16Array(T.decodePixels().buffer):new Uint8Array(T.decodePixels().buffer)).length,K=new Uint8Array(R*T.colors),U=new Uint8Array(R);var re,Y=T.pixelBitlength-T.bits;for(D=0,oe=0;D<R;D++){for(O=z[D],re=0;re<Y;)K[oe++]=O>>>re&255,re+=T.bits;U[D]=O>>>re&255}}if(T.bits===16){R=(z=new Uint32Array(T.decodePixels().buffer)).length,K=new Uint8Array(R*(32/T.pixelBitlength)*T.colors),U=new Uint8Array(R*(32/T.pixelBitlength)),N=T.colors>1,D=0,oe=0;for(var ce=0;D<R;)O=z[D++],K[oe++]=O>>>0&255,N&&(K[oe++]=O>>>16&255,O=z[D++],K[oe++]=O>>>0&255),U[ce++]=O>>>16&255;E=8}C!==t.image_compression.NONE&&e()?(b=n(K,T.width*T.colors,T.colors,C),we=n(U,T.width,1,C)):(b=K,we=U,pe=void 0)}if(T.colorType===3&&(M=this.color_spaces.INDEXED,he=T.palette,T.transparency.indexed)){var ae=T.transparency.indexed,Ne=0;for(D=0,R=ae.length;D<R;++D)Ne+=ae[D];if((Ne/=255)===R-1&&ae.indexOf(0)!==-1)j=[ae.indexOf(0)];else if(Ne!==R){for(z=T.decodePixels(),U=new Uint8Array(z.length),D=0,R=z.length;D<R;D++)U[D]=ae[z[D]];we=n(U,T.width,1)}}var F=function(X){var J;switch(X){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(C);return pe===this.decode.FLATE_DECODE&&(de="/Predictor "+F+" "),de+="/Colors "+te+" /BitsPerComponent "+E+" /Columns "+T.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(we&&this.__addimage__.isArrayBuffer(we)||this.__addimage__.isArrayBufferView(we))&&(we=this.__addimage__.arrayBufferToBinaryString(we)),{alias:k,data:b,index:_,filter:pe,decodeParameters:de,transparency:j,palette:he,sMask:we,predictor:F,width:T.width,height:T.height,bitsPerComponent:E,colorSpace:M}}}})(xt.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new IN(e),a=s.width,l=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:a,height:l},g=new uv(100).encode(f,100);return t.processJPEG.call(this,g,n,r,i)},t.processGIF87A=t.processGIF89A}(xt.API),Io.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Io.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Ln.log("bit decode error:"+n)}},Io.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var u=this.palette[s>>7-l&1];this.data[a+4*l]=u.blue,this.data[a+4*l+1]=u.green,this.data[a+4*l+2]=u.red,this.data[a+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Io.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,l=s>>4,u=15&s,f=this.palette[l];if(this.data[a]=f.blue,this.data[a+1]=f.green,this.data[a+2]=f.red,this.data[a+3]=255,2*i+1>=this.width)break;f=this.palette[u],this.data[a+4]=f.blue,this.data[a+4+1]=f.green,this.data[a+4+2]=f.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Io.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Io.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,u=(s>>10&e)/e*255|0,f=s>>15?255:0,g=r*this.width*4+4*i;this.data[g]=u,this.data[g+1]=l,this.data[g+2]=a,this.data[g+3]=f}this.pos+=t}},Io.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,u=(a>>5&n)/n*255|0,f=(a>>11)/e*255|0,g=i*this.width*4+4*s;this.data[g]=f,this.data[g+1]=u,this.data[g+2]=l,this.data[g+3]=255}this.pos+=t}},Io.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Io.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*n;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=a}},Io.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Io(e,!1),a=s.width,l=s.height,u={data:s.getData(),width:a,height:l},f=new uv(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)}}(xt.API),g5.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new g5(e),a=s.width,l=s.height,u={data:s.getData(),width:a,height:l},f=new uv(100).encode(u,100);return t.processJPEG.call(this,f,n,r,i)}}(xt.API),xt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),l=0,u=0,f=0;f<i;f+=4){var g=r[f],v=r[f+1],b=r[f+2],_=r[f+3];s[l++]=g,s[l++]=v,s[l++]=b,a[u++]=_}var k=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:k,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},xt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},cc=xt.API,Zd=cc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:i.metadata.Unicode.widths,u=l.fof?l.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,g=f.fof?f.fof:1,v=e.doKerning!==!1,b=0,_=t.length,k=0,C=l[0]||u,M=[];for(n=0;n<_;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?M.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(b=v&&yn(f[r])==="object"&&!isNaN(parseInt(f[r][k],10))?f[r][k]/g:0,M.push((l[r]||C)/u+b)),k=r;return M},f5=cc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return cc.processArabic&&(t=cc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Zd.apply(this,arguments).reduce(function(s,a){return s+a},0)},d5=function(t,e,n,r){for(var i=[],s=0,a=t.length,l=0;s!==a&&l+e[s]<n;)l+=e[s],s++;i.push(t.slice(0,s));var u=s;for(l=0;s!==a;)l+e[s]>r&&(i.push(t.slice(u,s)),l=0,u=s),l+=e[s],s++;return u!==s&&i.push(t.slice(u,s)),i},p5=function(t,e,n){n||(n={});var r,i,s,a,l,u,f,g=[],v=[g],b=n.textIndent||0,_=0,k=0,C=t.split(" "),M=Zd.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?C[0].length+2:n.lineIndent||0){var E=Array(u).join(" "),T=[];C.map(function(te){(te=te.split(/\s*\n/)).length>1?T=T.concat(te.map(function(he,we){return(we&&he.length?`
`:"")+he})):T.push(te[0])}),C=T,u=f5.apply(this,[E,n])}for(s=0,a=C.length;s<a;s++){var j=0;if(r=C[s],u&&r[0]==`
`&&(r=r.substr(1),j=1),b+_+(k=(i=Zd.apply(this,[r,n])).reduce(function(te,he){return te+he},0))>e||j){if(k>e){for(l=d5.apply(this,[r,i,e-(b+_),e]),g.push(l.shift()),g=[l.pop()];l.length;)v.push([l.shift()]);k=i.slice(r.length-(g[0]?g[0].length:0)).reduce(function(te,he){return te+he},0)}else g=[r];v.push(g),b=k+u,_=M}else g.push(r),b+=_+k,_=M}return f=u?function(te,he){return(he?E:"")+te.join(" ")}:function(te){return te.join(" ")},v.map(f)},cc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var v=this.internal.getFont(g.fontName,g.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var l,u,f=[];for(l=0,u=r.length;l<u;l++)f=f.concat(p5.apply(this,[r[l],a,s]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(v){return"0x"+parseInt(v,10).toString(16)},a=t.__fontmetrics__.compress=function(v){var b,_,k,C,M=["{"];for(var E in v){if(b=v[E],isNaN(parseInt(E,10))?_="'"+E+"'":(E=parseInt(E,10),_=(_=s(E).slice(2)).slice(0,-1)+r[_.slice(-1)]),typeof b=="number")b<0?(k=s(b).slice(3),C="-"):(k=s(b).slice(2),C=""),k=C+k.slice(0,-1)+r[k.slice(-1)];else{if(yn(b)!=="object")throw new Error("Don't know what to do with value type "+yn(b)+".");k=a(b)}M.push(_+k)}return M.push("}"),M.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,_,k,C,M={},E=1,T=M,j=[],te="",he="",we=v.length-1,z=1;z<we;z+=1)(C=v[z])=="'"?b?(k=b.join(""),b=void 0):b=[]:b?b.push(C):C=="{"?(j.push([T,k]),T={},k=void 0):C=="}"?((_=j.pop())[0][_[1]]=T,k=void 0,T=_[0]):C=="-"?E=-1:k===void 0?n.hasOwnProperty(C)?(te+=n[C],k=parseInt(te,16)*E,E=1,te=""):te+=C:n.hasOwnProperty(C)?(he+=n[C],T[k]=parseInt(he,16)*E,E=1,k=void 0,he=""):he+=C;return M},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var b=v.font,_=g.Unicode[b.postScriptName];_&&(b.metadata.Unicode={},b.metadata.Unicode.widths=_.widths,b.metadata.Unicode.kerning=_.kerning);var k=f.Unicode[b.postScriptName];k&&(b.metadata.Unicode.encoding=k,b.encoding=k.codePages[0])}])}(xt.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(cf(l)),a.metadata=t.API.TTFFont.open(l),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(xt),function(t){function e(){return(It.canvg?Promise.resolve(It.canvg):P0(()=>import("./index.es-CKBmo7K0.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}xt.API.addSvgAsImage=function(n,r,i,s,a,l,u,f){if(isNaN(r)||isNaN(i))throw Ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var g=document.createElement("canvas");g.width=s,g.height=a;var v=g.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,g.width,g.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},_=this;return e().then(function(k){return k.fromString(v,n,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(b)}).then(function(){_.addImage(g.toDataURL("image/jpeg",1),r,i,s,a,u,f)})}}(),xt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},xt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),u=[],f=0,g=0,v=0;function b(k,C){var M,E=!1;for(M=0;M<k.length;M+=1)k[M]===C&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var _=l.length;for(v=0;v<_;v+=1)n[l[v]].value=n[l[v]].defaultValue,n[l[v]].explicitSet=!1}if(yn(t)==="object"){for(i in t)if(s=t[i],b(l,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&b(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")u.push(String(s[f]-1));else if(s[f].length>1){for(g=0;g<s[f].length;g+=1)typeof s[f][g]!="number"&&(r=!1);r===!0&&u.push([s[f][0]-1,s[f][1]-1].join(" "))}n[i].value="["+u.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,C=[];for(k in n)n[k].explicitSet===!0&&(n[k].type==="name"?C.push("/"+k+" /"+n[k].value):C.push("/"+k+" "+n[k].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+a.length+l.length+i.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+l+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(xt.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var l,u=a.metadata.Unicode.widths,f=["","0","00","000","0000"],g=[""],v=0,b=s.length;v<b;++v){if(l=a.metadata.characterToGlyph(s.charCodeAt(v)),a.metadata.glyIdsUsed.push(l),a.metadata.toUnicode[l]=s.charCodeAt(v),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(a.metadata.widthOfGlyph(l),10)])),l=="0")return g.join("");l=l.toString(16),g.push(f[4-l.length],l)}return g.join("")},r=function(s){var a,l,u,f,g,v,b;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],v=0,b=(l=Object.keys(s).sort(function(_,k){return _-k})).length;v<b;v++)a=l[v],u.length>=100&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(f=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),u.push("<"+a+"><"+f+">"));return u.length&&(g+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),g+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var l=a.font,u=a.out,f=a.newObject,g=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var v=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),_="",k=0;k<b.length;k++)_+=String.fromCharCode(b[k]);var C=f();g({data:_,addLength1:!0,objectId:C}),u("endobj");var M=f();g({data:r(l.metadata.toUnicode),addLength1:!0,objectId:M}),u("endobj");var E=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+fc(l.fontName)),u("/FontFile2 "+C+" 0 R"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var T=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+fc(l.fontName)),u("/FontDescriptor "+E+" 0 R"),u("/W "+t.API.PDFObject.convert(v)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+M+" 0 R"),u("/BaseFont /"+fc(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+T+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var l=a.font,u=a.out,f=a.newObject,g=a.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var v=l.metadata.rawData,b="",_=0;_<v.length;_++)b+=String.fromCharCode(v[_]);var k=f();g({data:b,addLength1:!0,objectId:k}),u("endobj");var C=f();g({data:r(l.metadata.toUnicode),addLength1:!0,objectId:C}),u("endobj");var M=f();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+k+" 0 R"),u("/Flags 96"),u("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+fc(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=f();for(var E=0;E<l.metadata.hmtx.widths.length;E++)l.metadata.hmtx.widths[E]=parseInt(l.metadata.hmtx.widths[E]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+fc(l.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,l=s.text||"",u=s.x,f=s.y,g=s.options||{},v=s.mutex||{},b=v.pdfEscape,_=v.activeFontKey,k=v.fonts,C=_,M="",E=0,T="",j=k[C].encoding;if(k[C].encoding!=="Identity-H")return{text:l,x:u,y:f,options:g,mutex:v};for(T=l,C=_,Array.isArray(l)&&(T=l[0]),E=0;E<T.length;E+=1)k[C].metadata.hasOwnProperty("cmap")&&(a=k[C].metadata.cmap.unicode.codeMap[T[E].charCodeAt(0)]),a||T[E].charCodeAt(0)<256&&k[C].metadata.hasOwnProperty("Unicode")?M+=T[E]:M+="";var te="";return parseInt(C.slice(1))<14||j==="WinAnsiEncoding"?te=b(M,C).split("").map(function(he){return he.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(te=n(M,k[C])),v.isHex=!0,{text:te,x:u,y:f,options:g,mutex:v}};e.events.push(["postProcessText",function(s){var a=s.text||"",l=[],u={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var f=0;for(f=0;f<a.length;f+=1)Array.isArray(a[f])&&a[f].length===3?l.push([i(Object.assign({},u,{text:a[f][0]})).text,a[f][1],a[f][2]]):l.push(i(Object.assign({},u,{text:a[f]})).text);s.text=l}else s.text=i(Object.assign({},u,{text:a})).text}])}(xt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(xt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,l,u,f,g,v=e,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],_=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),T=!1,j=0;this.__bidiEngine__={};var te=function(N){var O=N.charCodeAt(),D=O>>8,oe=C[D];return oe!==void 0?v[256*oe+(255&O)]:D===252||D===253?"AL":E.test(D)?"L":D===8?"R":"N"},he=function(N){for(var O,D=0;D<N.length;D++){if((O=te(N.charAt(D)))==="L")return!1;if(O==="R")return!0}return!1},we=function(N,O,D,oe){var pe,de,re,Y,ce=O[oe];switch(ce){case"L":case"R":T=!1;break;case"N":case"AN":break;case"EN":T&&(ce="AN");break;case"AL":T=!0,ce="R";break;case"WS":ce="N";break;case"CS":oe<1||oe+1>=O.length||(pe=D[oe-1])!=="EN"&&pe!=="AN"||(de=O[oe+1])!=="EN"&&de!=="AN"?ce="N":T&&(de="AN"),ce=de===pe?de:"N";break;case"ES":ce=(pe=oe>0?D[oe-1]:"B")==="EN"&&oe+1<O.length&&O[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&D[oe-1]==="EN"){ce="EN";break}if(T){ce="N";break}for(re=oe+1,Y=O.length;re<Y&&O[re]==="ET";)re++;ce=re<Y&&O[re]==="EN"?"EN":"N";break;case"NSM":if(a&&!l){for(Y=O.length,re=oe+1;re<Y&&O[re]==="NSM";)re++;if(re<Y){var ae=N[oe],Ne=ae>=1425&&ae<=2303||ae===64286;if(pe=O[re],Ne&&(pe==="R"||pe==="AL")){ce="R";break}}}ce=oe<1||(pe=O[oe-1])==="B"?"N":D[oe-1];break;case"B":T=!1,i=!0,ce=j;break;case"S":s=!0,ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":T=!1;break;case"BN":ce="N"}return ce},z=function(N,O,D){var oe=N.split("");return D&&R(oe,D,{hiLevel:j}),oe.reverse(),O&&O.reverse(),oe.join("")},R=function(N,O,D){var oe,pe,de,re,Y,ce=-1,ae=N.length,Ne=0,F=[],X=j?_:b,J=[];for(T=!1,i=!1,s=!1,pe=0;pe<ae;pe++)J[pe]=te(N[pe]);for(de=0;de<ae;de++){if(Y=Ne,F[de]=we(N,J,F,de),oe=240&(Ne=X[Y][k[F[de]]]),Ne&=15,O[de]=re=X[Ne][5],oe>0)if(oe===16){for(pe=ce;pe<de;pe++)O[pe]=1;ce=-1}else ce=-1;if(X[Ne][6])ce===-1&&(ce=de);else if(ce>-1){for(pe=ce;pe<de;pe++)O[pe]=re;ce=-1}J[de]==="B"&&(O[de]=0),D.hiLevel|=re}s&&function(ie,le,xe){for(var Se=0;Se<xe;Se++)if(ie[Se]==="S"){le[Se]=j;for(var Le=Se-1;Le>=0&&ie[Le]==="WS";Le--)le[Le]=j}}(J,O,ae)},U=function(N,O,D,oe,pe){if(!(pe.hiLevel<N)){if(N===1&&j===1&&!i)return O.reverse(),void(D&&D.reverse());for(var de,re,Y,ce,ae=O.length,Ne=0;Ne<ae;){if(oe[Ne]>=N){for(Y=Ne+1;Y<ae&&oe[Y]>=N;)Y++;for(ce=Ne,re=Y-1;ce<re;ce++,re--)de=O[ce],O[ce]=O[re],O[re]=de,D&&(de=D[ce],D[ce]=D[re],D[re]=de);Ne=Y}Ne++}}},K=function(N,O,D){var oe=N.split(""),pe={hiLevel:j};return D||(D=[]),R(oe,D,pe),function(de,re,Y){if(Y.hiLevel!==0&&g)for(var ce,ae=0;ae<de.length;ae++)re[ae]===1&&(ce=M.indexOf(de[ae]))>=0&&(de[ae]=M[ce+1])}(oe,D,pe),U(2,oe,O,D,pe),U(1,oe,O,D,pe),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(N,O,D){if(function(pe,de){if(de)for(var re=0;re<pe.length;re++)de[re]=re;l===void 0&&(l=he(pe)),f===void 0&&(f=he(pe))}(N,O),a||!u||f)if(a&&u&&l^f)j=l?1:0,N=z(N,O,D);else if(!a&&u&&f)j=l?1:0,N=K(N,O,D),N=z(N,O);else if(!a||l||u||f){if(a&&!u&&l^f)N=z(N,O),l?(j=0,N=K(N,O,D)):(j=1,N=K(N,O,D),N=z(N,O));else if(a&&l&&!u&&f)j=1,N=K(N,O,D),N=z(N,O);else if(!a&&!u&&l^f){var oe=g;l?(j=1,N=K(N,O,D),j=0,g=!1,N=K(N,O,D),g=oe):(j=0,N=K(N,O,D),N=z(N,O),j=1,g=!1,N=K(N,O,D),g=oe,N=z(N,O))}}else j=0,N=K(N,O,D);else j=l?1:0,N=K(N,O,D);return N},this.__bidiEngine__.setOptions=function(N){N&&(a=N.isInputVisual,u=N.isOutputVisual,l=N.isInputRtl,f=N.isOutputRtl,g=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(a=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?a.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):a.push([n.doBidiReorder(i[l])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(xt),xt.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Kl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new qN(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new NN(this.contents),this.head=new CN(this),this.name=new DN(this),this.cmap=new $S(this),this.toUnicode={},this.hhea=new kN(this),this.maxp=new FN(this),this.hmtx=new jN(this),this.post=new ON(this),this.os2=new RN(this),this.loca=new UN(this),this.glyf=new BN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,l,u,f;for(f=[],a=0,l=(u=this.bbox).length;a<l;a++)e=u[a],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,l;for(a=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var zo,Kl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,l,u;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^l)+(255^u)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*l+u},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),NN=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,l,u,f,g,v,b,_,k,C;for(C in _=Object.keys(n).length,u=Math.log(2),v=16*Math.floor(Math.log(_)/u),a=Math.floor(v/u),g=16*_-v,(i=new Kl).writeInt(this.scalarType),i.writeShort(_),i.writeShort(v),i.writeShort(a),i.writeShort(g),s=16*_,f=i.pos+s,l=null,k=[],n)for(b=n[C],i.writeString(C),i.writeInt(t(b)),i.writeInt(f),i.writeInt(b.length),k=k.concat(b),C==="head"&&(l=f),f+=b.length;f%4;)k.push(0),f++;return i.write(k),r=2981146554-t(i.data),i.pos=l+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=GS.call(n);n.length%4;)n.push(0);for(s=new Kl(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),LN={}.hasOwnProperty,_a=function(t,e){for(var n in e)LN.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};zo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var CN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _a(e,zo),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Kl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),v5=function(){function t(e,n){var r,i,s,a,l,u,f,g,v,b,_,k,C,M,E,T,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),v=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(_=e.readUInt16(),b=_/2,e.pos+=6,s=function(){var te,he;for(he=[],u=te=0;0<=b?te<b:te>b;u=0<=b?++te:--te)he.push(e.readUInt16());return he}(),e.pos+=2,C=function(){var te,he;for(he=[],u=te=0;0<=b?te<b:te>b;u=0<=b?++te:--te)he.push(e.readUInt16());return he}(),f=function(){var te,he;for(he=[],u=te=0;0<=b?te<b:te>b;u=0<=b?++te:--te)he.push(e.readUInt16());return he}(),g=function(){var te,he;for(he=[],u=te=0;0<=b?te<b:te>b;u=0<=b?++te:--te)he.push(e.readUInt16());return he}(),i=(this.length-e.pos+this.offset)/2,l=function(){var te,he;for(he=[],u=te=0;0<=i?te<i:te>i;u=0<=i?++te:--te)he.push(e.readUInt16());return he}(),u=E=0,j=s.length;E<j;u=++E)for(M=s[u],r=T=k=C[u];k<=M?T<=M:T>=M;r=k<=M?++T:--T)g[u]===0?a=r+f[u]:(a=l[g[u]/2+(r-k)-(b-u)]||0)!==0&&(a+=f[u]),this.codeMap[r]=65535&a}e.pos=v}return t.encode=function(e,n){var r,i,s,a,l,u,f,g,v,b,_,k,C,M,E,T,j,te,he,we,z,R,U,K,N,O,D,oe,pe,de,re,Y,ce,ae,Ne,F,X,J,ie,le,xe,Se,Le,$e,qe,Ze;switch(oe=new Kl,a=Object.keys(e).sort(function(Ye,pt){return Ye-pt}),n){case"macroman":for(C=0,M=function(){var Ye=[];for(k=0;k<256;++k)Ye.push(0);return Ye}(),T={0:0},s={},pe=0,ce=a.length;pe<ce;pe++)T[Le=e[i=a[pe]]]==null&&(T[Le]=++C),s[i]={old:e[i],new:T[e[i]]},M[i]=T[e[i]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(M),{charMap:s,subtable:oe.data,maxGlyphID:C+1};case"unicode":for(O=[],v=[],j=0,T={},r={},E=f=null,de=0,ae=a.length;de<ae;de++)T[he=e[i=a[de]]]==null&&(T[he]=++j),r[i]={old:he,new:T[he]},l=T[he]-i,E!=null&&l===f||(E&&v.push(E),O.push(i),f=l),E=i;for(E&&v.push(E),v.push(65535),O.push(65535),K=2*(U=O.length),R=2*Math.pow(Math.log(U)/Math.LN2,2),b=Math.log(R/2)/Math.LN2,z=2*U-R,u=[],we=[],_=[],k=re=0,Ne=O.length;re<Ne;k=++re){if(N=O[k],g=v[k],N===65535){u.push(0),we.push(0);break}if(N-(D=r[N].new)>=32768)for(u.push(0),we.push(2*(_.length+U-k)),i=Y=N;N<=g?Y<=g:Y>=g;i=N<=g?++Y:--Y)_.push(r[i].new);else u.push(D-N),we.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*U+2*_.length),oe.writeUInt16(0),oe.writeUInt16(K),oe.writeUInt16(R),oe.writeUInt16(b),oe.writeUInt16(z),xe=0,F=v.length;xe<F;xe++)i=v[xe],oe.writeUInt16(i);for(oe.writeUInt16(0),Se=0,X=O.length;Se<X;Se++)i=O[Se],oe.writeUInt16(i);for($e=0,J=u.length;$e<J;$e++)l=u[$e],oe.writeUInt16(l);for(qe=0,ie=we.length;qe<ie;qe++)te=we[qe],oe.writeUInt16(te);for(Ze=0,le=_.length;Ze<le;Ze++)C=_[Ze],oe.writeUInt16(C);return{charMap:r,subtable:oe.data,maxGlyphID:j+1}}},t}(),$S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _a(e,zo),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new v5(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=v5.encode(n,r),(s=new Kl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),kN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _a(e,zo),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),RN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _a(e,zo),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),ON=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _a(e,zo),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var l,u,f;for(f=[],a=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;a=0<=u?++l:--l)f.push(n.readUInt32());return f}).call(this)}},e}(),MN=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},DN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _a(e,zo),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,l,u,f,g,v,b,_;for(n.pos=this.offset,n.readShort(),r=n.readShort(),u=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(f={},a=v=0,b=i.length;v<b;a=++v)s=i[a],n.pos=s.offset,g=n.readString(s.length),l=new MN(g,s),f[_=s.nameID]==null&&(f[_]=[]),f[s.nameID].push(l);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},e}(),FN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _a(e,zo),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),jN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _a(e,zo),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,l,u,f;for(n.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var g,v;for(v=[],r=g=0;0<=s?g<s:g>s;r=0<=s?++g:--g)v.push(n.readInt16());return v}(),this.widths=(function(){var g,v,b,_;for(_=[],g=0,v=(b=this.metrics).length;g<v;g++)a=b[g],_.push(a.advance);return _}).call(this),i=this.widths[this.widths.length-1],f=[],r=l=0;0<=s?l<s:l>s;r=0<=s?++l:--l)f.push(this.widths.push(i));return f},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),GS=[].slice,BN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _a(e,zo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,l,u,f,g,v,b;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,l=(u=new Kl(r.read(s))).readShort(),g=u.readShort(),b=u.readShort(),f=u.readShort(),v=u.readShort(),this.cache[n]=l===-1?new zN(u,g,b,f,v):new VN(u,l,g,b,f,v),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,l,u,f;for(l=[],a=[],u=0,f=r.length;u<f;u++)s=n[r[u]],a.push(l.length),s&&(l=l.concat(s.encode(i)));return a.push(l.length),{table:l,offsets:a}},e}(),VN=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),zN=function(){function t(e,n,r,i,s){var a,l;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;l=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&l;)a.pos+=1&l?4:2,128&l?a.pos+=8:64&l?a.pos+=4:8&l&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Kl(GS.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),UN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _a(e,zo),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,l=0;l<i.length;++l)if(i[l]=s,a<r.length&&r[a]==l){++a,i[l]=s;var u=this.offsets[l],f=this.offsets[l+1]-u;f>0&&(s+=f)}for(var g=new Array(4*i.length),v=0;v<i.length;++v)g[4*v+3]=255&i[v],g[4*v+2]=(65280&i[v])>>8,g[4*v+1]=(16711680&i[v])>>16,g[4*v]=(4278190080&i[v])>>24;return g},e}(),qN=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,l,u;for(i={},a=0,l=e.length;a<l;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in u=this.glyphsFor(n))r=u[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,l,u,f,g,v,b,_,k,C,M,E;for(i in r=$S.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),_={0:0},E=r.charMap)_[(u=E[i]).old]=u.new;for(k in b=r.maxGlyphID,a)k in _||(_[k]=b++);return g=function(T){var j,te;for(j in te={},T)te[T[j]]=j;return te}(_),v=Object.keys(g).sort(function(T,j){return T-j}),C=function(){var T,j,te;for(te=[],T=0,j=v.length;T<j;T++)l=v[T],te.push(g[l]);return te}(),s=this.font.glyf.encode(a,C,_),f=this.font.loca.encode(s.offsets,C),M={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},t}();xt.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var l,u,f;for(f=[],l=0,u=n.length;l<u;l++)r=n[l],f.push(e.convert(r));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();function KS(t,e,n,r,i){r=r||{};var s=1.15,a=i.internal.scaleFactor,l=i.internal.getFontSize()/a,u=i.getLineHeightFactor?i.getLineHeightFactor():s,f=l*u,g=/\r\n|\r|\n/g,v="",b=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(v=typeof t=="string"?t.split(g):t,b=v.length||1),n+=l*(2-s),r.valign==="middle"?n-=b/2*f:r.valign==="bottom"&&(n-=b*f),r.halign==="center"||r.halign==="right"){var _=l;if(r.halign==="center"&&(_*=.5),v&&b>=1){for(var k=0;k<v.length;k++)i.text(v[k],e-i.getStringUnitWidth(v[k])*_,n),n+=f;return i}e-=i.getStringUnitWidth(t)*_}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var _5={},zc=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:_5=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),l=a.fontStyle,u=a.fontName;if(e.font&&(u=e.font),e.fontStyle){l=e.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),l=f[0])}if(this.jsPDFDocument.setFont(u,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var g=t.unifyColor(e.fillColor);g&&(r=this.jsPDFDocument).setFillColor.apply(r,g),g=t.unifyColor(e.textColor),g&&(i=this.jsPDFDocument).setTextColor.apply(i,g),g=t.unifyColor(e.lineColor),g&&(s=this.jsPDFDocument).setDrawColor.apply(s,g),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return _5||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),j0=function(t,e){return j0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},j0(t,e)};function ZS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");j0(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var YS=function(t){ZS(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function WN(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function HN(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function nm(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function QS(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=XS(i,!1);a&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,a)}function XS(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function Wm(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function JS(t,e){var n=Wm(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function $N(t,e,n,r,i){var s={},a=1.3333333333333333,l=cv(e,function(j){return i.getComputedStyle(j).backgroundColor});l!=null&&(s.fillColor=l);var u=cv(e,function(j){return i.getComputedStyle(j).color});u!=null&&(s.textColor=u);var f=KN(r,n);f&&(s.cellPadding=f);var g="borderTopColor",v=a*n,b=r.borderTopWidth;if(r.borderBottomWidth===b&&r.borderRightWidth===b&&r.borderLeftWidth===b){var _=(parseFloat(b)||0)/v;_&&(s.lineWidth=_)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/v,right:(parseFloat(r.borderRightWidth)||0)/v,bottom:(parseFloat(r.borderBottomWidth)||0)/v,left:(parseFloat(r.borderLeftWidth)||0)/v},s.lineWidth.top||(s.lineWidth.right?g="borderRightColor":s.lineWidth.bottom?g="borderBottomColor":s.lineWidth.left&&(g="borderLeftColor"));var k=cv(e,function(j){return i.getComputedStyle(j)[g]});k!=null&&(s.lineColor=k);var C=["left","right","center","justify"];C.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),C=["middle","bottom","top"],C.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var M=parseInt(r.fontSize||"");isNaN(M)||(s.fontSize=M/a);var E=GN(r);E&&(s.fontStyle=E);var T=(r.fontFamily||"").toLowerCase();return t.indexOf(T)!==-1&&(s.font=T),s}function GN(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function cv(t,e){var n=eE(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function eE(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:eE(t.parentElement,e):n}function KN(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(l){return parseInt(l||"0")/r}),a=Wm(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function tE(t,e,n,r,i){var s,a;r===void 0&&(r=!1),i===void 0&&(i=!1);var l;typeof e=="string"?l=n.document.querySelector(e):l=e;var u=Object.keys(t.getFontList()),f=t.scaleFactor(),g=[],v=[],b=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:g,body:v,foot:b};for(var _=0;_<l.rows.length;_++){var k=l.rows[_],C=(a=(s=k==null?void 0:k.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),M=ZN(u,f,n,k,r,i);M&&(C==="thead"?g.push(M):C==="tfoot"?b.push(M):v.push(M))}return{head:g,body:v,foot:b}}function ZN(t,e,n,r,i,s){for(var a=new YS(r),l=0;l<r.cells.length;l++){var u=r.cells[l],f=n.getComputedStyle(u);if(i||f.display!=="none"){var g=void 0;s&&(g=$N(t,u,e,f,n)),a.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:g,_element:u,content:YN(u)})}}var v=n.getComputedStyle(r);if(a.length>0&&(i||v.display!=="none"))return a}function YN(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function QN(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Fa(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])}return s}function nE(t,e){var n=new zc(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();QN(i,r,e);var s=Fa({},i,r,e),a;typeof window<"u"&&(a=window);var l=XN(i,r,e),u=JN(i,r,e),f=eL(n,s),g=nL(n,s,a);return{id:e.tableId,content:g,hooks:u,styles:l,settings:f}}function XN(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(u){if(u==="columnStyles"){var f=t[u],g=e[u],v=n[u];r.columnStyles=Fa({},f,g,v)}else{var b=[t,e,n],_=b.map(function(k){return k[u]||{}});r[u]=Fa({},_[0],_[1],_[2])}},s=0,a=Object.keys(r);s<a.length;s++){var l=a[s];i(l)}return r}function JN(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=r;s<a.length;s++){var l=a[s];l.didParseCell&&i.didParseCell.push(l.didParseCell),l.willDrawCell&&i.willDrawCell.push(l.willDrawCell),l.didDrawCell&&i.didDrawCell.push(l.didDrawCell),l.willDrawPage&&i.willDrawPage.push(l.willDrawPage),l.didDrawPage&&i.didDrawPage.push(l.didDrawPage)}return i}function eL(t,e){var n,r,i,s,a,l,u,f,g,v,b,_,k=Wm(e.margin,40/t.scaleFactor()),C=(n=tL(t,e.startY))!==null&&n!==void 0?n:k.top,M;e.showFoot===!0?M="everyPage":e.showFoot===!1?M="never":M=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var T=(s=e.useCss)!==null&&s!==void 0?s:!1,j=e.theme||(T?"plain":"striped"),te=!!e.horizontalPageBreak,he=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:T,theme:j,startY:C,margin:k,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(g=e.tableWidth)!==null&&g!==void 0?g:"auto",showHead:E,showFoot:M,tableLineWidth:(v=e.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(b=e.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:te,horizontalPageBreakRepeat:he,horizontalPageBreakBehaviour:(_=e.horizontalPageBreakBehaviour)!==null&&_!==void 0?_:"afterAllRows"}}function tL(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var a=n.startPageNumber+n.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function nL(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(n){var l=tE(t,e.html,n,a,e.useCss)||{};r=l.head||r,i=l.body||r,s=l.foot||r}else console.error("Cannot parse html in non browser environment")}var u=e.columns||rL(r,i,s);return{columns:u,head:r,body:i,foot:s}}function rL(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,l;Array.isArray(r)?l=r[parseInt(s)]:l=r[s],typeof l=="object"&&!Array.isArray(l)&&(a=(l==null?void 0:l.colSpan)||1);for(var u=0;u<a;u++){var f=void 0;Array.isArray(r)?f=i.length:f=s+(u>0?"_".concat(u):"");var g={dataKey:f};i.push(g)}}),i}var B0=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),iL=function(t){ZS(e,t);function e(n,r,i,s,a,l){var u=t.call(this,n,r,l)||this;return u.cell=i,u.row=s,u.column=a,u.section=s.section,u}return e}(B0),sL=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,a){for(var l=0,u=n;l<u.length;l++){var f=u[l],g=new iL(e,this,r,i,s,a),v=f(g)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],v)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new B0(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new B0(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),rE=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof YS&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var a=r.cells[s.index];if(!a)return 0;var l=n.getLineHeight(a.styles.fontSize),u=a.padding("vertical"),f=u+l;return f>i?f:i},0)},t}(),iE=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=a.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Wm(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),oL=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(n=Math.max(n,a.styles.cellWidth))}return n},t}();function aL(t,e){lL(t,e);var n=[],r=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=V0(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=V0(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),cL(e),hL(e,t),uL(e)}function lL(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=JS(t,e);e.allRows().forEach(function(s){for(var a=0,l=e.columns;a<l.length;a++){var u=l[a],f=s.cells[u.index];if(f){var g=e.hooks.didParseCell;e.callCellHooks(t,g,f,s,u,null);var v=f.padding("horizontal");f.contentWidth=nm(f.text,f.styles,t)+v;var b=nm(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,t);if(f.minReadableWidth=b+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>i?(f.minWidth=i,f.wrappedWidth=i):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var _=10/n;f.minWidth=f.styles.minCellWidth||_,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,l=e.columns;a<l.length;a++){var u=l[a],f=s.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var g=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},v=g.cellWidth||g.minCellWidth;v&&typeof v=="number"&&(u.minWidth=v,u.wrappedWidth=v)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function V0(t,e,n){for(var r=e,i=t.reduce(function(_,k){return _+k.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],l=a.wrappedWidth/i,u=r*l,f=a.width+u,g=n(a),v=f<g?g:f;e-=v-a.width,a.width=v}if(e=Math.round(e*1e10)/1e10,e){var b=t.filter(function(_){return e<0?_.width>n(_):!0});b.length&&(e=V0(b,e,n))}return e}function uL(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],a=0,l=t.columns;a<l.length;a++){var u=l[a],f=e[u.index];if(n>1)n--,delete s.cells[u.index];else if(f)f.cell.height+=s.height,n=f.cell.colSpan,delete s.cells[u.index],f.left--,f.left<=1&&delete e[u.index];else{var g=s.cells[u.index];if(!g)continue;if(g.height=s.height,g.rowSpan>1){var v=r.length-i,b=g.rowSpan>v?v:g.rowSpan;e[u.index]={cell:g,left:b,row:s}}}}}function cL(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,a=0,l=0;l<t.columns.length;l++){var u=t.columns[l];if(a-=1,a>1&&t.columns[l+1])s+=u.width,delete r.cells[u.index];else if(i){var f=i;delete r.cells[u.index],i=null,f.width=u.width+s}else{var f=r.cells[u.index];if(!f)continue;if(a=f.colSpan,s=0,f.colSpan>1){i=f,s+=u.width;continue}f.width=u.width+s}}}function hL(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],a=0,l=t.columns;a<l.length;a++){var u=l[a],f=s.cells[u.index];if(f){e.applyStyles(f.styles,!0);var g=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,g+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=y5(f.text,g,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=y5(f.text,g,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var v=f.styles.overflow(f.text,g);typeof v=="string"?f.text=[v]:f.text=v}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var b=f.contentHeight/f.rowSpan;f.rowSpan>1&&n.count*n.height<b*f.rowSpan?n={height:b,count:f.rowSpan}:n&&n.count>0&&n.height>b&&(b=n.height),b>s.height&&(s.height=b)}}n.count--}}function y5(t,e,n,r,i){return t.map(function(s){return fL(s,e,n,r,i)})}function fL(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=nm(t,n,r))return t;for(;e<nm(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function sE(t,e){var n=new zc(t),r=dL(e,n.scaleFactor()),i=new sL(e,r);return aL(n,i),n.applyStyles(n.userStyles),i}function dL(t,e){var n=t.content,r=mL(n.columns);if(n.head.length===0){var i=w5(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=w5(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:r,head:hv("head",n.head,r,a,s,e),body:hv("body",n.body,r,a,s,e),foot:hv("foot",n.foot,r,a,s,e)}}function hv(t,e,n,r,i,s){var a={},l=e.map(function(u,f){for(var g=0,v={},b=0,_=0,k=0,C=n;k<C.length;k++){var M=C[k];if(a[M.index]==null||a[M.index].left===0)if(_===0){var E=void 0;Array.isArray(u)?E=u[M.index-b-g]:E=u[M.dataKey];var T={};typeof E=="object"&&!Array.isArray(E)&&(T=(E==null?void 0:E.styles)||{});var j=gL(t,M,f,i,r,s,T),te=new iE(E,j,t);v[M.dataKey]=te,v[M.index]=te,_=te.colSpan-1,a[M.index]={left:te.rowSpan-1,times:_}}else _--,b++;else a[M.index].left--,_=a[M.index].times,g++}return new rE(u,f,t,v)});return l}function w5(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=pL(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function pL(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function mL(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new oL(i,e,n)})}function gL(t,e,n,r,i,s,a){var l=HN(r),u;t==="head"?u=i.headStyles:t==="body"?u=i.bodyStyles:t==="foot"&&(u=i.footStyles);var f=Fa({},l.table,l[t],i.styles,u),g=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},v=t==="body"?g:{},b=t==="body"&&n%2===0?Fa({},l.alternateRow,i.alternateRowStyles):{},_=WN(s),k=Fa({},_,f,b,v);return Fa(k,a)}function vL(t,e,n){var r;n===void 0&&(n={});var i=JS(t,e),s=new Map,a=[],l=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(b){var _=e.columns.find(function(k){return k.dataKey===b||k.index===b});_&&!s.has(_.index)&&(s.set(_.index,!0),a.push(_.index),l.push(e.columns[_.index]),i-=_.wrappedWidth)});for(var f=!0,g=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;g<e.columns.length;){if(s.has(g)){g++;continue}var v=e.columns[g].wrappedWidth;if(f||i>=v)f=!1,a.push(g),l.push(e.columns[g]),i-=v;else break;g++}return{colIndexes:a,columns:l,lastIndex:g-1}}function _L(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=vL(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function oE(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=r+i.bottom+a;if(n.pageBreak==="avoid"){var u=e.body,f=u.reduce(function(b,_){return b+_.height},0);l+=f}var g=new zc(t);(n.pageBreak==="always"||n.startY!=null&&l>g.pageSize().height)&&(lE(g),s.y=i.top),e.callWillDrawPageHooks(g,s);var v=Fa({},s);e.startPageNumber=g.pageNumber(),n.horizontalPageBreak?yL(g,e,v,s):(g.applyStyles(g.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(b){return Ga(g,e,b,s,e.columns)}),g.applyStyles(g.userStyles),e.body.forEach(function(b,_){var k=_===e.body.length-1;rm(g,e,b,k,v,s,e.columns)}),g.applyStyles(g.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(b){return Ga(g,e,b,s,e.columns)})),QS(g,e,v,s),e.callEndPageHooks(g,s),e.finalY=s.y,t.lastAutoTable=e,g.applyStyles(g.userStyles)}function yL(t,e,n,r){var i=_L(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(f,g){t.applyStyles(t.userStyles),g>0?hf(t,e,n,r,f.columns,!0):b5(t,e,r,f.columns),wL(t,e,n,r,f.columns),fv(t,e,r,f.columns)});else for(var a=-1,l=i[0],u=function(){var f=a;if(l){t.applyStyles(t.userStyles);var g=l.columns;a>=0?hf(t,e,n,r,g,!0):b5(t,e,r,g),f=x5(t,e,a+1,r,g),fv(t,e,r,g)}var v=f-a;i.slice(1).forEach(function(b){t.applyStyles(t.userStyles),hf(t,e,n,r,b.columns,!0),x5(t,e,a+1,r,b.columns,v),fv(t,e,r,b.columns)}),a=f};a<e.body.length-1;)u()}function b5(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Ga(t,e,s,n,r)})}function wL(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var l=a===e.body.length-1;rm(t,e,s,l,n,r,i)})}function x5(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(n+s,e.body.length),l=-1;return e.body.slice(n,a).forEach(function(u,f){var g=n+f===e.body.length-1,v=aE(t,e,g,r);u.canEntireRowFit(v,i)&&(Ga(t,e,u,r,i),l=n+f)}),l}function fv(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ga(t,e,s,n,r)})}function bL(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function xL(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,l=n.columns;a<l.length;a++){var u=l[a],f=t.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var g=new iE(f.raw,f.styles,f.section);g=Fa(g,f),g.text=[];var v=bL(f,e,r);f.text.length>v&&(g.text=f.text.splice(v,f.text.length));var b=r.scaleFactor(),_=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(b,_),f.contentHeight>=e&&(f.contentHeight=e,g.styles.minCellHeight-=e),f.contentHeight>t.height&&(t.height=f.contentHeight),g.contentHeight=g.getContentHeight(b,_),g.contentHeight>s&&(s=g.contentHeight),i[u.index]=g}}var k=new rE(t.raw,-1,t.section,i,!0);k.height=s;for(var C=0,M=n.columns;C<M.length;C++){var u=M[C],g=k.cells[u.index];g&&(g.height=k.height);var f=t.cells[u.index];f&&(f.height=t.height)}return k}function SL(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,a=s.top+s.bottom,l=i-a;e.section==="body"&&(l-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=e.getMinimumRowHeight(r.columns,t),f=u<n;if(u>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var g=e.hasRowSpan(r.columns),v=e.getMaxCellHeight(r.columns)>l;return v?(g&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(g||r.settings.rowPageBreak==="avoid")}function rm(t,e,n,r,i,s,a){var l=aE(t,e,r,s);if(n.canEntireRowFit(l,a))Ga(t,e,n,s,a);else if(SL(t,n,l,e)){var u=xL(n,l,e,t);Ga(t,e,n,s,a),hf(t,e,i,s,a),rm(t,e,u,r,i,s,a)}else hf(t,e,i,s,a),rm(t,e,n,r,i,s,a)}function Ga(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var l=a[s],u=n.cells[l.index];if(!u){r.x+=l.width;continue}t.applyStyles(u.styles),u.x=r.x,u.y=r.y;var f=e.callCellHooks(t,e.hooks.willDrawCell,u,n,l,r);if(f===!1){r.x+=l.width;continue}EL(t,u,r);var g=u.getTextPos();KS(u.text,g.x,g.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,u,n,l,r),r.x+=l.width}r.y+=n.height}function EL(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=XS(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),AL(t,e,n,r.lineWidth))}function AL(t,e,n,r){var i,s,a,l;r.top&&(i=n.x,s=n.y,a=n.x+e.width,l=n.y,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),u(r.top,i,s,a,l)),r.bottom&&(i=n.x,s=n.y+e.height,a=n.x+e.width,l=n.y+e.height,r.right&&(a+=.5*r.right),r.left&&(i-=.5*r.left),u(r.bottom,i,s,a,l)),r.left&&(i=n.x,s=n.y,a=n.x,l=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),u(r.left,i,s,a,l)),r.right&&(i=n.x+e.width,s=n.y,a=n.x+e.width,l=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(l+=.5*r.bottom),u(r.right,i,s,a,l));function u(f,g,v,b,_){t.getDocument().setLineWidth(f),t.getDocument().line(g,v,b,_,"S")}}function aE(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function hf(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(l){return Ga(t,e,l,r,i)}),e.callEndPageHooks(t,r);var a=e.settings.margin;QS(t,e,n,r),lE(t),e.pageNumber++,r.x=a.left,r.y=a.top,n.y=a.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Ga(t,e,l,r,i)}),t.applyStyles(t.userStyles))}function lE(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function PL(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=nE(this,r),s=sE(this,i);return oE(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){KS(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return zc.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){zc.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new zc(this),s=tE(i,e,window,n,!1),a=s.head,l=s.body,u=((r=a[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:u,rows:l,data:l}}}var dv;function uE(t,e){var n=nE(t,e),r=sE(t,n);oE(t,r)}try{if(typeof window<"u"&&window){var S5=window,E5=S5.jsPDF||((dv=S5.jspdf)===null||dv===void 0?void 0:dv.jsPDF);E5&&PL(E5)}}catch(t){console.error("Could not apply autoTable plugin",t)}var A5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,f=u?t[i+2]:0,g=s>>2,v=(s&3)<<4|l>>4;let b=(l&15)<<2|f>>6,_=f&63;u||(_=64,a||(b=64)),r.push(n[g],n[v],n[b],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||v==null)throw new IL;const b=s<<2|l>>4;if(r.push(b),f!==64){const _=l<<4&240|f>>2;if(r.push(_),v!==64){const k=f<<6&192|v;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NL=function(t){const e=cE(t);return hE.encodeByteArray(e,!0)},im=function(t){return NL(t).replace(/\./g,"")},fE=function(t){try{return hE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=()=>LL().__FIREBASE_DEFAULTS__,kL=()=>{if(typeof process>"u"||typeof A5>"u")return;const t=A5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fE(t[1]);return e&&JSON.parse(e)},Hm=()=>{try{return CL()||kL()||RL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dE=t=>{var e,n;return(n=(e=Hm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},OL=t=>{const e=dE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pE=()=>{var t;return(t=Hm())===null||t===void 0?void 0:t.config},mE=t=>{var e;return(e=Hm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[im(JSON.stringify(n)),im(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pi())}function jL(){var t;const e=(t=Hm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UL(){const t=Pi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qL(){return!jL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WL(){try{return typeof indexedDB=="object"}catch{return!1}}function HL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="FirebaseError";class Ja extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$L,Object.setPrototypeOf(this,Ja.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,td.prototype.create)}}class td{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?GL(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Ja(i,l,r)}}function GL(t,e){return t.replace(KL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const KL=/\{\$([^}]+)}/g;function ZL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(P5(s)&&P5(a)){if(!sm(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function P5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Kh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YL(t,e){const n=new QL(t,e);return n.subscribe.bind(n)}class QL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pv),i.error===void 0&&(i.error=pv),i.complete===void 0&&(i.complete=pv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t){return t&&t._delegate?t._delegate:t}class Mu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ML;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tC(e))try{this.getOrInitializeService({instanceIdentifier:yu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yu){return this.instances.has(e)}getOptions(e=yu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yu){return this.component?this.component.multipleInstances?e:yu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eC(t){return t===yu?void 0:t}function tC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(en||(en={}));const rC={debug:en.DEBUG,verbose:en.VERBOSE,info:en.INFO,warn:en.WARN,error:en.ERROR,silent:en.SILENT},iC=en.INFO,sC={[en.DEBUG]:"log",[en.VERBOSE]:"log",[en.INFO]:"info",[en.WARN]:"warn",[en.ERROR]:"error"},oC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class __{constructor(e){this.name=e,this._logLevel=iC,this._logHandler=oC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in en))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,en.DEBUG,...e),this._logHandler(this,en.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,en.VERBOSE,...e),this._logHandler(this,en.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,en.INFO,...e),this._logHandler(this,en.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,en.WARN,...e),this._logHandler(this,en.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,en.ERROR,...e),this._logHandler(this,en.ERROR,...e)}}const aC=(t,e)=>e.some(n=>t instanceof n);let T5,I5;function lC(){return T5||(T5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uC(){return I5||(I5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,z0=new WeakMap,vE=new WeakMap,mv=new WeakMap,y_=new WeakMap;function cC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Bl(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&gE.set(n,t)}).catch(()=>{}),y_.set(e,t),e}function hC(t){if(z0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});z0.set(t,e)}let U0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return z0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fC(t){U0=t(U0)}function dC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gv(this),e,...n);return vE.set(r,e.sort?e.sort():[e]),Bl(r)}:uC().includes(t)?function(...e){return t.apply(gv(this),e),Bl(gE.get(this))}:function(...e){return Bl(t.apply(gv(this),e))}}function pC(t){return typeof t=="function"?dC(t):(t instanceof IDBTransaction&&hC(t),aC(t,lC())?new Proxy(t,U0):t)}function Bl(t){if(t instanceof IDBRequest)return cC(t);if(mv.has(t))return mv.get(t);const e=pC(t);return e!==t&&(mv.set(t,e),y_.set(e,t)),e}const gv=t=>y_.get(t);function mC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Bl(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Bl(a.result),u.oldVersion,u.newVersion,Bl(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const gC=["get","getKey","getAll","getAllKeys","count"],vC=["put","add","delete","clear"],vv=new Map;function N5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vv.get(e))return vv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gC.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&u.done]))[0]};return vv.set(e,s),s}fC(t=>({...t,get:(e,n,r)=>N5(e,n)||t.get(e,n,r),has:(e,n)=>!!N5(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q0="@firebase/app",L5="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new __("@firebase/app"),wC="@firebase/app-compat",bC="@firebase/analytics-compat",xC="@firebase/analytics",SC="@firebase/app-check-compat",EC="@firebase/app-check",AC="@firebase/auth",PC="@firebase/auth-compat",TC="@firebase/database",IC="@firebase/data-connect",NC="@firebase/database-compat",LC="@firebase/functions",CC="@firebase/functions-compat",kC="@firebase/installations",RC="@firebase/installations-compat",OC="@firebase/messaging",MC="@firebase/messaging-compat",DC="@firebase/performance",FC="@firebase/performance-compat",jC="@firebase/remote-config",BC="@firebase/remote-config-compat",VC="@firebase/storage",zC="@firebase/storage-compat",UC="@firebase/firestore",qC="@firebase/vertexai-preview",WC="@firebase/firestore-compat",HC="firebase",$C="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="[DEFAULT]",GC={[q0]:"fire-core",[wC]:"fire-core-compat",[xC]:"fire-analytics",[bC]:"fire-analytics-compat",[EC]:"fire-app-check",[SC]:"fire-app-check-compat",[AC]:"fire-auth",[PC]:"fire-auth-compat",[TC]:"fire-rtdb",[IC]:"fire-data-connect",[NC]:"fire-rtdb-compat",[LC]:"fire-fn",[CC]:"fire-fn-compat",[kC]:"fire-iid",[RC]:"fire-iid-compat",[OC]:"fire-fcm",[MC]:"fire-fcm-compat",[DC]:"fire-perf",[FC]:"fire-perf-compat",[jC]:"fire-rc",[BC]:"fire-rc-compat",[VC]:"fire-gcs",[zC]:"fire-gcs-compat",[UC]:"fire-fst",[WC]:"fire-fst-compat",[qC]:"fire-vertex","fire-js":"fire-js",[HC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new Map,KC=new Map,H0=new Map;function C5(t,e){try{t.container.addComponent(e)}catch(n){Ka.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jc(t){const e=t.name;if(H0.has(e))return Ka.debug(`There were multiple attempts to register component ${e}.`),!1;H0.set(e,t);for(const n of om.values())C5(n,t);for(const n of KC.values())C5(n,t);return!0}function w_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ja(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vl=new td("app","Firebase",ZC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=$C;function _E(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:W0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vl.create("bad-app-name",{appName:String(i)});if(n||(n=pE()),!n)throw Vl.create("no-options");const s=om.get(i);if(s){if(sm(n,s.options)&&sm(r,s.config))return s;throw Vl.create("duplicate-app",{appName:i})}const a=new nC(i);for(const u of H0.values())a.addComponent(u);const l=new YC(n,r,a);return om.set(i,l),l}function yE(t=W0){const e=om.get(t);if(!e&&t===W0&&pE())return _E();if(!e)throw Vl.create("no-app",{appName:t});return e}function zl(t,e,n){var r;let i=(r=GC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ka.warn(l.join(" "));return}Jc(new Mu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="firebase-heartbeat-database",XC=1,jf="firebase-heartbeat-store";let _v=null;function wE(){return _v||(_v=mC(QC,XC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vl.create("idb-open",{originalErrorMessage:t.message})})),_v}async function JC(t){try{const n=(await wE()).transaction(jf),r=await n.objectStore(jf).get(bE(t));return await n.done,r}catch(e){if(e instanceof Ja)Ka.warn(e.message);else{const n=Vl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ka.warn(n.message)}}}async function k5(t,e){try{const r=(await wE()).transaction(jf,"readwrite");await r.objectStore(jf).put(e,bE(t)),await r.done}catch(n){if(n instanceof Ja)Ka.warn(n.message);else{const r=Vl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ka.warn(r.message)}}}function bE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=1024,tk=30*24*60*60*1e3;class nk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ik(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=R5();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=tk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ka.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R5(),{heartbeatsToSend:r,unsentEntries:i}=rk(this._heartbeatsCache.heartbeats),s=im(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ka.warn(n),""}}}function R5(){return new Date().toISOString().substring(0,10)}function rk(t,e=ek){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),O5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),O5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ik{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WL()?HL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return k5(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function O5(t){return im(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){Jc(new Mu("platform-logger",e=>new _C(e),"PRIVATE")),Jc(new Mu("heartbeat",e=>new nk(e),"PRIVATE")),zl(q0,L5,t),zl(q0,L5,"esm2017"),zl("fire-js","")}sk("");var M5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Iu,xE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,R){function U(){}U.prototype=R.prototype,z.D=R.prototype,z.prototype=new U,z.prototype.constructor=z,z.C=function(K,N,O){for(var D=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)D[oe-2]=arguments[oe];return R.prototype[N].apply(K,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(z,R,U){U||(U=0);var K=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)K[N]=R.charCodeAt(U++)|R.charCodeAt(U++)<<8|R.charCodeAt(U++)<<16|R.charCodeAt(U++)<<24;else for(N=0;16>N;++N)K[N]=R[U++]|R[U++]<<8|R[U++]<<16|R[U++]<<24;R=z.g[0],U=z.g[1],N=z.g[2];var O=z.g[3],D=R+(O^U&(N^O))+K[0]+3614090360&4294967295;R=U+(D<<7&4294967295|D>>>25),D=O+(N^R&(U^N))+K[1]+3905402710&4294967295,O=R+(D<<12&4294967295|D>>>20),D=N+(U^O&(R^U))+K[2]+606105819&4294967295,N=O+(D<<17&4294967295|D>>>15),D=U+(R^N&(O^R))+K[3]+3250441966&4294967295,U=N+(D<<22&4294967295|D>>>10),D=R+(O^U&(N^O))+K[4]+4118548399&4294967295,R=U+(D<<7&4294967295|D>>>25),D=O+(N^R&(U^N))+K[5]+1200080426&4294967295,O=R+(D<<12&4294967295|D>>>20),D=N+(U^O&(R^U))+K[6]+2821735955&4294967295,N=O+(D<<17&4294967295|D>>>15),D=U+(R^N&(O^R))+K[7]+4249261313&4294967295,U=N+(D<<22&4294967295|D>>>10),D=R+(O^U&(N^O))+K[8]+1770035416&4294967295,R=U+(D<<7&4294967295|D>>>25),D=O+(N^R&(U^N))+K[9]+2336552879&4294967295,O=R+(D<<12&4294967295|D>>>20),D=N+(U^O&(R^U))+K[10]+4294925233&4294967295,N=O+(D<<17&4294967295|D>>>15),D=U+(R^N&(O^R))+K[11]+2304563134&4294967295,U=N+(D<<22&4294967295|D>>>10),D=R+(O^U&(N^O))+K[12]+1804603682&4294967295,R=U+(D<<7&4294967295|D>>>25),D=O+(N^R&(U^N))+K[13]+4254626195&4294967295,O=R+(D<<12&4294967295|D>>>20),D=N+(U^O&(R^U))+K[14]+2792965006&4294967295,N=O+(D<<17&4294967295|D>>>15),D=U+(R^N&(O^R))+K[15]+1236535329&4294967295,U=N+(D<<22&4294967295|D>>>10),D=R+(N^O&(U^N))+K[1]+4129170786&4294967295,R=U+(D<<5&4294967295|D>>>27),D=O+(U^N&(R^U))+K[6]+3225465664&4294967295,O=R+(D<<9&4294967295|D>>>23),D=N+(R^U&(O^R))+K[11]+643717713&4294967295,N=O+(D<<14&4294967295|D>>>18),D=U+(O^R&(N^O))+K[0]+3921069994&4294967295,U=N+(D<<20&4294967295|D>>>12),D=R+(N^O&(U^N))+K[5]+3593408605&4294967295,R=U+(D<<5&4294967295|D>>>27),D=O+(U^N&(R^U))+K[10]+38016083&4294967295,O=R+(D<<9&4294967295|D>>>23),D=N+(R^U&(O^R))+K[15]+3634488961&4294967295,N=O+(D<<14&4294967295|D>>>18),D=U+(O^R&(N^O))+K[4]+3889429448&4294967295,U=N+(D<<20&4294967295|D>>>12),D=R+(N^O&(U^N))+K[9]+568446438&4294967295,R=U+(D<<5&4294967295|D>>>27),D=O+(U^N&(R^U))+K[14]+3275163606&4294967295,O=R+(D<<9&4294967295|D>>>23),D=N+(R^U&(O^R))+K[3]+4107603335&4294967295,N=O+(D<<14&4294967295|D>>>18),D=U+(O^R&(N^O))+K[8]+1163531501&4294967295,U=N+(D<<20&4294967295|D>>>12),D=R+(N^O&(U^N))+K[13]+2850285829&4294967295,R=U+(D<<5&4294967295|D>>>27),D=O+(U^N&(R^U))+K[2]+4243563512&4294967295,O=R+(D<<9&4294967295|D>>>23),D=N+(R^U&(O^R))+K[7]+1735328473&4294967295,N=O+(D<<14&4294967295|D>>>18),D=U+(O^R&(N^O))+K[12]+2368359562&4294967295,U=N+(D<<20&4294967295|D>>>12),D=R+(U^N^O)+K[5]+4294588738&4294967295,R=U+(D<<4&4294967295|D>>>28),D=O+(R^U^N)+K[8]+2272392833&4294967295,O=R+(D<<11&4294967295|D>>>21),D=N+(O^R^U)+K[11]+1839030562&4294967295,N=O+(D<<16&4294967295|D>>>16),D=U+(N^O^R)+K[14]+4259657740&4294967295,U=N+(D<<23&4294967295|D>>>9),D=R+(U^N^O)+K[1]+2763975236&4294967295,R=U+(D<<4&4294967295|D>>>28),D=O+(R^U^N)+K[4]+1272893353&4294967295,O=R+(D<<11&4294967295|D>>>21),D=N+(O^R^U)+K[7]+4139469664&4294967295,N=O+(D<<16&4294967295|D>>>16),D=U+(N^O^R)+K[10]+3200236656&4294967295,U=N+(D<<23&4294967295|D>>>9),D=R+(U^N^O)+K[13]+681279174&4294967295,R=U+(D<<4&4294967295|D>>>28),D=O+(R^U^N)+K[0]+3936430074&4294967295,O=R+(D<<11&4294967295|D>>>21),D=N+(O^R^U)+K[3]+3572445317&4294967295,N=O+(D<<16&4294967295|D>>>16),D=U+(N^O^R)+K[6]+76029189&4294967295,U=N+(D<<23&4294967295|D>>>9),D=R+(U^N^O)+K[9]+3654602809&4294967295,R=U+(D<<4&4294967295|D>>>28),D=O+(R^U^N)+K[12]+3873151461&4294967295,O=R+(D<<11&4294967295|D>>>21),D=N+(O^R^U)+K[15]+530742520&4294967295,N=O+(D<<16&4294967295|D>>>16),D=U+(N^O^R)+K[2]+3299628645&4294967295,U=N+(D<<23&4294967295|D>>>9),D=R+(N^(U|~O))+K[0]+4096336452&4294967295,R=U+(D<<6&4294967295|D>>>26),D=O+(U^(R|~N))+K[7]+1126891415&4294967295,O=R+(D<<10&4294967295|D>>>22),D=N+(R^(O|~U))+K[14]+2878612391&4294967295,N=O+(D<<15&4294967295|D>>>17),D=U+(O^(N|~R))+K[5]+4237533241&4294967295,U=N+(D<<21&4294967295|D>>>11),D=R+(N^(U|~O))+K[12]+1700485571&4294967295,R=U+(D<<6&4294967295|D>>>26),D=O+(U^(R|~N))+K[3]+2399980690&4294967295,O=R+(D<<10&4294967295|D>>>22),D=N+(R^(O|~U))+K[10]+4293915773&4294967295,N=O+(D<<15&4294967295|D>>>17),D=U+(O^(N|~R))+K[1]+2240044497&4294967295,U=N+(D<<21&4294967295|D>>>11),D=R+(N^(U|~O))+K[8]+1873313359&4294967295,R=U+(D<<6&4294967295|D>>>26),D=O+(U^(R|~N))+K[15]+4264355552&4294967295,O=R+(D<<10&4294967295|D>>>22),D=N+(R^(O|~U))+K[6]+2734768916&4294967295,N=O+(D<<15&4294967295|D>>>17),D=U+(O^(N|~R))+K[13]+1309151649&4294967295,U=N+(D<<21&4294967295|D>>>11),D=R+(N^(U|~O))+K[4]+4149444226&4294967295,R=U+(D<<6&4294967295|D>>>26),D=O+(U^(R|~N))+K[11]+3174756917&4294967295,O=R+(D<<10&4294967295|D>>>22),D=N+(R^(O|~U))+K[2]+718787259&4294967295,N=O+(D<<15&4294967295|D>>>17),D=U+(O^(N|~R))+K[9]+3951481745&4294967295,z.g[0]=z.g[0]+R&4294967295,z.g[1]=z.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,z.g[2]=z.g[2]+N&4294967295,z.g[3]=z.g[3]+O&4294967295}r.prototype.u=function(z,R){R===void 0&&(R=z.length);for(var U=R-this.blockSize,K=this.B,N=this.h,O=0;O<R;){if(N==0)for(;O<=U;)i(this,z,O),O+=this.blockSize;if(typeof z=="string"){for(;O<R;)if(K[N++]=z.charCodeAt(O++),N==this.blockSize){i(this,K),N=0;break}}else for(;O<R;)if(K[N++]=z[O++],N==this.blockSize){i(this,K),N=0;break}}this.h=N,this.o+=R},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var R=1;R<z.length-8;++R)z[R]=0;var U=8*this.o;for(R=z.length-8;R<z.length;++R)z[R]=U&255,U/=256;for(this.u(z),z=Array(16),R=U=0;4>R;++R)for(var K=0;32>K;K+=8)z[U++]=this.g[R]>>>K&255;return z};function s(z,R){var U=l;return Object.prototype.hasOwnProperty.call(U,z)?U[z]:U[z]=R(z)}function a(z,R){this.h=R;for(var U=[],K=!0,N=z.length-1;0<=N;N--){var O=z[N]|0;K&&O==R||(U[N]=O,K=!1)}this.g=U}var l={};function u(z){return-128<=z&&128>z?s(z,function(R){return new a([R|0],0>R?-1:0)}):new a([z|0],0>z?-1:0)}function f(z){if(isNaN(z)||!isFinite(z))return v;if(0>z)return M(f(-z));for(var R=[],U=1,K=0;z>=U;K++)R[K]=z/U|0,U*=4294967296;return new a(R,0)}function g(z,R){if(z.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(z.charAt(0)=="-")return M(g(z.substring(1),R));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=f(Math.pow(R,8)),K=v,N=0;N<z.length;N+=8){var O=Math.min(8,z.length-N),D=parseInt(z.substring(N,N+O),R);8>O?(O=f(Math.pow(R,O)),K=K.j(O).add(f(D))):(K=K.j(U),K=K.add(f(D)))}return K}var v=u(0),b=u(1),_=u(16777216);t=a.prototype,t.m=function(){if(C(this))return-M(this).m();for(var z=0,R=1,U=0;U<this.g.length;U++){var K=this.i(U);z+=(0<=K?K:4294967296+K)*R,R*=4294967296}return z},t.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(k(this))return"0";if(C(this))return"-"+M(this).toString(z);for(var R=f(Math.pow(z,6)),U=this,K="";;){var N=te(U,R).g;U=E(U,N.j(R));var O=((0<U.g.length?U.g[0]:U.h)>>>0).toString(z);if(U=N,k(U))return O+K;for(;6>O.length;)O="0"+O;K=O+K}},t.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function k(z){if(z.h!=0)return!1;for(var R=0;R<z.g.length;R++)if(z.g[R]!=0)return!1;return!0}function C(z){return z.h==-1}t.l=function(z){return z=E(this,z),C(z)?-1:k(z)?0:1};function M(z){for(var R=z.g.length,U=[],K=0;K<R;K++)U[K]=~z.g[K];return new a(U,~z.h).add(b)}t.abs=function(){return C(this)?M(this):this},t.add=function(z){for(var R=Math.max(this.g.length,z.g.length),U=[],K=0,N=0;N<=R;N++){var O=K+(this.i(N)&65535)+(z.i(N)&65535),D=(O>>>16)+(this.i(N)>>>16)+(z.i(N)>>>16);K=D>>>16,O&=65535,D&=65535,U[N]=D<<16|O}return new a(U,U[U.length-1]&-2147483648?-1:0)};function E(z,R){return z.add(M(R))}t.j=function(z){if(k(this)||k(z))return v;if(C(this))return C(z)?M(this).j(M(z)):M(M(this).j(z));if(C(z))return M(this.j(M(z)));if(0>this.l(_)&&0>z.l(_))return f(this.m()*z.m());for(var R=this.g.length+z.g.length,U=[],K=0;K<2*R;K++)U[K]=0;for(K=0;K<this.g.length;K++)for(var N=0;N<z.g.length;N++){var O=this.i(K)>>>16,D=this.i(K)&65535,oe=z.i(N)>>>16,pe=z.i(N)&65535;U[2*K+2*N]+=D*pe,T(U,2*K+2*N),U[2*K+2*N+1]+=O*pe,T(U,2*K+2*N+1),U[2*K+2*N+1]+=D*oe,T(U,2*K+2*N+1),U[2*K+2*N+2]+=O*oe,T(U,2*K+2*N+2)}for(K=0;K<R;K++)U[K]=U[2*K+1]<<16|U[2*K];for(K=R;K<2*R;K++)U[K]=0;return new a(U,0)};function T(z,R){for(;(z[R]&65535)!=z[R];)z[R+1]+=z[R]>>>16,z[R]&=65535,R++}function j(z,R){this.g=z,this.h=R}function te(z,R){if(k(R))throw Error("division by zero");if(k(z))return new j(v,v);if(C(z))return R=te(M(z),R),new j(M(R.g),M(R.h));if(C(R))return R=te(z,M(R)),new j(M(R.g),R.h);if(30<z.g.length){if(C(z)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var U=b,K=R;0>=K.l(z);)U=he(U),K=he(K);var N=we(U,1),O=we(K,1);for(K=we(K,2),U=we(U,2);!k(K);){var D=O.add(K);0>=D.l(z)&&(N=N.add(U),O=D),K=we(K,1),U=we(U,1)}return R=E(z,N.j(R)),new j(N,R)}for(N=v;0<=z.l(R);){for(U=Math.max(1,Math.floor(z.m()/R.m())),K=Math.ceil(Math.log(U)/Math.LN2),K=48>=K?1:Math.pow(2,K-48),O=f(U),D=O.j(R);C(D)||0<D.l(z);)U-=K,O=f(U),D=O.j(R);k(O)&&(O=b),N=N.add(O),z=E(z,D)}return new j(N,z)}t.A=function(z){return te(this,z).h},t.and=function(z){for(var R=Math.max(this.g.length,z.g.length),U=[],K=0;K<R;K++)U[K]=this.i(K)&z.i(K);return new a(U,this.h&z.h)},t.or=function(z){for(var R=Math.max(this.g.length,z.g.length),U=[],K=0;K<R;K++)U[K]=this.i(K)|z.i(K);return new a(U,this.h|z.h)},t.xor=function(z){for(var R=Math.max(this.g.length,z.g.length),U=[],K=0;K<R;K++)U[K]=this.i(K)^z.i(K);return new a(U,this.h^z.h)};function he(z){for(var R=z.g.length+1,U=[],K=0;K<R;K++)U[K]=z.i(K)<<1|z.i(K-1)>>>31;return new a(U,z.h)}function we(z,R){var U=R>>5;R%=32;for(var K=z.g.length-U,N=[],O=0;O<K;O++)N[O]=0<R?z.i(O+U)>>>R|z.i(O+U+1)<<32-R:z.i(O+U);return new a(N,z.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xE=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=f,a.fromString=g,Iu=a}).apply(typeof M5<"u"?M5:typeof self<"u"?self:typeof window<"u"?window:{});var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SE,Zh,EE,yp,$0,AE,PE,TE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,S,I){return d==Array.prototype||d==Object.prototype||(d[S]=I.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yd=="object"&&Yd];for(var S=0;S<d.length;++S){var I=d[S];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(d,S){if(S)e:{var I=r;d=d.split(".");for(var G=0;G<d.length-1;G++){var ve=d[G];if(!(ve in I))break e;I=I[ve]}d=d[d.length-1],G=I[d],S=S(G),S!=G&&S!=null&&e(I,d,{configurable:!0,writable:!0,value:S})}}function s(d,S){d instanceof String&&(d+="");var I=0,G=!1,ve={next:function(){if(!G&&I<d.length){var Ae=I++;return{value:S(Ae,d[Ae]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}i("Array.prototype.values",function(d){return d||function(){return s(this,function(S,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(d){var S=typeof d;return S=S!="object"?S:d?Array.isArray(d)?"array":S:"null",S=="array"||S=="object"&&typeof d.length=="number"}function f(d){var S=typeof d;return S=="object"&&d!=null||S=="function"}function g(d,S,I){return d.call.apply(d.bind,arguments)}function v(d,S,I){if(!d)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,G),d.apply(S,ve)}}return function(){return d.apply(S,arguments)}}function b(d,S,I){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,b.apply(null,arguments)}function _(d,S){var I=Array.prototype.slice.call(arguments,1);return function(){var G=I.slice();return G.push.apply(G,arguments),d.apply(this,G)}}function k(d,S){function I(){}I.prototype=S.prototype,d.aa=S.prototype,d.prototype=new I,d.prototype.constructor=d,d.Qb=function(G,ve,Ae){for(var Ue=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Ue[kt-2]=arguments[kt];return S.prototype[ve].apply(G,Ue)}}function C(d){const S=d.length;if(0<S){const I=Array(S);for(let G=0;G<S;G++)I[G]=d[G];return I}return[]}function M(d,S){for(let I=1;I<arguments.length;I++){const G=arguments[I];if(u(G)){const ve=d.length||0,Ae=G.length||0;d.length=ve+Ae;for(let Ue=0;Ue<Ae;Ue++)d[ve+Ue]=G[Ue]}else d.push(G)}}class E{constructor(S,I){this.i=S,this.j=I,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function T(d){return/^[\s\xa0]*$/.test(d)}function j(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function te(d){return te[" "](d),d}te[" "]=function(){};var he=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function we(d,S,I){for(const G in d)S.call(I,d[G],G,d)}function z(d,S){for(const I in d)S.call(void 0,d[I],I,d)}function R(d){const S={};for(const I in d)S[I]=d[I];return S}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(d,S){let I,G;for(let ve=1;ve<arguments.length;ve++){G=arguments[ve];for(I in G)d[I]=G[I];for(let Ae=0;Ae<U.length;Ae++)I=U[Ae],Object.prototype.hasOwnProperty.call(G,I)&&(d[I]=G[I])}}function N(d){var S=1;d=d.split(":");const I=[];for(;0<S&&d.length;)I.push(d.shift()),S--;return d.length&&I.push(d.join(":")),I}function O(d){l.setTimeout(()=>{throw d},0)}function D(){var d=ce;let S=null;return d.g&&(S=d.g,d.g=d.g.next,d.g||(d.h=null),S.next=null),S}class oe{constructor(){this.h=this.g=null}add(S,I){const G=pe.get();G.set(S,I),this.h?this.h.next=G:this.g=G,this.h=G}}var pe=new E(()=>new de,d=>d.reset());class de{constructor(){this.next=this.g=this.h=null}set(S,I){this.h=S,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Y=!1,ce=new oe,ae=()=>{const d=l.Promise.resolve(void 0);re=()=>{d.then(Ne)}};var Ne=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(I){O(I)}var S=pe;S.j(d),100>S.h&&(S.h++,d.next=S.g,S.g=d)}Y=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(d,S){this.type=d,this.g=this.target=S,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,S=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};l.addEventListener("test",I,S),l.removeEventListener("test",I,S)}catch{}return d}();function ie(d,S){if(X.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var I=this.type=d.type,G=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=S,S=d.relatedTarget){if(he){e:{try{te(S.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(S=null)}}else I=="mouseover"?S=d.fromElement:I=="mouseout"&&(S=d.toElement);this.relatedTarget=S,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:le[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ie.aa.h.call(this)}}k(ie,X);var le={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Le(d,S,I,G,ve){this.listener=d,this.proxy=null,this.src=S,this.type=I,this.capture=!!G,this.ha=ve,this.key=++Se,this.da=this.fa=!1}function $e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function qe(d){this.src=d,this.g={},this.h=0}qe.prototype.add=function(d,S,I,G,ve){var Ae=d.toString();d=this.g[Ae],d||(d=this.g[Ae]=[],this.h++);var Ue=Ye(d,S,G,ve);return-1<Ue?(S=d[Ue],I||(S.fa=!1)):(S=new Le(S,this.src,Ae,!!G,ve),S.fa=I,d.push(S)),S};function Ze(d,S){var I=S.type;if(I in d.g){var G=d.g[I],ve=Array.prototype.indexOf.call(G,S,void 0),Ae;(Ae=0<=ve)&&Array.prototype.splice.call(G,ve,1),Ae&&($e(S),d.g[I].length==0&&(delete d.g[I],d.h--))}}function Ye(d,S,I,G){for(var ve=0;ve<d.length;++ve){var Ae=d[ve];if(!Ae.da&&Ae.listener==S&&Ae.capture==!!I&&Ae.ha==G)return ve}return-1}var pt="closure_lm_"+(1e6*Math.random()|0),Oe={};function se(d,S,I,G,ve){if(Array.isArray(S)){for(var Ae=0;Ae<S.length;Ae++)se(d,S[Ae],I,G,ve);return null}return I=Ct(I),d&&d[xe]?d.K(S,I,f(G)?!!G.capture:!1,ve):Pt(d,S,I,!1,G,ve)}function Pt(d,S,I,G,ve,Ae){if(!S)throw Error("Invalid event type");var Ue=f(ve)?!!ve.capture:!!ve,kt=ht(d);if(kt||(d[pt]=kt=new qe(d)),I=kt.add(S,I,G,Ue,Ae),I.proxy)return I;if(G=lt(),I.proxy=G,G.src=d,G.listener=I,d.addEventListener)J||(ve=Ue),ve===void 0&&(ve=!1),d.addEventListener(S.toString(),G,ve);else if(d.attachEvent)d.attachEvent(Je(S.toString()),G);else if(d.addListener&&d.removeListener)d.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return I}function lt(){function d(I){return S.call(d.src,d.listener,I)}const S=Xe;return d}function He(d,S,I,G,ve){if(Array.isArray(S))for(var Ae=0;Ae<S.length;Ae++)He(d,S[Ae],I,G,ve);else G=f(G)?!!G.capture:!!G,I=Ct(I),d&&d[xe]?(d=d.i,S=String(S).toString(),S in d.g&&(Ae=d.g[S],I=Ye(Ae,I,G,ve),-1<I&&($e(Ae[I]),Array.prototype.splice.call(Ae,I,1),Ae.length==0&&(delete d.g[S],d.h--)))):d&&(d=ht(d))&&(S=d.g[S.toString()],d=-1,S&&(d=Ye(S,I,G,ve)),(I=-1<d?S[d]:null)&&Ke(I))}function Ke(d){if(typeof d!="number"&&d&&!d.da){var S=d.src;if(S&&S[xe])Ze(S.i,d);else{var I=d.type,G=d.proxy;S.removeEventListener?S.removeEventListener(I,G,d.capture):S.detachEvent?S.detachEvent(Je(I),G):S.addListener&&S.removeListener&&S.removeListener(G),(I=ht(S))?(Ze(I,d),I.h==0&&(I.src=null,S[pt]=null)):$e(d)}}}function Je(d){return d in Oe?Oe[d]:Oe[d]="on"+d}function Xe(d,S){if(d.da)d=!0;else{S=new ie(S,this);var I=d.listener,G=d.ha||d.src;d.fa&&Ke(d),d=I.call(G,S)}return d}function ht(d){return d=d[pt],d instanceof qe?d:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ct(d){return typeof d=="function"?d:(d[St]||(d[St]=function(S){return d.handleEvent(S)}),d[St])}function dt(){F.call(this),this.i=new qe(this),this.M=this,this.F=null}k(dt,F),dt.prototype[xe]=!0,dt.prototype.removeEventListener=function(d,S,I,G){He(this,d,S,I,G)};function yt(d,S){var I,G=d.F;if(G)for(I=[];G;G=G.F)I.push(G);if(d=d.M,G=S.type||S,typeof S=="string")S=new X(S,d);else if(S instanceof X)S.target=S.target||d;else{var ve=S;S=new X(G,d),K(S,ve)}if(ve=!0,I)for(var Ae=I.length-1;0<=Ae;Ae--){var Ue=S.g=I[Ae];ve=Kt(Ue,G,!0,S)&&ve}if(Ue=S.g=d,ve=Kt(Ue,G,!0,S)&&ve,ve=Kt(Ue,G,!1,S)&&ve,I)for(Ae=0;Ae<I.length;Ae++)Ue=S.g=I[Ae],ve=Kt(Ue,G,!1,S)&&ve}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var d=this.i,S;for(S in d.g){for(var I=d.g[S],G=0;G<I.length;G++)$e(I[G]);delete d.g[S],d.h--}}this.F=null},dt.prototype.K=function(d,S,I,G){return this.i.add(String(d),S,!1,I,G)},dt.prototype.L=function(d,S,I,G){return this.i.add(String(d),S,!0,I,G)};function Kt(d,S,I,G){if(S=d.i.g[String(S)],!S)return!0;S=S.concat();for(var ve=!0,Ae=0;Ae<S.length;++Ae){var Ue=S[Ae];if(Ue&&!Ue.da&&Ue.capture==I){var kt=Ue.listener,Ht=Ue.ha||Ue.src;Ue.fa&&Ze(d.i,Ue),ve=kt.call(Ht,G)!==!1&&ve}}return ve&&!G.defaultPrevented}function wt(d,S,I){if(typeof d=="function")I&&(d=b(d,I));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:l.setTimeout(d,S||0)}function jt(d){d.g=wt(()=>{d.g=null,d.i&&(d.i=!1,jt(d))},d.l);const S=d.h;d.h=null,d.m.apply(null,S)}class nt extends F{constructor(S,I){super(),this.m=S,this.l=I,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:jt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(d){F.call(this),this.h=d,this.g={}}k(Bn,F);var $t=[];function Ir(d){we(d.g,function(S,I){this.g.hasOwnProperty(I)&&Ke(S)},d),d.g={}}Bn.prototype.N=function(){Bn.aa.N.call(this),Ir(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tn=l.JSON.stringify,xn=l.JSON.parse,Nr=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Zt(){}Zt.prototype.h=null;function Ps(d){return d.h||(d.h=d.i())}function Sn(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oi(){X.call(this,"d")}k(oi,X);function En(){X.call(this,"c")}k(En,X);var gt={},Jt=null;function zi(){return Jt=Jt||new dt}gt.La="serverreachability";function Zn(d){X.call(this,gt.La,d)}k(Zn,X);function Lr(d){const S=zi();yt(S,new Zn(S))}gt.STAT_EVENT="statevent";function qr(d,S){X.call(this,gt.STAT_EVENT,d),this.stat=S}k(qr,X);function ot(d){const S=zi();yt(S,new qr(S,d))}gt.Ma="timingevent";function ai(d,S){X.call(this,gt.Ma,d),this.size=S}k(ai,X);function Cr(d,S){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},S)}function Yn(){this.g=!0}Yn.prototype.xa=function(){this.g=!1};function an(d,S,I,G,ve,Ae){d.info(function(){if(d.g)if(Ae)for(var Ue="",kt=Ae.split("&"),Ht=0;Ht<kt.length;Ht++){var Rt=kt[Ht].split("=");if(1<Rt.length){var Vt=Rt[0];Rt=Rt[1];var nn=Vt.split("_");Ue=2<=nn.length&&nn[1]=="type"?Ue+(Vt+"="+Rt+"&"):Ue+(Vt+"=redacted&")}}else Ue=null;else Ue=Ae;return"XMLHTTP REQ ("+G+") [attempt "+ve+"]: "+S+`
`+I+`
`+Ue})}function et(d,S,I,G,ve,Ae,Ue){d.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ve+"]: "+S+`
`+I+`
`+Ae+" "+Ue})}function Un(d,S,I,G){d.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ui(d,I)+(G?" "+G:"")})}function ao(d,S){d.info(function(){return"TIMEOUT: "+S})}Yn.prototype.info=function(){};function Ui(d,S){if(!d.g)return S;if(!S)return null;try{var I=JSON.parse(S);if(I){for(d=0;d<I.length;d++)if(Array.isArray(I[d])){var G=I[d];if(!(2>G.length)){var ve=G[1];if(Array.isArray(ve)&&!(1>ve.length)){var Ae=ve[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Ue=1;Ue<ve.length;Ue++)ve[Ue]=""}}}}return tn(I)}catch{return S}}var _r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rr;function Qn(){}k(Qn,Zt),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Rr=new Qn;function Vn(d,S,I,G){this.j=d,this.i=S,this.l=I,this.R=G||1,this.U=new Bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}var Ts={},Is={};function Ns(d,S,I){d.L=1,d.v=Wr(An(S)),d.m=I,d.P=!0,Ls(d,null)}function Ls(d,S){d.F=Date.now(),Uo(d),d.A=An(d.v);var I=d.A,G=d.R;Array.isArray(G)||(G=[String(G)]),At(I.i,"t",G),d.C=0,I=d.j.J,d.h=new Ti,d.g=B(d.j,I?S:null,!d.m),0<d.O&&(d.M=new nt(b(d.Y,d,d.g),d.O)),S=d.U,I=d.g,G=d.ca;var ve="readystatechange";Array.isArray(ve)||(ve&&($t[0]=ve.toString()),ve=$t);for(var Ae=0;Ae<ve.length;Ae++){var Ue=se(I,ve[Ae],G||S.handleEvent,!1,S.h||S);if(!Ue)break;S.g[Ue.key]=Ue}S=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,S)):(d.u="GET",d.g.ea(d.A,d.u,null,S)),Lr(),an(d.i,d.u,d.A,d.l,d.R,d.m)}Vn.prototype.ca=function(d){d=d.target;const S=this.M;S&&Rn(d)==3?S.j():this.Y(d)},Vn.prototype.Y=function(d){try{if(d==this.g)e:{const nn=Rn(this.g);var S=this.g.Ba();const ds=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Aa(this.g)))){this.J||nn!=4||S==7||(S==8||0>=ds?Lr(3):Lr(2)),Cs(this);var I=this.g.Z();this.X=I;t:if(lo(this)){var G=Aa(this.g);d="";var ve=G.length,Ae=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),ks(this);var Ue="";break t}this.h.i=new l.TextDecoder}for(S=0;S<ve;S++)this.h.h=!0,d+=this.h.i.decode(G[S],{stream:!(Ae&&S==ve-1)});G.length=0,this.h.g+=d,this.C=0,Ue=this.h.g}else Ue=this.g.oa();if(this.o=I==200,et(this.i,this.u,this.A,this.l,this.R,nn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,Ht=this.g;if((kt=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(kt)){var Rt=kt;break t}}Rt=null}if(I=Rt)Un(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,as(this,I);else{this.o=!1,this.s=3,ot(12),os(this),ks(this);break e}}if(this.P){I=!0;let In;for(;!this.J&&this.C<Ue.length;)if(In=uo(this,Ue),In==Is){nn==4&&(this.s=4,ot(14),I=!1),Un(this.i,this.l,null,"[Incomplete Response]");break}else if(In==Ts){this.s=4,ot(15),Un(this.i,this.l,Ue,"[Invalid Chunk]"),I=!1;break}else Un(this.i,this.l,In,null),as(this,In);if(lo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||Ue.length!=0||this.h.h||(this.s=1,ot(16),I=!1),this.o=this.o&&I,!I)Un(this.i,this.l,Ue,"[Invalid Chunked Response]"),os(this),ks(this);else if(0<Ue.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+Ue.length),_o(Vt),Vt.M=!0,ot(11))}}else Un(this.i,this.l,Ue,null),as(this,Ue);nn==4&&os(this),this.o&&!this.J&&(nn==4?fs(this.j,this):(this.o=!1,Uo(this)))}else zs(this.g),I==400&&0<Ue.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),os(this),ks(this)}}}catch{}finally{}};function lo(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function uo(d,S){var I=d.C,G=S.indexOf(`
`,I);return G==-1?Is:(I=Number(S.substring(I,G)),isNaN(I)?Ts:(G+=1,G+I>S.length?Is:(S=S.slice(G,G+I),d.C=G+I,S)))}Vn.prototype.cancel=function(){this.J=!0,os(this)};function Uo(d){d.S=Date.now()+d.I,el(d,d.I)}function el(d,S){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Cr(b(d.ba,d),S)}function Cs(d){d.B&&(l.clearTimeout(d.B),d.B=null)}Vn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(ao(this.i,this.A),this.L!=2&&(Lr(),ot(17)),os(this),this.s=2,ks(this)):el(this,this.S-d)};function ks(d){d.j.G==0||d.J||fs(d.j,d)}function os(d){Cs(d);var S=d.M;S&&typeof S.ma=="function"&&S.ma(),d.M=null,Ir(d.U),d.g&&(S=d.g,d.g=null,S.abort(),S.ma())}function as(d,S){try{var I=d.j;if(I.G!=0&&(I.g==d||Ut(I.h,d))){if(!d.K&&Ut(I.h,d)&&I.G==3){try{var G=I.Da.g.parse(S)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ve=G;if(ve[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<d.F)hs(I),Ko(I);else break e;Hs(I),ot(18)}}else I.za=ve[1],0<I.za-I.T&&37500>ve[2]&&I.F&&I.v==0&&!I.C&&(I.C=Cr(b(I.Za,I),6e3));if(1>=Ii(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Or(I,11)}else if((d.K||I.g==d)&&hs(I),!T(S))for(ve=I.Da.g.parse(S),S=0;S<ve.length;S++){let Rt=ve[S];if(I.T=Rt[0],Rt=Rt[1],I.G==2)if(Rt[0]=="c"){I.K=Rt[1],I.ia=Rt[2];const Vt=Rt[3];Vt!=null&&(I.la=Vt,I.j.info("VER="+I.la));const nn=Rt[4];nn!=null&&(I.Aa=nn,I.j.info("SVER="+I.Aa));const ds=Rt[5];ds!=null&&typeof ds=="number"&&0<ds&&(G=1.5*ds,I.L=G,I.j.info("backChannelRequestTimeoutMs_="+G)),G=I;const In=d.g;if(In){const $s=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($s){var Ae=G.h;Ae.g||$s.indexOf("spdy")==-1&&$s.indexOf("quic")==-1&&$s.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(Tt(Ae,Ae.h),Ae.h=null))}if(G.D){const Kr=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;Kr&&(G.ya=Kr,Et(G.I,G.D,Kr))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-d.F,I.j.info("Handshake RTT: "+I.R+"ms")),G=I;var Ue=d;if(G.qa=y(G,G.J?G.ia:null,G.W),Ue.K){Rs(G.h,Ue);var kt=Ue,Ht=G.L;Ht&&(kt.I=Ht),kt.B&&(Cs(kt),Uo(kt)),G.g=Ue}else Gr(G);0<I.i.length&&Us(I)}else Rt[0]!="stop"&&Rt[0]!="close"||Or(I,7);else I.G==3&&(Rt[0]=="stop"||Rt[0]=="close"?Rt[0]=="stop"?Or(I,7):$i(I):Rt[0]!="noop"&&I.l&&I.l.ta(Rt),I.v=0)}}Lr(4)}catch{}}var co=class{constructor(d,S){this.g=d,this.map=S}};function qo(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ii(d){return d.h?1:d.g?d.g.size:0}function Ut(d,S){return d.h?d.h==S:d.g?d.g.has(S):!1}function Tt(d,S){d.g?d.g.add(S):d.h=S}function Rs(d,S){d.h&&d.h==S?d.h=null:d.g&&d.g.has(S)&&d.g.delete(S)}qo.prototype.cancel=function(){if(this.i=qi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function qi(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let S=d.i;for(const I of d.g.values())S=S.concat(I.D);return S}return C(d.i)}function ls(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(u(d)){for(var S=[],I=d.length,G=0;G<I;G++)S.push(d[G]);return S}S=[],I=0;for(G in d)S[I++]=d[G];return S}function ho(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(u(d)||typeof d=="string"){var S=[];d=d.length;for(var I=0;I<d;I++)S.push(I);return S}S=[],I=0;for(const G in d)S[I++]=G;return S}}}function Lt(d,S){if(d.forEach&&typeof d.forEach=="function")d.forEach(S,void 0);else if(u(d)||typeof d=="string")Array.prototype.forEach.call(d,S,void 0);else for(var I=ho(d),G=ls(d),ve=G.length,Ae=0;Ae<ve;Ae++)S.call(void 0,G[Ae],I&&I[Ae],d)}var Yt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(d,S){if(d){d=d.split("&");for(var I=0;I<d.length;I++){var G=d[I].indexOf("="),ve=null;if(0<=G){var Ae=d[I].substring(0,G);ve=d[I].substring(G+1)}else Ae=d[I];S(Ae,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function Tn(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Tn){this.h=d.h,fo(this,d.j),this.o=d.o,this.g=d.g,us(this,d.s),this.l=d.l;var S=d.i,I=new Wi;I.i=S.i,S.g&&(I.g=new Map(S.g),I.h=S.h),Ni(this,I),this.m=d.m}else d&&(S=String(d).match(Yt))?(this.h=!1,fo(this,S[1]||"",!0),this.o=Li(S[2]||""),this.g=Li(S[3]||"",!0),us(this,S[4]),this.l=Li(S[5]||"",!0),Ni(this,S[6]||"",!0),this.m=Li(S[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}Tn.prototype.toString=function(){var d=[],S=this.j;S&&d.push(Hr(S,Ms,!0),":");var I=this.g;return(I||S=="file")&&(d.push("//"),(S=this.o)&&d.push(Hr(S,Ms,!0),"@"),d.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&d.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(Hr(I,I.charAt(0)=="/"?Ci:ba,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",Hr(I,Ds)),d.join("")};function An(d){return new Tn(d)}function fo(d,S,I){d.j=I?Li(S,!0):S,d.j&&(d.j=d.j.replace(/:$/,""))}function us(d,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);d.s=S}else d.s=null}function Ni(d,S,I){S instanceof Wi?(d.i=S,li(d.i,d.h)):(I||(S=Hr(S,cs)),d.i=new Wi(S,d.h))}function Et(d,S,I){d.i.set(S,I)}function Wr(d){return Et(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Li(d,S){return d?S?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Hr(d,S,I){return typeof d=="string"?(d=encodeURI(d).replace(S,wa),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function wa(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ms=/[#\/\?@]/g,ba=/[#\?:]/g,Ci=/[#\?]/g,cs=/[#\?@]/g,Ds=/#/g;function Wi(d,S){this.h=this.g=null,this.i=d||null,this.j=!!S}function hn(d){d.g||(d.g=new Map,d.h=0,d.i&&Os(d.i,function(S,I){d.add(decodeURIComponent(S.replace(/\+/g," ")),I)}))}t=Wi.prototype,t.add=function(d,S){hn(this),this.i=null,d=_t(this,d);var I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(S),this.h+=1,this};function xa(d,S){hn(d),S=_t(d,S),d.g.has(S)&&(d.i=null,d.h-=d.g.get(S).length,d.g.delete(S))}function po(d,S){return hn(d),S=_t(d,S),d.g.has(S)}t.forEach=function(d,S){hn(this),this.g.forEach(function(I,G){I.forEach(function(ve){d.call(S,ve,G,this)},this)},this)},t.na=function(){hn(this);const d=Array.from(this.g.values()),S=Array.from(this.g.keys()),I=[];for(let G=0;G<S.length;G++){const ve=d[G];for(let Ae=0;Ae<ve.length;Ae++)I.push(S[G])}return I},t.V=function(d){hn(this);let S=[];if(typeof d=="string")po(this,d)&&(S=S.concat(this.g.get(_t(this,d))));else{d=Array.from(this.g.values());for(let I=0;I<d.length;I++)S=S.concat(d[I])}return S},t.set=function(d,S){return hn(this),this.i=null,d=_t(this,d),po(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[S]),this.h+=1,this},t.get=function(d,S){return d?(d=this.V(d),0<d.length?String(d[0]):S):S};function At(d,S,I){xa(d,S),0<I.length&&(d.i=null,d.g.set(_t(d,S),C(I)),d.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],S=Array.from(this.g.keys());for(var I=0;I<S.length;I++){var G=S[I];const Ae=encodeURIComponent(String(G)),Ue=this.V(G);for(G=0;G<Ue.length;G++){var ve=Ae;Ue[G]!==""&&(ve+="="+encodeURIComponent(String(Ue[G]))),d.push(ve)}}return this.i=d.join("&")};function _t(d,S){return S=String(S),d.j&&(S=S.toLowerCase()),S}function li(d,S){S&&!d.j&&(hn(d),d.i=null,d.g.forEach(function(I,G){var ve=G.toLowerCase();G!=ve&&(xa(this,G),At(this,ve,I))},d)),d.j=S}function Wt(d,S){const I=new Yn;if(l.Image){const G=new Image;G.onload=_($r,I,"TestLoadImage: loaded",!0,S,G),G.onerror=_($r,I,"TestLoadImage: error",!1,S,G),G.onabort=_($r,I,"TestLoadImage: abort",!1,S,G),G.ontimeout=_($r,I,"TestLoadImage: timeout",!1,S,G),l.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=d}else S(!1)}function Sa(d,S){const I=new Yn,G=new AbortController,ve=setTimeout(()=>{G.abort(),$r(I,"TestPingServer: timeout",!1,S)},1e4);fetch(d,{signal:G.signal}).then(Ae=>{clearTimeout(ve),Ae.ok?$r(I,"TestPingServer: ok",!0,S):$r(I,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(ve),$r(I,"TestPingServer: error",!1,S)})}function $r(d,S,I,G,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),G(I)}catch{}}function Fs(){this.g=new Nr}function mo(d,S,I){const G=I||"";try{Lt(d,function(ve,Ae){let Ue=ve;f(ve)&&(Ue=tn(ve)),S.push(G+Ae+"="+encodeURIComponent(Ue))})}catch(ve){throw S.push(G+"type="+encodeURIComponent("_badmap")),ve}}function ui(d){this.l=d.Ub||null,this.j=d.eb||!1}k(ui,Zt),ui.prototype.g=function(){return new js(this.l,this.j)},ui.prototype.i=function(d){return function(){return d}}({});function js(d,S){dt.call(this),this.D=d,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(js,dt),t=js.prototype,t.open=function(d,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=S,this.readyState=1,rr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(S.body=d),(this.D||l).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fn(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bs(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bs(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var S=d.value?d.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!d.done}))&&(this.response=this.responseText+=S)}d.done?fn(this):rr(this),this.readyState==3&&Bs(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,fn(this))},t.Qa=function(d){this.g&&(this.response=d,fn(this))},t.ga=function(){this.g&&fn(this)};function fn(d){d.readyState=4,d.l=null,d.j=null,d.v=null,rr(d)}t.setRequestHeader=function(d,S){this.u.append(d,S)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],S=this.h.entries();for(var I=S.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=S.next();return d.join(`\r
`)};function rr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Hi(d){let S="";return we(d,function(I,G){S+=G,S+=":",S+=I,S+=`\r
`}),S}function Wo(d,S,I){e:{for(G in I){var G=!1;break e}G=!0}G||(I=Hi(I),typeof d=="string"?I!=null&&encodeURIComponent(String(I)):Et(d,S,I))}function ln(d){dt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(ln,dt);var Ho=/^https?$/i,Vs=["POST","PUT"];t=ln.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,S,I,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);S=S?S.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rr.g(),this.v=this.o?Ps(this.o):Ps(Rr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(S,String(d),!0),this.B=!1}catch(Ae){Ea(this,Ae);return}if(d=I||"",I=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ve in G)I.set(ve,G[ve]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const Ae of G.keys())I.set(Ae,G.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(I.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),ve=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Vs,S,void 0))||G||ve||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Ue]of I)this.g.setRequestHeader(Ae,Ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kn(this),this.u=!0,this.g.send(d),this.u=!1}catch(Ae){Ea(this,Ae)}};function Ea(d,S){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=S,d.m=5,$o(d),go(d)}function $o(d){d.A||(d.A=!0,yt(d,"complete"),yt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,yt(this,"complete"),yt(this,"abort"),go(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),go(this,!0)),ln.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},t.bb=function(){Bt(this)};function Bt(d){if(d.h&&typeof a<"u"&&(!d.v[1]||Rn(d)!=4||d.Z()!=2)){if(d.u&&Rn(d)==4)wt(d.Ea,0,d);else if(yt(d,"readystatechange"),Rn(d)==4){d.h=!1;try{const Ue=d.Z();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var I;if(!(I=S)){var G;if(G=Ue===0){var ve=String(d.D).match(Yt)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),G=!Ho.test(ve?ve.toLowerCase():"")}I=G}if(I)yt(d,"complete"),yt(d,"success");else{d.m=6;try{var Ae=2<Rn(d)?d.g.statusText:""}catch{Ae=""}d.l=Ae+" ["+d.Z()+"]",$o(d)}}finally{go(d)}}}}function go(d,S){if(d.g){kn(d);const I=d.g,G=d.v[0]?()=>{}:null;d.g=null,d.v=null,S||yt(d,"ready");try{I.onreadystatechange=G}catch{}}}function kn(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Rn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var S=this.g.responseText;return d&&S.indexOf(d)==0&&(S=S.substring(d.length)),xn(S)}};function Aa(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function zs(d){const S={};d=(d.g&&2<=Rn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<d.length;G++){if(T(d[G]))continue;var I=N(d[G]);const ve=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Ae=S[ve]||[];S[ve]=Ae,Ae.push(I)}z(S,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(d,S,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||S}function Go(d){this.Aa=0,this.i=[],this.j=new Yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,d),this.cb=ir("retryDelaySeedMs",1e4,d),this.Wa=ir("forwardChannelMaxRetries",2,d),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new qo(d&&d.concurrentRequestLimit),this.Da=new Fs,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Go.prototype,t.la=8,t.G=1,t.connect=function(d,S,I,G){ot(0),this.W=d,this.H=S||{},I&&G!==void 0&&(this.H.OSID=I,this.H.OAID=G),this.F=this.X,this.I=y(this,null,this.W),Us(this)};function $i(d){if(vo(d),d.G==3){var S=d.U++,I=An(d.I);if(Et(I,"SID",d.K),Et(I,"RID",S),Et(I,"TYPE","terminate"),qs(d,I),S=new Vn(d,d.j,S),S.L=2,S.v=Wr(An(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(S.v.toString(),"")}catch{}!I&&l.Image&&(new Image().src=S.v,I=!0),I||(S.g=B(S.j,null),S.g.ea(S.v)),S.F=Date.now(),Uo(S)}Yo(d)}function Ko(d){d.g&&(_o(d),d.g.cancel(),d.g=null)}function vo(d){Ko(d),d.u&&(l.clearTimeout(d.u),d.u=null),hs(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function Us(d){if(!ya(d.h)&&!d.s){d.s=!0;var S=d.Ga;re||ae(),Y||(re(),Y=!0),ce.add(S,d),d.B=0}}function Pa(d,S){return Ii(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=S.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Cr(b(d.Ga,d,S),yo(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ve=new Vn(this,this.j,d);let Ae=this.o;if(this.S&&(Ae?(Ae=R(Ae),K(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(ve.H=Ae,Ae=null),this.P)e:{for(var S=0,I=0;I<this.i.length;I++){t:{var G=this.i[I];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(S+=G,4096<S){S=I;break e}if(S===4096||I===this.i.length-1){S=I+1;break e}}S=1e3}else S=1e3;S=Ws(this,ve,S),I=An(this.I),Et(I,"RID",d),Et(I,"CVER",22),this.D&&Et(I,"X-HTTP-Session-Id",this.D),qs(this,I),Ae&&(this.O?S="headers="+encodeURIComponent(String(Hi(Ae)))+"&"+S:this.m&&Wo(I,this.m,Ae)),Tt(this.h,ve),this.Ua&&Et(I,"TYPE","init"),this.P?(Et(I,"$req",S),Et(I,"SID","null"),ve.T=!0,Ns(ve,I,null)):Ns(ve,I,S),this.G=2}}else this.G==3&&(d?yr(this,d):this.i.length==0||ya(this.h)||yr(this))};function yr(d,S){var I;S?I=S.l:I=d.U++;const G=An(d.I);Et(G,"SID",d.K),Et(G,"RID",I),Et(G,"AID",d.T),qs(d,G),d.m&&d.o&&Wo(G,d.m,d.o),I=new Vn(d,d.j,I,d.B+1),d.m===null&&(I.H=d.o),S&&(d.i=S.D.concat(d.i)),S=Ws(d,I,1e3),I.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Tt(d.h,I),Ns(I,G,S)}function qs(d,S){d.H&&we(d.H,function(I,G){Et(S,G,I)}),d.l&&Lt({},function(I,G){Et(S,G,I)})}function Ws(d,S,I){I=Math.min(d.i.length,I);var G=d.l?b(d.l.Na,d.l,d):null;e:{var ve=d.i;let Ae=-1;for(;;){const Ue=["count="+I];Ae==-1?0<I?(Ae=ve[0].g,Ue.push("ofs="+Ae)):Ae=0:Ue.push("ofs="+Ae);let kt=!0;for(let Ht=0;Ht<I;Ht++){let Rt=ve[Ht].g;const Vt=ve[Ht].map;if(Rt-=Ae,0>Rt)Ae=Math.max(0,ve[Ht].g-100),kt=!1;else try{mo(Vt,Ue,"req"+Rt+"_")}catch{G&&G(Vt)}}if(kt){G=Ue.join("&");break e}}}return d=d.i.splice(0,I),S.D=d,G}function Gr(d){if(!d.g&&!d.u){d.Y=1;var S=d.Fa;re||ae(),Y||(re(),Y=!0),ce.add(S,d),d.v=0}}function Hs(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Cr(b(d.Fa,d),yo(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Zo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Cr(b(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Ko(this),Zo(this))};function _o(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function Zo(d){d.g=new Vn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var S=An(d.qa);Et(S,"RID","rpc"),Et(S,"SID",d.K),Et(S,"AID",d.T),Et(S,"CI",d.F?"0":"1"),!d.F&&d.ja&&Et(S,"TO",d.ja),Et(S,"TYPE","xmlhttp"),qs(d,S),d.m&&d.o&&Wo(S,d.m,d.o),d.L&&(d.g.I=d.L);var I=d.g;d=d.ia,I.L=1,I.v=Wr(An(S)),I.m=null,I.P=!0,Ls(I,d)}t.Za=function(){this.C!=null&&(this.C=null,Ko(this),Hs(this),ot(19))};function hs(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function fs(d,S){var I=null;if(d.g==S){hs(d),_o(d),d.g=null;var G=2}else if(Ut(d.h,S))I=S.D,Rs(d.h,S),G=1;else return;if(d.G!=0){if(S.o)if(G==1){I=S.m?S.m.length:0,S=Date.now()-S.F;var ve=d.B;G=zi(),yt(G,new ai(G,I)),Us(d)}else Gr(d);else if(ve=S.s,ve==3||ve==0&&0<S.X||!(G==1&&Pa(d,S)||G==2&&Hs(d)))switch(I&&0<I.length&&(S=d.h,S.i=S.i.concat(I)),ve){case 1:Or(d,5);break;case 4:Or(d,10);break;case 3:Or(d,6);break;default:Or(d,2)}}}function yo(d,S){let I=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(I*=2),I*S}function Or(d,S){if(d.j.info("Error code "+S),S==2){var I=b(d.fb,d),G=d.Xa;const ve=!G;G=new Tn(G||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||fo(G,"https"),Wr(G),ve?Wt(G.toString(),I):Sa(G.toString(),I)}else ot(2);d.G=0,d.l&&d.l.sa(S),Yo(d),vo(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Yo(d){if(d.G=0,d.ka=[],d.l){const S=qi(d.h);(S.length!=0||d.i.length!=0)&&(M(d.ka,S),M(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function y(d,S,I){var G=I instanceof Tn?An(I):new Tn(I);if(G.g!="")S&&(G.g=S+"."+G.g),us(G,G.s);else{var ve=l.location;G=ve.protocol,S=S?S+"."+ve.hostname:ve.hostname,ve=+ve.port;var Ae=new Tn(null);G&&fo(Ae,G),S&&(Ae.g=S),ve&&us(Ae,ve),I&&(Ae.l=I),G=Ae}return I=d.D,S=d.ya,I&&S&&Et(G,I,S),Et(G,"VER",d.la),qs(d,G),G}function B(d,S,I){if(S&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=d.Ca&&!d.pa?new ln(new ui({eb:I})):new ln(d.pa),S.Ha(d.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ne(){}t=ne.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function fe(){}fe.prototype.g=function(d,S){return new ye(d,S)};function ye(d,S){dt.call(this),this.g=new Go(S),this.l=d,this.h=S&&S.messageUrlParams||null,d=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(d?d["X-WebChannel-Content-Type"]=S.messageContentType:d={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(d?d["X-WebChannel-Client-Profile"]=S.va:d={"X-WebChannel-Client-Profile":S.va}),this.g.S=d,(d=S&&S.Sb)&&!T(d)&&(this.g.m=d),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!T(S)&&(this.g.D=S,d=this.h,d!==null&&S in d&&(d=this.h,S in d&&delete d[S])),this.j=new Qe(this)}k(ye,dt),ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ye.prototype.close=function(){$i(this.g)},ye.prototype.o=function(d){var S=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.u&&(I={},I.__data__=tn(d),d=I);S.i.push(new co(S.Ya++,d)),S.G==3&&Us(S)},ye.prototype.N=function(){this.g.l=null,delete this.j,$i(this.g),delete this.g,ye.aa.N.call(this)};function ke(d){oi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var S=d.__sm__;if(S){e:{for(const I in S){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,S=S!==null&&d in S?S[d]:void 0),this.data=S}else this.data=d}k(ke,oi);function Ve(){En.call(this),this.status=1}k(Ve,En);function Qe(d){this.g=d}k(Qe,ne),Qe.prototype.ua=function(){yt(this.g,"a")},Qe.prototype.ta=function(d){yt(this.g,new ke(d))},Qe.prototype.sa=function(d){yt(this.g,new Ve)},Qe.prototype.ra=function(){yt(this.g,"b")},fe.prototype.createWebChannel=fe.prototype.g,ye.prototype.send=ye.prototype.o,ye.prototype.open=ye.prototype.m,ye.prototype.close=ye.prototype.close,TE=function(){return new fe},PE=function(){return zi()},AE=gt,$0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,yp=_r,kr.COMPLETE="complete",EE=kr,Sn.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Zh=Sn,ln.prototype.listenOnce=ln.prototype.L,ln.prototype.getLastError=ln.prototype.Ka,ln.prototype.getLastErrorCode=ln.prototype.Ba,ln.prototype.getStatus=ln.prototype.Z,ln.prototype.getResponseJson=ln.prototype.Oa,ln.prototype.getResponseText=ln.prototype.oa,ln.prototype.send=ln.prototype.ea,ln.prototype.setWithCredentials=ln.prototype.Ha,SE=ln}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});const D5="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new __("@firebase/firestore");function Vh(){return Du.logLevel}function ft(t,...e){if(Du.logLevel<=en.DEBUG){const n=e.map(b_);Du.debug(`Firestore (${mh}): ${t}`,...n)}}function Za(t,...e){if(Du.logLevel<=en.ERROR){const n=e.map(b_);Du.error(`Firestore (${mh}): ${t}`,...n)}}function eh(t,...e){if(Du.logLevel<=en.WARN){const n=e.map(b_);Du.warn(`Firestore (${mh}): ${t}`,...n)}}function b_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t="Unexpected state"){const e=`FIRESTORE (${mh}) INTERNAL ASSERTION FAILED: `+t;throw Za(e),new Error(e)}function bn(t,e){t||Ot()}function Ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Ja{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ok{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wi.UNAUTHENTICATED))}shutdown(){}}class ak{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lk{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bn(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ul;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ul,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ul)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bn(typeof r.accessToken=="string"),new IE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bn(e===null||typeof e=="string"),new wi(e)}}class uk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ck{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){bn(this.o===void 0);const r=s=>{s.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,ft("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bn(typeof n.token=="string"),this.R=n.token,new hk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function un(t,e){return t<e?-1:t>e?1:0}function th(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new at(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new at(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pr(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Pr(0,0))}static max(){return new Dt(new Pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ot(),r===void 0?r=e.length-n:r>e.length-n&&Ot(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dn extends Bf{construct(e,n,r){return new Dn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new at(je.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dn(n)}static emptyPath(){return new Dn([])}}const pk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends Bf{construct(e,n,r){return new ti(e,n,r)}static isValidIdentifier(e){return pk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ti(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new at(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new at(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new at(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new at(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(n)}static emptyPath(){return new ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(Dn.fromString(e))}static fromName(e){return new vt(Dn.fromString(e).popFirst(5))}static empty(){return new vt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new Dn(e.slice()))}}function mk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Dt.fromTimestamp(r===1e9?new Pr(n+1,0):new Pr(n,r));return new Zl(i,vt.empty(),e)}function gk(t){return new Zl(t.readTime,t.key,-1)}class Zl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zl(Dt.min(),vt.empty(),-1)}static max(){return new Zl(Dt.max(),vt.empty(),-1)}}function vk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=vt.comparator(t.documentKey,e.documentKey),n!==0?n:un(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rd(t){if(t.code!==je.FAILED_PRECONDITION||t.message!==_k)throw t;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new We((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof We?n:We.resolve(n)}catch(n){return We.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):We.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):We.reject(n)}static resolve(e){return new We((n,r)=>{n(e)})}static reject(e){return new We((n,r)=>{r(e)})}static waitFor(e){return new We((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(e){let n=We.resolve(!1);for(const r of e)n=n.next(i=>i?We.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new We((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const f=u;n(e[f]).next(g=>{a[f]=g,++l,l===s&&r(a)},g=>i(g))}})}static doWhile(e,n){return new We((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function wk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function id(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}x_.oe=-1;function $m(t){return t==null}function am(t){return t===0&&1/t==-1/0}function bk(t){return typeof t=="number"&&Number.isInteger(t)&&!am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $u(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){this.comparator=e,this.root=n||ei.EMPTY}insert(e,n){return new Kn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(e){return new Kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ei.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qd(this.root,e,this.comparator,!0)}}class Qd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ei{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ei.RED,this.left=i??ei.EMPTY,this.right=s??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ei(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ei.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ei(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j5(this.data.getIterator())}getIteratorFrom(e){return new j5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ri)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ri(this.comparator);return n.data=e,n}}class j5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.fields=e,e.sort(ti.comparator)}static empty(){return new bs([])}unionWith(e){let n=new ri(ti.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return th(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CE("Invalid base64 string: "+s):s}}(e);return new si(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new si(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}si.EMPTY_BYTE_STRING=new si("");const xk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yl(t){if(bn(!!t),typeof t=="string"){let e=0;const n=xk.exec(t);if(bn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:or(t.seconds),nanos:or(t.nanos)}}function or(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fu(t){return typeof t=="string"?si.fromBase64String(t):si.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function E_(t){const e=t.mapValue.fields.__previous_value__;return S_(e)?E_(e):e}function Vf(t){const e=Yl(t.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r,i,s,a,l,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=f}}class zf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd={mapValue:{}};function ju(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?S_(t)?4:Ak(t)?9007199254740991:Ek(t)?10:11:Ot()}function va(t,e){if(t===e)return!0;const n=ju(t);if(n!==ju(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vf(t).isEqual(Vf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Yl(i.timestampValue),l=Yl(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fu(i.bytesValue).isEqual(Fu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return or(i.geoPointValue.latitude)===or(s.geoPointValue.latitude)&&or(i.geoPointValue.longitude)===or(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return or(i.integerValue)===or(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=or(i.doubleValue),l=or(s.doubleValue);return a===l?am(a)===am(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return th(t.arrayValue.values||[],e.arrayValue.values||[],va);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(F5(a)!==F5(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!va(a[u],l[u])))return!1;return!0}(t,e);default:return Ot()}}function Uf(t,e){return(t.values||[]).find(n=>va(n,e))!==void 0}function nh(t,e){if(t===e)return 0;const n=ju(t),r=ju(e);if(n!==r)return un(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return un(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=or(s.integerValue||s.doubleValue),u=or(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return B5(t.timestampValue,e.timestampValue);case 4:return B5(Vf(t),Vf(e));case 5:return un(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Fu(s),u=Fu(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let f=0;f<l.length&&f<u.length;f++){const g=un(l[f],u[f]);if(g!==0)return g}return un(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=un(or(s.latitude),or(a.latitude));return l!==0?l:un(or(s.longitude),or(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return V5(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,u,f,g;const v=s.fields||{},b=a.fields||{},_=(l=v.value)===null||l===void 0?void 0:l.arrayValue,k=(u=b.value)===null||u===void 0?void 0:u.arrayValue,C=un(((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0,((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0);return C!==0?C:V5(_,k)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Xd.mapValue&&a===Xd.mapValue)return 0;if(s===Xd.mapValue)return 1;if(a===Xd.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),f=a.fields||{},g=Object.keys(f);u.sort(),g.sort();for(let v=0;v<u.length&&v<g.length;++v){const b=un(u[v],g[v]);if(b!==0)return b;const _=nh(l[u[v]],f[g[v]]);if(_!==0)return _}return un(u.length,g.length)}(t.mapValue,e.mapValue);default:throw Ot()}}function B5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return un(t,e);const n=Yl(t),r=Yl(e),i=un(n.seconds,r.seconds);return i!==0?i:un(n.nanos,r.nanos)}function V5(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=nh(n[i],r[i]);if(s)return s}return un(n.length,r.length)}function rh(t){return G0(t)}function G0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Yl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return vt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=G0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${G0(n.fields[a])}`;return i+"}"}(t.mapValue):Ot()}function z5(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function K0(t){return!!t&&"integerValue"in t}function A_(t){return!!t&&"arrayValue"in t}function U5(t){return!!t&&"nullValue"in t}function q5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wp(t){return!!t&&"mapValue"in t}function Ek(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ff(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $u(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ff(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ff(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ak(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.value=e}static empty(){return new es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ff(n)}setAll(e){let n=ti.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=ff(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());wp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return va(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$u(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new es(ff(this.value))}}function kE(t){const e=[];return $u(t.fields,(n,r)=>{const i=new ti([n]);if(wp(r)){const s=kE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new bs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new xi(e,0,Dt.min(),Dt.min(),Dt.min(),es.empty(),0)}static newFoundDocument(e,n,r,i){return new xi(e,1,n,Dt.min(),r,i,0)}static newNoDocument(e,n){return new xi(e,2,n,Dt.min(),Dt.min(),es.empty(),0)}static newUnknownDocument(e,n){return new xi(e,3,n,Dt.min(),Dt.min(),es.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.position=e,this.inclusive=n}}function W5(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=vt.comparator(vt.fromName(a.referenceValue),n.key):r=nh(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function H5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!va(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Pk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{}class vr extends RE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ik(e,n,r):n==="array-contains"?new Ck(e,r):n==="in"?new kk(e,r):n==="not-in"?new Rk(e,r):n==="array-contains-any"?new Ok(e,r):new vr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Nk(e,r):new Lk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nh(n,this.value)):n!==null&&ju(this.value)===ju(n)&&this.matchesComparison(nh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jo extends RE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new jo(e,n)}matches(e){return OE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function OE(t){return t.op==="and"}function ME(t){return Tk(t)&&OE(t)}function Tk(t){for(const e of t.filters)if(e instanceof jo)return!1;return!0}function Z0(t){if(t instanceof vr)return t.field.canonicalString()+t.op.toString()+rh(t.value);if(ME(t))return t.filters.map(e=>Z0(e)).join(",");{const e=t.filters.map(n=>Z0(n)).join(",");return`${t.op}(${e})`}}function DE(t,e){return t instanceof vr?function(r,i){return i instanceof vr&&r.op===i.op&&r.field.isEqual(i.field)&&va(r.value,i.value)}(t,e):t instanceof jo?function(r,i){return i instanceof jo&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&DE(a,i.filters[l]),!0):!1}(t,e):void Ot()}function FE(t){return t instanceof vr?function(n){return`${n.field.canonicalString()} ${n.op} ${rh(n.value)}`}(t):t instanceof jo?function(n){return n.op.toString()+" {"+n.getFilters().map(FE).join(" ,")+"}"}(t):"Filter"}class Ik extends vr{constructor(e,n,r){super(e,n,r),this.key=vt.fromName(r.referenceValue)}matches(e){const n=vt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Nk extends vr{constructor(e,n){super(e,"in",n),this.keys=jE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lk extends vr{constructor(e,n){super(e,"not-in",n),this.keys=jE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>vt.fromName(r.referenceValue))}class Ck extends vr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return A_(n)&&Uf(n.arrayValue,this.value)}}class kk extends vr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uf(this.value.arrayValue,n)}}class Rk extends vr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Uf(this.value.arrayValue,n)}}class Ok extends vr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!A_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.ue=null}}function $5(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Mk(t,e,n,r,i,s,a)}function P_(t){const e=Ft(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Z0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$m(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rh(r)).join(",")),e.ue=n}return e.ue}function T_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Pk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!H5(t.startAt,e.startAt)&&H5(t.endAt,e.endAt)}function Y0(t){return vt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Dk(t,e,n,r,i,s,a,l){return new gh(t,e,n,r,i,s,a,l)}function Gm(t){return new gh(t)}function G5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BE(t){return t.collectionGroup!==null}function df(t){const e=Ft(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new ri(ti.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new qf(s,r))}),n.has(ti.keyField().canonicalString())||e.ce.push(new qf(ti.keyField(),r))}return e.ce}function da(t){const e=Ft(t);return e.le||(e.le=Fk(e,df(t))),e.le}function Fk(t,e){if(t.limitType==="F")return $5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qf(i.field,s)});const n=t.endAt?new lm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lm(t.startAt.position,t.startAt.inclusive):null;return $5(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Q0(t,e){const n=t.filters.concat([e]);return new gh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function um(t,e,n){return new gh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Km(t,e){return T_(da(t),da(e))&&t.limitType===e.limitType}function VE(t){return`${P_(da(t))}|lt:${t.limitType}`}function dc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FE(i)).join(", ")}]`),$m(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rh(i)).join(",")),`Target(${r})`}(da(t))}; limitType=${t.limitType})`}function Zm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):vt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of df(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,u){const f=W5(a,l,u);return a.inclusive?f<=0:f<0}(r.startAt,df(r),i)||r.endAt&&!function(a,l,u){const f=W5(a,l,u);return a.inclusive?f>=0:f>0}(r.endAt,df(r),i))}(t,e)}function jk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zE(t){return(e,n)=>{let r=!1;for(const i of df(t)){const s=Bk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Bk(t,e,n){const r=t.field.isKeyField()?vt.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),f=l.data.field(s);return u!==null&&f!==null?nh(u,f):Ot()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$u(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return LE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new Kn(vt.comparator);function Ya(){return Vk}const UE=new Kn(vt.comparator);function Yh(...t){let e=UE;for(const n of t)e=e.insert(n.key,n);return e}function qE(t){let e=UE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Eu(){return pf()}function WE(){return pf()}function pf(){return new vh(t=>t.toString(),(t,e)=>t.isEqual(e))}const zk=new Kn(vt.comparator),Uk=new ri(vt.comparator);function Xt(...t){let e=Uk;for(const n of t)e=e.add(n);return e}const qk=new ri(un);function Wk(){return qk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function HE(t){return{integerValue:""+t}}function Hk(t,e){return bk(e)?HE(e):I_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this._=void 0}}function $k(t,e,n){return t instanceof Wf?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&S_(s)&&(s=E_(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof Hf?GE(t,e):t instanceof $f?KE(t,e):function(i,s){const a=$E(i,s),l=K5(a)+K5(i.Pe);return K0(a)&&K0(i.Pe)?HE(l):I_(i.serializer,l)}(t,e)}function Gk(t,e,n){return t instanceof Hf?GE(t,e):t instanceof $f?KE(t,e):n}function $E(t,e){return t instanceof cm?function(r){return K0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wf extends Ym{}class Hf extends Ym{constructor(e){super(),this.elements=e}}function GE(t,e){const n=ZE(e);for(const r of t.elements)n.some(i=>va(i,r))||n.push(r);return{arrayValue:{values:n}}}class $f extends Ym{constructor(e){super(),this.elements=e}}function KE(t,e){let n=ZE(e);for(const r of t.elements)n=n.filter(i=>!va(i,r));return{arrayValue:{values:n}}}class cm extends Ym{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function K5(t){return or(t.integerValue||t.doubleValue)}function ZE(t){return A_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n){this.field=e,this.transform=n}}function Zk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hf&&i instanceof Hf||r instanceof $f&&i instanceof $f?th(r.elements,i.elements,va):r instanceof cm&&i instanceof cm?va(r.Pe,i.Pe):r instanceof Wf&&i instanceof Wf}(t.transform,e.transform)}class Yk{constructor(e,n){this.version=e,this.transformResults=n}}class Mo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mo}static exists(e){return new Mo(void 0,e)}static updateTime(e){return new Mo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qm{}function YE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new XE(t.key,Mo.none()):new sd(t.key,t.data,Mo.none());{const n=t.data,r=es.empty();let i=new ri(ti.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new iu(t.key,r,new bs(i.toArray()),Mo.none())}}function Qk(t,e,n){t instanceof sd?function(i,s,a){const l=i.value.clone(),u=Y5(i.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof iu?function(i,s,a){if(!bp(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Y5(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(QE(i)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function mf(t,e,n,r){return t instanceof sd?function(s,a,l,u){if(!bp(s.precondition,a))return l;const f=s.value.clone(),g=Q5(s.fieldTransforms,u,a);return f.setAll(g),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof iu?function(s,a,l,u){if(!bp(s.precondition,a))return l;const f=Q5(s.fieldTransforms,u,a),g=a.data;return g.setAll(QE(s)),g.setAll(f),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(s,a,l){return bp(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function Xk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$E(r.transform,i||null);s!=null&&(n===null&&(n=es.empty()),n.set(r.field,s))}return n||null}function Z5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&th(r,i,(s,a)=>Zk(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sd extends Qm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class iu extends Qm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function QE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Y5(t,e,n){const r=new Map;bn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,Gk(a,l,n[i]))}return r}function Q5(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,$k(s,a,e))}return r}class XE extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jk extends Qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Qk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WE();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const u=YE(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(Dt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Xt())}isEqual(e){return this.batchId===e.batchId&&th(this.mutations,e.mutations,(n,r)=>Z5(n,r))&&th(this.baseMutations,e.baseMutations,(n,r)=>Z5(n,r))}}class N_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bn(e.mutations.length===r.length);let i=function(){return zk}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new N_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr,rn;function r6(t){switch(t){default:return Ot();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}function JE(t){if(t===void 0)return Za("GRPC error has no .code"),je.UNKNOWN;switch(t){case mr.OK:return je.OK;case mr.CANCELLED:return je.CANCELLED;case mr.UNKNOWN:return je.UNKNOWN;case mr.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case mr.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case mr.INTERNAL:return je.INTERNAL;case mr.UNAVAILABLE:return je.UNAVAILABLE;case mr.UNAUTHENTICATED:return je.UNAUTHENTICATED;case mr.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case mr.NOT_FOUND:return je.NOT_FOUND;case mr.ALREADY_EXISTS:return je.ALREADY_EXISTS;case mr.PERMISSION_DENIED:return je.PERMISSION_DENIED;case mr.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case mr.ABORTED:return je.ABORTED;case mr.OUT_OF_RANGE:return je.OUT_OF_RANGE;case mr.UNIMPLEMENTED:return je.UNIMPLEMENTED;case mr.DATA_LOSS:return je.DATA_LOSS;default:return Ot()}}(rn=mr||(mr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new Iu([4294967295,4294967295],0);function X5(t){const e=i6().encode(t),n=new xE;return n.update(e),new Uint8Array(n.digest())}function J5(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Iu([n,r],0),new Iu([i,s],0)]}class L_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qh(`Invalid padding: ${n}`);if(r<0)throw new Qh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qh(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Iu.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Iu.fromNumber(r)));return i.compare(s6)===1&&(i=new Iu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=X5(e),[r,i]=J5(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new L_(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=X5(e),[r,i]=J5(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,od.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xm(Dt.min(),i,new Kn(un),Ya(),Xt())}}class od{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new od(r,n,Xt(),Xt(),Xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class e4{constructor(e,n){this.targetId=e,this.me=n}}class t4{constructor(e,n,r=si.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ew{constructor(){this.fe=0,this.ge=nw(),this.pe=si.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xt(),n=Xt(),r=Xt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ot()}}),new od(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=nw()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,bn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class o6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ya(),this.qe=tw(),this.Qe=new Kn(un)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ot()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Y0(s))if(r===0){const a=new vt(s.path);this.Ue(n,a,xi.newNoDocument(a,Dt.min()))}else bn(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),u=l?this.Xe(l,e,a):1;if(u!==0){this.je(n);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,f)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Fu(r).toUint8Array()}catch(u){if(u instanceof CE)return eh("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new L_(a,i,s)}catch(u){return eh(u instanceof Qh?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const l=this.Je(a);if(l){if(s.current&&Y0(l.target)){const u=new vt(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,xi.newNoDocument(u,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Xt();this.qe.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const f=this.Je(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Xm(e,n,this.Qe,this.ke,r);return this.ke=Ya(),this.qe=tw(),this.Qe=new Kn(un),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ew,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ri(un),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ew),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function tw(){return new Kn(vt.comparator)}function nw(){return new Kn(vt.comparator)}const a6={asc:"ASCENDING",desc:"DESCENDING"},l6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u6={and:"AND",or:"OR"};class c6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function X0(t,e){return t.useProto3Json||$m(e)?e:{value:e}}function hm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h6(t,e){return hm(t,e.toTimestamp())}function pa(t){return bn(!!t),Dt.fromTimestamp(function(n){const r=Yl(n);return new Pr(r.seconds,r.nanos)}(t))}function C_(t,e){return J0(t,e).canonicalString()}function J0(t,e){const n=function(i){return new Dn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function r4(t){const e=Dn.fromString(t);return bn(l4(e)),e}function e1(t,e){return C_(t.databaseId,e.path)}function yv(t,e){const n=r4(e);if(n.get(1)!==t.databaseId.projectId)throw new at(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new at(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vt(s4(n))}function i4(t,e){return C_(t.databaseId,e)}function f6(t){const e=r4(t);return e.length===4?Dn.emptyPath():s4(e)}function t1(t){return new Dn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s4(t){return bn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rw(t,e,n){return{name:e1(t,e),fields:n.value.mapValue.fields}}function d6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ot()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(f,g){return f.useProto3Json?(bn(g===void 0||typeof g=="string"),si.fromBase64String(g||"")):(bn(g===void 0||g instanceof Buffer||g instanceof Uint8Array),si.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(f){const g=f.code===void 0?je.UNKNOWN:JE(f.code);return new at(g,f.message||"")}(a);n=new t4(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yv(t,r.document.name),s=pa(r.document.updateTime),a=r.document.createTime?pa(r.document.createTime):Dt.min(),l=new es({mapValue:{fields:r.document.fields}}),u=xi.newFoundDocument(i,s,a,l),f=r.targetIds||[],g=r.removedTargetIds||[];n=new xp(f,g,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yv(t,r.document),s=r.readTime?pa(r.readTime):Dt.min(),a=xi.newNoDocument(i,s),l=r.removedTargetIds||[];n=new xp([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yv(t,r.document),s=r.removedTargetIds||[];n=new xp([],s,i,null)}else{if(!("filter"in e))return Ot();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new n6(i,s),l=r.targetId;n=new e4(l,a)}}return n}function p6(t,e){let n;if(e instanceof sd)n={update:rw(t,e.key,e.value)};else if(e instanceof XE)n={delete:e1(t,e.key)};else if(e instanceof iu)n={update:rw(t,e.key,e.data),updateMask:S6(e.fieldMask)};else{if(!(e instanceof Jk))return Ot();n={verify:e1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof Wf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Hf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $f)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof cm)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw Ot()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:h6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ot()}(t,e.precondition)),n}function m6(t,e){return t&&t.length>0?(bn(e!==void 0),t.map(n=>function(i,s){let a=i.updateTime?pa(i.updateTime):pa(s);return a.isEqual(Dt.min())&&(a=pa(s)),new Yk(a,i.transformResults||[])}(n,e))):[]}function g6(t,e){return{documents:[i4(t,e.path)]}}function v6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=i4(t,i);const s=function(f){if(f.length!==0)return a4(jo.create(f,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(f){if(f.length!==0)return f.map(g=>function(b){return{field:pc(b.field),direction:w6(b.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=X0(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{_t:n,parent:i}}function _6(t){let e=f6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bn(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let s=[];n.where&&(s=function(v){const b=o4(v);return b instanceof jo&&ME(b)?b.getFilters():[b]}(n.where));let a=[];n.orderBy&&(a=function(v){return v.map(b=>function(k){return new qf(mc(k.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(b))}(n.orderBy));let l=null;n.limit&&(l=function(v){let b;return b=typeof v=="object"?v.value:v,$m(b)?null:b}(n.limit));let u=null;n.startAt&&(u=function(v){const b=!!v.before,_=v.values||[];return new lm(_,b)}(n.startAt));let f=null;return n.endAt&&(f=function(v){const b=!v.before,_=v.values||[];return new lm(_,b)}(n.endAt)),Dk(e,i,a,s,l,"F",u,f)}function y6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ot()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o4(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mc(n.unaryFilter.field);return vr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mc(n.unaryFilter.field);return vr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mc(n.unaryFilter.field);return vr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=mc(n.unaryFilter.field);return vr.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}(t):t.fieldFilter!==void 0?function(n){return vr.create(mc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return jo.create(n.compositeFilter.filters.map(r=>o4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ot()}}(n.compositeFilter.op))}(t):Ot()}function w6(t){return a6[t]}function b6(t){return l6[t]}function x6(t){return u6[t]}function pc(t){return{fieldPath:t.canonicalString()}}function mc(t){return ti.fromServerFormat(t.fieldPath)}function a4(t){return t instanceof vr?function(n){if(n.op==="=="){if(q5(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NAN"}};if(U5(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q5(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NAN"}};if(U5(n.value))return{unaryFilter:{field:pc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pc(n.field),op:b6(n.op),value:n.value}}}(t):t instanceof jo?function(n){const r=n.getFilters().map(i=>a4(i));return r.length===1?r[0]:{compositeFilter:{op:x6(n.op),filters:r}}}(t):Ot()}function S6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,r,i,s=Dt.min(),a=Dt.min(),l=si.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.ct=e}}function A6(t){const e=_6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.un=new T6}addToCollectionParentIndex(e,n){return this.un.add(n),We.resolve()}getCollectionParents(e,n){return We.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return We.resolve()}deleteFieldIndex(e,n){return We.resolve()}deleteAllFieldIndexes(e){return We.resolve()}createTargetIndexes(e,n){return We.resolve()}getDocumentsMatchingTarget(e,n){return We.resolve(null)}getIndexType(e,n){return We.resolve(0)}getFieldIndexes(e,n){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,n){return We.resolve(Zl.min())}getMinOffsetFromCollectionGroup(e,n){return We.resolve(Zl.min())}updateCollectionGroup(e,n,r){return We.resolve()}updateIndexEntries(e,n){return We.resolve()}}class T6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ri(Dn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ri(Dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ih(0)}static kn(){return new ih(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.changes=new vh(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?We.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mf(r.mutation,i,bs.empty(),Pr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Xt()){const i=Eu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=Yh();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Eu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Xt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=Ya();const a=pf(),l=function(){return pf()}();return n.forEach((u,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof iu)?s=s.insert(f.key,f):g!==void 0?(a.set(f.key,g.mutation.getFieldMask()),mf(g.mutation,f,g.mutation.getFieldMask(),Pr.now())):a.set(f.key,bs.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((f,g)=>a.set(f,g)),n.forEach((f,g)=>{var v;return l.set(f,new N6(g,(v=a.get(f))!==null&&v!==void 0?v:null))}),l))}recalculateAndSaveOverlays(e,n){const r=pf();let i=new Kn((a,l)=>a-l),s=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const f=n.get(u);if(f===null)return;let g=r.get(u)||bs.empty();g=l.applyToLocalView(f,g),r.set(u,g);const v=(i.get(l.batchId)||Xt()).add(u);i=i.insert(l.batchId,v)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),f=u.key,g=u.value,v=WE();g.forEach(b=>{if(!s.has(b)){const _=YE(n.get(b),r.get(b));_!==null&&v.set(b,_),s=s.add(b)}}),a.push(this.documentOverlayCache.saveOverlays(e,f,v))}return We.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return vt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):We.resolve(Eu());let l=-1,u=s;return a.next(f=>We.forEach(f,(g,v)=>(l<v.largestBatchId&&(l=v.largestBatchId),s.get(g)?We.resolve():this.remoteDocumentCache.getEntry(e,g).next(b=>{u=u.insert(g,b)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,u,f,Xt())).next(g=>({batchId:l,changes:qE(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new vt(n)).next(r=>{let i=Yh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Yh();return this.indexManager.getCollectionParents(e,s).next(l=>We.forEach(l,u=>{const f=function(v,b){return new gh(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((v,b)=>{a=a.insert(v,b)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((u,f)=>{const g=f.getKey();a.get(g)===null&&(a=a.insert(g,xi.newInvalidDocument(g)))});let l=Yh();return a.forEach((u,f)=>{const g=s.get(u);g!==void 0&&mf(g.mutation,f,bs.empty(),Pr.now()),Zm(n,f)&&(l=l.insert(u,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return We.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pa(i.createTime)}}(n)),We.resolve()}getNamedQuery(e,n){return We.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:A6(i.bundledQuery),readTime:pa(i.readTime)}}(n)),We.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this.overlays=new Kn(vt.comparator),this.Ir=new Map}getOverlay(e,n){return We.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Eu();return We.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),We.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),We.resolve()}getOverlaysForCollection(e,n,r){const i=Eu(),s=n.length+1,a=new vt(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,f=u.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return We.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Kn((f,g)=>f-g);const a=this.overlays.getIterator();for(;a.hasNext();){const f=a.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let g=s.get(f.largestBatchId);g===null&&(g=Eu(),s=s.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const l=Eu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,g)=>l.set(f,g)),!(l.size()>=i)););return We.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new t6(n,r));let s=this.Ir.get(n);s===void 0&&(s=Xt(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.sessionToken=si.EMPTY_BYTE_STRING}getSessionToken(e){return We.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,We.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.Tr=new ri(Br.Er),this.dr=new ri(Br.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Br(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Br(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new vt(new Dn([])),r=new Br(n,e),i=new Br(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new vt(new Dn([])),r=new Br(n,e),i=new Br(n,e+1);let s=Xt();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Br(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Br{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return vt.comparator(e.key,n.key)||un(e.wr,n.wr)}static Ar(e,n){return un(e.wr,n.wr)||vt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ri(Br.Er)}checkEmpty(e){return We.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new e6(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.br=this.br.add(new Br(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return We.resolve(a)}lookupMutationBatch(e,n){return We.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return We.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Br(n,0),i=new Br(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const l=this.Dr(a.wr);s.push(l)}),We.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ri(un);return n.forEach(i=>{const s=new Br(i,0),a=new Br(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],l=>{r=r.add(l.wr)})}),We.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;vt.isDocumentKey(s)||(s=s.child(""));const a=new Br(new vt(s),0);let l=new ri(un);return this.br.forEachWhile(u=>{const f=u.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(u.wr)),!0)},a),We.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){bn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return We.forEach(n.mutations,i=>{const s=new Br(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Br(n,0),i=this.br.firstAfterOrEqual(r);return We.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,We.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.Mr=e,this.docs=function(){return new Kn(vt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return We.resolve(r?r.document.mutableCopy():xi.newInvalidDocument(n))}getEntries(e,n){let r=Ya();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xi.newInvalidDocument(i))}),We.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ya();const a=n.path,l=new vt(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:g}}=u.getNext();if(!a.isPrefixOf(f.path))break;f.path.length>a.length+1||vk(gk(g),r)<=0||(i.has(g.key)||Zm(n,g))&&(s=s.insert(g.key,g.mutableCopy()))}return We.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ot()}Or(e,n){return We.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new D6(this)}getSize(e){return We.resolve(this.size)}}class D6 extends I6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),We.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.persistence=e,this.Nr=new vh(n=>P_(n),T_),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new k_,this.targetCount=0,this.kr=ih.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),We.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ih(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,We.resolve()}updateTargetData(e,n){return this.Kn(n),We.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),We.waitFor(s).next(()=>i)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return We.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),We.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),We.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),We.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return We.resolve(r)}containsKey(e,n){return We.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new x_(0),this.Kr=!1,this.Kr=!0,this.$r=new R6,this.referenceDelegate=e(this),this.Ur=new F6(this),this.indexManager=new P6,this.remoteDocumentCache=function(i){return new M6(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new E6(n),this.Gr=new C6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new O6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ft("MemoryPersistence","Starting transaction:",e);const i=new B6(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return We.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class B6 extends yk{constructor(e){super(),this.currentSequenceNumber=e}}class R_{constructor(e){this.persistence=e,this.Jr=new k_,this.Yr=null}static Zr(e){return new R_(e)}get Xr(){if(this.Yr)return this.Yr;throw Ot()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),We.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),We.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),We.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.Xr,r=>{const i=vt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Dt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return We.or([()=>We.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Xt(),i=Xt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new O_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qL()?8:wk(Pi())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new V6;return this.Xi(e,n,a).next(l=>{if(s.result=l,this.zi)return this.es(e,n,a,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Vh()<=en.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),We.resolve()):(Vh()<=en.DEBUG&&ft("QueryEngine","Query:",dc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Vh()<=en.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,da(n))):We.resolve())}Yi(e,n){if(G5(n))return We.resolve(null);let r=da(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=um(n,null,"F"),r=da(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Xt(...s);return this.Ji.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const f=this.ts(n,l);return this.ns(n,f,a,u.readTime)?this.Yi(e,um(n,null,"F")):this.rs(e,f,n,u)}))})))}Zi(e,n,r,i){return G5(n)||i.isEqual(Dt.min())?We.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?We.resolve(null):(Vh()<=en.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dc(n)),this.rs(e,a,n,mk(i,-1)).next(l=>l))})}ts(e,n){let r=new ri(zE(e));return n.forEach((i,s)=>{Zm(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Vh()<=en.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",dc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Kn(un),this._s=new vh(s=>P_(s),T_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function q6(t,e,n,r){return new U6(t,e,n,r)}async function u4(t,e){const n=Ft(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let u=Xt();for(const f of i){a.push(f.batchId);for(const g of f.mutations)u=u.add(g.key)}for(const f of s){l.push(f.batchId);for(const g of f.mutations)u=u.add(g.key)}return n.localDocuments.getDocuments(r,u).next(f=>({hs:f,removedBatchIds:a,addedBatchIds:l}))})})}function W6(t,e){const n=Ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,f,g){const v=f.batch,b=v.keys();let _=We.resolve();return b.forEach(k=>{_=_.next(()=>g.getEntry(u,k)).next(C=>{const M=f.docVersions.get(k);bn(M!==null),C.version.compareTo(M)<0&&(v.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),g.addEntry(C)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,v))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Xt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(u=u.add(l.batch.mutations[f].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function c4(t){const e=Ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function H6(t,e){const n=Ft(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((g,v)=>{const b=i.get(v);if(!b)return;l.push(n.Ur.removeMatchingKeys(s,g.removedDocuments,v).next(()=>n.Ur.addMatchingKeys(s,g.addedDocuments,v)));let _=b.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(v)!==null?_=_.withResumeToken(si.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):g.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(g.resumeToken,r)),i=i.insert(v,_),function(C,M,E){return C.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(b,_,g)&&l.push(n.Ur.updateTargetData(s,_))});let u=Ya(),f=Xt();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push($6(s,a,e.documentUpdates).next(g=>{u=g.Ps,f=g.Is})),!r.isEqual(Dt.min())){const g=n.Ur.getLastRemoteSnapshotVersion(s).next(v=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(g)}return We.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,f)).next(()=>u)}).then(s=>(n.os=i,s))}function $6(t,e,n){let r=Xt(),i=Xt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Ya();return n.forEach((l,u)=>{const f=s.get(l);u.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Dt.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):ft("LocalStore","Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",u.version)}),{Ps:a,Is:i}})}function G6(t,e){const n=Ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function K6(t,e){const n=Ft(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,We.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Nl(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function n1(t,e,n){const r=Ft(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!id(a))throw a;ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function iw(t,e,n){const r=Ft(t);let i=Dt.min(),s=Xt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,f,g){const v=Ft(u),b=v._s.get(g);return b!==void 0?We.resolve(v.os.get(b)):v.Ur.getTargetData(f,g)}(r,a,da(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Dt.min(),n?s:Xt())).next(l=>(Z6(r,jk(e),l),{documents:l,Ts:s})))}function Z6(t,e,n){let r=t.us.get(e)||Dt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class sw{constructor(){this.activeTargetIds=Wk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y6{constructor(){this.so=new sw,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new sw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd=null;function wv(){return Jd===null?Jd=function(){return 268435456+Math.round(2147483648*Math.random())}():Jd++,"0x"+Jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="WebChannelConnection";class eR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const l=wv(),u=this.xo(n,r.toUriEncodedString());ft("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,s,a),this.No(n,u,f,i).then(g=>(ft("RestConnection",`Received RPC '${n}' ${l}: `,g),g),g=>{throw eh("RestConnection",`RPC '${n}' ${l} failed with error: `,g,"url: ",u,"request:",i),g})}Lo(n,r,i,s,a,l){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mh}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=X6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=wv();return new Promise((a,l)=>{const u=new SE;u.setWithCredentials(!0),u.listenOnce(EE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case yp.NO_ERROR:const g=u.getResponseJson();ft(yi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case yp.TIMEOUT:ft(yi,`RPC '${e}' ${s} timed out`),l(new at(je.DEADLINE_EXCEEDED,"Request time out"));break;case yp.HTTP_ERROR:const v=u.getStatus();if(ft(yi,`RPC '${e}' ${s} failed with status:`,v,"response text:",u.getResponseText()),v>0){let b=u.getResponseJson();Array.isArray(b)&&(b=b[0]);const _=b==null?void 0:b.error;if(_&&_.status&&_.message){const k=function(M){const E=M.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(E)>=0?E:je.UNKNOWN}(_.status);l(new at(k,_.message))}else l(new at(je.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new at(je.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{ft(yi,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);ft(yi,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",f,r,15)})}Bo(e,n,r){const i=wv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=TE(),l=PE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const g=s.join("");ft(yi,`Creating RPC '${e}' stream ${i}: ${g}`,u);const v=a.createWebChannel(g,u);let b=!1,_=!1;const k=new J6({Io:M=>{_?ft(yi,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(b||(ft(yi,`Opening RPC '${e}' stream ${i} transport.`),v.open(),b=!0),ft(yi,`RPC '${e}' stream ${i} sending:`,M),v.send(M))},To:()=>v.close()}),C=(M,E,T)=>{M.listen(E,j=>{try{T(j)}catch(te){setTimeout(()=>{throw te},0)}})};return C(v,Zh.EventType.OPEN,()=>{_||(ft(yi,`RPC '${e}' stream ${i} transport opened.`),k.yo())}),C(v,Zh.EventType.CLOSE,()=>{_||(_=!0,ft(yi,`RPC '${e}' stream ${i} transport closed`),k.So())}),C(v,Zh.EventType.ERROR,M=>{_||(_=!0,eh(yi,`RPC '${e}' stream ${i} transport errored:`,M),k.So(new at(je.UNAVAILABLE,"The operation could not be completed")))}),C(v,Zh.EventType.MESSAGE,M=>{var E;if(!_){const T=M.data[0];bn(!!T);const j=T,te=j.error||((E=j[0])===null||E===void 0?void 0:E.error);if(te){ft(yi,`RPC '${e}' stream ${i} received error:`,te);const he=te.status;let we=function(U){const K=mr[U];if(K!==void 0)return JE(K)}(he),z=te.message;we===void 0&&(we=je.INTERNAL,z="Unknown error status: "+he+" with message "+te.message),_=!0,k.So(new at(we,z)),v.close()}else ft(yi,`RPC '${e}' stream ${i} received:`,T),k.bo(T)}}),C(l,AE.STAT_EVENT,M=>{M.stat===$0.PROXY?ft(yi,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===$0.NOPROXY&&ft(yi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function bv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t){return new c6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ft("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,i,s,a,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new h4(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===je.RESOURCE_EXHAUSTED?(Za(n.toString()),Za("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new at(je.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tR extends f4{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=d6(this.serializer,e),r=function(s){if(!("targetChange"in s))return Dt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Dt.min():a.readTime?pa(a.readTime):Dt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=t1(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Y0(u)?{documents:g6(s,u)}:{query:v6(s,u)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=n4(s,a.resumeToken);const f=X0(s,a.expectedCount);f!==null&&(l.expectedCount=f)}else if(a.snapshotVersion.compareTo(Dt.min())>0){l.readTime=hm(s,a.snapshotVersion.toTimestamp());const f=X0(s,a.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=y6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=t1(this.serializer),n.removeTarget=e,this.a_(n)}}class nR extends f4{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return bn(!!e.streamToken),this.lastStreamToken=e.streamToken,bn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=m6(e.writeResults,e.commitTime),r=pa(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=t1(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>p6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new at(je.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,J0(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new at(je.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Lo(e,J0(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new at(je.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class iR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Za(n),this.D_=!1):ft("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{Gu(this)&&(ft("RemoteStore","Restarting streams for network reachability change."),await async function(u){const f=Ft(u);f.L_.add(4),await ad(f),f.q_.set("Unknown"),f.L_.delete(4),await eg(f)}(this))})}),this.q_=new iR(r,i)}}async function eg(t){if(Gu(t))for(const e of t.B_)await e(!0)}async function ad(t){for(const e of t.B_)await e(!1)}function d4(t,e){const n=Ft(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),j_(n)?F_(n):_h(n).r_()&&D_(n,e))}function M_(t,e){const n=Ft(t),r=_h(n);n.N_.delete(e),r.r_()&&p4(n,e),n.N_.size===0&&(r.r_()?r.o_():Gu(n)&&n.q_.set("Unknown"))}function D_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_h(t).A_(e)}function p4(t,e){t.Q_.xe(e),_h(t).R_(e)}function F_(t){t.Q_=new o6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_h(t).start(),t.q_.v_()}function j_(t){return Gu(t)&&!_h(t).n_()&&t.N_.size>0}function Gu(t){return Ft(t).L_.size===0}function m4(t){t.Q_=void 0}async function oR(t){t.q_.set("Online")}async function aR(t){t.N_.forEach((e,n)=>{D_(t,e)})}async function lR(t,e){m4(t),j_(t)?(t.q_.M_(e),F_(t)):t.q_.set("Unknown")}async function uR(t,e,n){if(t.q_.set("Online"),e instanceof t4&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fm(t,r)}else if(e instanceof xp?t.Q_.Ke(e):e instanceof e4?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Dt.min()))try{const r=await c4(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.Q_.rt(a);return l.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const g=s.N_.get(f);g&&s.N_.set(f,g.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,f)=>{const g=s.N_.get(u);if(!g)return;s.N_.set(u,g.withResumeToken(si.EMPTY_BYTE_STRING,g.snapshotVersion)),p4(s,u);const v=new Nl(g.target,u,f,g.sequenceNumber);D_(s,v)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ft("RemoteStore","Failed to raise snapshot:",r),await fm(t,r)}}async function fm(t,e,n){if(!id(e))throw e;t.L_.add(1),await ad(t),t.q_.set("Offline"),n||(n=()=>c4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ft("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await eg(t)})}function g4(t,e){return e().catch(n=>fm(t,n,e))}async function tg(t){const e=Ft(t),n=Ql(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cR(e);)try{const i=await G6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,hR(e,i)}catch(i){await fm(e,i)}v4(e)&&_4(e)}function cR(t){return Gu(t)&&t.O_.length<10}function hR(t,e){t.O_.push(e);const n=Ql(t);n.r_()&&n.V_&&n.m_(e.mutations)}function v4(t){return Gu(t)&&!Ql(t).n_()&&t.O_.length>0}function _4(t){Ql(t).start()}async function fR(t){Ql(t).p_()}async function dR(t){const e=Ql(t);for(const n of t.O_)e.m_(n.mutations)}async function pR(t,e,n){const r=t.O_.shift(),i=N_.from(r,e,n);await g4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tg(t)}async function mR(t,e){e&&Ql(t).V_&&await async function(r,i){if(function(a){return r6(a)&&a!==je.ABORTED}(i.code)){const s=r.O_.shift();Ql(r).s_(),await g4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tg(r)}}(t,e),v4(t)&&_4(t)}async function aw(t,e){const n=Ft(t);n.asyncQueue.verifyOperationInProgress(),ft("RemoteStore","RemoteStore received new credentials");const r=Gu(n);n.L_.add(3),await ad(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await eg(n)}async function gR(t,e){const n=Ft(t);e?(n.L_.delete(2),await eg(n)):e||(n.L_.add(2),await ad(n),n.q_.set("Unknown"))}function _h(t){return t.K_||(t.K_=function(n,r,i){const s=Ft(n);return s.w_(),new tR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:oR.bind(null,t),Ro:aR.bind(null,t),mo:lR.bind(null,t),d_:uR.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),j_(t)?F_(t):t.q_.set("Unknown")):(await t.K_.stop(),m4(t))})),t.K_}function Ql(t){return t.U_||(t.U_=function(n,r,i){const s=Ft(n);return s.w_(),new nR(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fR.bind(null,t),mo:mR.bind(null,t),f_:dR.bind(null,t),g_:pR.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await tg(t)):(await t.U_.stop(),t.O_.length>0&&(ft("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new B_(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(t,e){if(Za("AsyncQueue",`${e}: ${t}`),id(t))return new at(je.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e){this.comparator=e?(n,r)=>e(n,r)||vt.comparator(n.key,r.key):(n,r)=>vt.comparator(n.key,r.key),this.keyedMap=Yh(),this.sortedSet=new Kn(this.comparator)}static emptySet(e){return new Uc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.W_=new Kn(vt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ot():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sh{constructor(e,n,r,i,s,a,l,u,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new sh(e,n,Uc.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class _R{constructor(){this.queries=uw(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ft(n),s=i.queries;i.queries=uw(),s.forEach((a,l)=>{for(const u of l.j_)u.onError(r)})})(this,new at(je.ABORTED,"Firestore shutting down"))}}function uw(){return new vh(t=>VE(t),Km)}async function y4(t,e){const n=Ft(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new vR,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=V_(a,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&z_(n)}async function w4(t,e){const n=Ft(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yR(t,e){const n=Ft(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.j_)l.X_(i)&&(r=!0);a.z_=i}}r&&z_(n)}function wR(t,e,n){const r=Ft(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function z_(t){t.Y_.forEach(e=>{e.next()})}var r1,cw;(cw=r1||(r1={})).ea="default",cw.Cache="cache";class b4{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=sh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==r1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.key=e}}class S4{constructor(e){this.key=e}}class bR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Xt(),this.mutatedKeys=Xt(),this.Aa=zE(e),this.Ra=new Uc(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new lw,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,v)=>{const b=i.get(g),_=Zm(this.query,v)?v:null,k=!!b&&this.mutatedKeys.has(b.key),C=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let M=!1;b&&_?b.data.isEqual(_.data)?k!==C&&(r.track({type:3,doc:_}),M=!0):this.ga(b,_)||(r.track({type:2,doc:_}),M=!0,(u&&this.Aa(_,u)>0||f&&this.Aa(_,f)<0)&&(l=!0)):!b&&_?(r.track({type:0,doc:_}),M=!0):b&&!_&&(r.track({type:1,doc:b}),M=!0,(u||f)&&(l=!0)),M&&(_?(a=a.add(_),s=C?s.add(g):s.delete(g)):(a=a.delete(g),s=s.delete(g)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const g=this.query.limitType==="F"?a.last():a.first();a=a.delete(g.key),s=s.delete(g.key),r.track({type:1,doc:g})}return{Ra:a,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((g,v)=>function(_,k){const C=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return C(_)-C(k)}(g.type,v.type)||this.Aa(g.doc,v.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,f=u!==this.Ea;return this.Ea=u,a.length!==0||f?{snapshot:new sh(this.query,e.Ra,s,a,e.mutatedKeys,u===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new lw,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Xt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new S4(r))}),this.da.forEach(r=>{e.has(r)||n.push(new x4(r))}),n}ba(e){this.Ta=e.Ts,this.da=Xt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return sh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class xR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SR{constructor(e){this.key=e,this.va=!1}}class ER{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new vh(l=>VE(l),Km),this.Ma=new Map,this.xa=new Set,this.Oa=new Kn(vt.comparator),this.Na=new Map,this.La=new k_,this.Ba={},this.ka=new Map,this.qa=ih.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function AR(t,e,n=!0){const r=N4(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await E4(r,e,n,!0),i}async function PR(t,e){const n=N4(t);await E4(n,e,!0,!1)}async function E4(t,e,n,r){const i=await K6(t.localStore,da(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await TR(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&d4(t.remoteStore,i),l}async function TR(t,e,n,r,i){t.Ka=(v,b,_)=>async function(C,M,E,T){let j=M.view.ma(E);j.ns&&(j=await iw(C.localStore,M.query,!1).then(({documents:z})=>M.view.ma(z,j)));const te=T&&T.targetChanges.get(M.targetId),he=T&&T.targetMismatches.get(M.targetId)!=null,we=M.view.applyChanges(j,C.isPrimaryClient,te,he);return fw(C,M.targetId,we.wa),we.snapshot}(t,v,b,_);const s=await iw(t.localStore,e,!0),a=new bR(e,s.Ts),l=a.ma(s.documents),u=od.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=a.applyChanges(l,t.isPrimaryClient,u);fw(t,n,f.wa);const g=new xR(e,n,a);return t.Fa.set(e,g),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),f.snapshot}async function IR(t,e,n){const r=Ft(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Km(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await n1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&M_(r.remoteStore,i.targetId),i1(r,i.targetId)}).catch(rd)):(i1(r,i.targetId),await n1(r.localStore,i.targetId,!0))}async function NR(t,e){const n=Ft(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),M_(n.remoteStore,r.targetId))}async function LR(t,e,n){const r=FR(t);try{const i=await function(a,l){const u=Ft(a),f=Pr.now(),g=l.reduce((_,k)=>_.add(k.key),Xt());let v,b;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let k=Ya(),C=Xt();return u.cs.getEntries(_,g).next(M=>{k=M,k.forEach((E,T)=>{T.isValidDocument()||(C=C.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,k)).next(M=>{v=M;const E=[];for(const T of l){const j=Xk(T,v.get(T.key).overlayedDocument);j!=null&&E.push(new iu(T.key,j,kE(j.value.mapValue),Mo.exists(!0)))}return u.mutationQueue.addMutationBatch(_,f,E,l)}).next(M=>{b=M;const E=M.applyToLocalDocumentSet(v,C);return u.documentOverlayCache.saveOverlays(_,M.batchId,E)})}).then(()=>({batchId:b.batchId,changes:qE(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,u){let f=a.Ba[a.currentUser.toKey()];f||(f=new Kn(un)),f=f.insert(l,u),a.Ba[a.currentUser.toKey()]=f}(r,i.batchId,n),await ld(r,i.changes),await tg(r.remoteStore)}catch(i){const s=V_(i,"Failed to persist write");n.reject(s)}}async function A4(t,e){const n=Ft(t);try{const r=await H6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(bn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?bn(a.va):i.removedDocuments.size>0&&(bn(a.va),a.va=!1))}),await ld(n,r,e)}catch(r){await rd(r)}}function hw(t,e,n){const r=Ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const l=a.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=Ft(a);u.onlineState=l;let f=!1;u.queries.forEach((g,v)=>{for(const b of v.j_)b.Z_(l)&&(f=!0)}),f&&z_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CR(t,e,n){const r=Ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Kn(vt.comparator);a=a.insert(s,xi.newNoDocument(s,Dt.min()));const l=Xt().add(s),u=new Xm(Dt.min(),new Map,new Kn(un),a,l);await A4(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),U_(r)}else await n1(r.localStore,e,!1).then(()=>i1(r,e,n)).catch(rd)}async function kR(t,e){const n=Ft(t),r=e.batch.batchId;try{const i=await W6(n.localStore,e);T4(n,r,null),P4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ld(n,i)}catch(i){await rd(i)}}async function RR(t,e,n){const r=Ft(t);try{const i=await function(a,l){const u=Ft(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return u.mutationQueue.lookupMutationBatch(f,l).next(v=>(bn(v!==null),g=v.keys(),u.mutationQueue.removeMutationBatch(f,v))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,g,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>u.localDocuments.getDocuments(f,g))})}(r.localStore,e);T4(r,e,n),P4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ld(r,i)}catch(i){await rd(i)}}function P4(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function T4(t,e,n){const r=Ft(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function i1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||I4(t,r)})}function I4(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(M_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),U_(t))}function fw(t,e,n){for(const r of n)r instanceof x4?(t.La.addReference(r.key,e),OR(t,r)):r instanceof S4?(ft("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||I4(t,r.key)):Ot()}function OR(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ft("SyncEngine","New document in limbo: "+n),t.xa.add(r),U_(t))}function U_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new vt(Dn.fromString(e)),r=t.qa.next();t.Na.set(r,new SR(n)),t.Oa=t.Oa.insert(n,r),d4(t.remoteStore,new Nl(da(Gm(n.path)),r,"TargetPurposeLimboResolution",x_.oe))}}async function ld(t,e,n){const r=Ft(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{a.push(r.Ka(u,e,n).then(f=>{var g;if((f||n)&&r.isPrimaryClient){const v=f?!f.fromCache:(g=n==null?void 0:n.targetChanges.get(u.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(u.targetId,v?"current":"not-current")}if(f){i.push(f);const v=O_.Wi(u.targetId,f);s.push(v)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(u,f){const g=Ft(u);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>We.forEach(f,b=>We.forEach(b.$i,_=>g.persistence.referenceDelegate.addReference(v,b.targetId,_)).next(()=>We.forEach(b.Ui,_=>g.persistence.referenceDelegate.removeReference(v,b.targetId,_)))))}catch(v){if(!id(v))throw v;ft("LocalStore","Failed to update sequence numbers: "+v)}for(const v of f){const b=v.targetId;if(!v.fromCache){const _=g.os.get(b),k=_.snapshotVersion,C=_.withLastLimboFreeSnapshotVersion(k);g.os=g.os.insert(b,C)}}}(r.localStore,s))}async function MR(t,e){const n=Ft(t);if(!n.currentUser.isEqual(e)){ft("SyncEngine","User change. New user:",e.toKey());const r=await u4(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new at(je.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ld(n,r.hs)}}function DR(t,e){const n=Ft(t),r=n.Na.get(e);if(r&&r.va)return Xt().add(r.key);{let i=Xt();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const l=n.Fa.get(a);i=i.unionWith(l.view.Va)}return i}}function N4(t){const e=Ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=A4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CR.bind(null,e),e.Ca.d_=yR.bind(null,e.eventManager),e.Ca.$a=wR.bind(null,e.eventManager),e}function FR(t){const e=Ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RR.bind(null,e),e}class dm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return q6(this.persistence,new z6,e.initialUser,this.serializer)}Ga(e){return new j6(R_.Zr,this.serializer)}Wa(e){return new Y6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dm.provider={build:()=>new dm};class s1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MR.bind(null,this.syncEngine),await gR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _R}()}createDatastore(e){const n=Jm(e.databaseInfo.databaseId),r=function(s){return new eR(s)}(e.databaseInfo);return function(s,a,l,u){return new rR(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new sR(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>hw(this.syncEngine,n,0),function(){return ow.D()?new ow:new Q6}())}createSyncEngine(e,n){return function(i,s,a,l,u,f,g){const v=new ER(i,s,a,l,u,f);return g&&(v.Qa=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ft(i);ft("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await ad(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}s1.provider={build:()=>new s1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Za("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wi.UNAUTHENTICATED,this.clientId=NE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{ft("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ft("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ul;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=V_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xv(t,e){t.asyncQueue.verifyOperationInProgress(),ft("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await u4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BR(t);ft("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aw(e.remoteStore,i)),t._onlineComponents=e}async function BR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ft("FirestoreClient","Using user provided OfflineComponentProvider");try{await xv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;eh("Error using user provided cache. Falling back to memory cache: "+n),await xv(t,new dm)}}else ft("FirestoreClient","Using default OfflineComponentProvider"),await xv(t,new dm);return t._offlineComponents}async function C4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ft("FirestoreClient","Using user provided OnlineComponentProvider"),await dw(t,t._uninitializedComponentsProvider._online)):(ft("FirestoreClient","Using default OnlineComponentProvider"),await dw(t,new s1))),t._onlineComponents}function VR(t){return C4(t).then(e=>e.syncEngine)}async function o1(t){const e=await C4(t),n=e.eventManager;return n.onListen=AR.bind(null,e.syncEngine),n.onUnlisten=IR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NR.bind(null,e.syncEngine),n}function zR(t,e,n={}){const r=new Ul;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,f){const g=new L4({next:b=>{g.Za(),a.enqueueAndForget(()=>w4(s,v));const _=b.docs.has(l);!_&&b.fromCache?f.reject(new at(je.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&b.fromCache&&u&&u.source==="server"?f.reject(new at(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),v=new b4(Gm(l.path),g,{includeMetadataChanges:!0,_a:!0});return y4(s,v)}(await o1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t,e,n){if(!n)throw new at(je.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UR(t,e,n,r){if(e===!0&&r===!0)throw new at(je.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mw(t){if(!vt.isDocumentKey(t))throw new at(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gw(t){if(vt.isDocumentKey(t))throw new at(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ot()}function Do(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new at(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ng(t);throw new at(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function qR(t,e){if(e<=0)throw new at(je.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new at(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new at(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(je.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(je.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(je.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ok;switch(r.type){case"firstParty":return new ck(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new at(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pw.get(n);r&&(ft("ComponentProvider","Removing Datastore"),pw.delete(n),r.terminate())}(this),Promise.resolve()}}function WR(t,e,n,r={}){var i;const s=(t=Do(t,rg))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&eh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=wi.MOCK_USER;else{l=DL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new at(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wi(f)}t._authCredentials=new ak(new IE(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new su(this.firestore,e,this._query)}}class Ei{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ei(this.firestore,e,this._key)}}class ql extends su{constructor(e,n,r){super(e,n,Gm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ei(this.firestore,null,new vt(e))}withConverter(e){return new ql(this.firestore,e,this._path)}}function oh(t,e,...n){if(t=Tr(t),R4("collection","path",e),t instanceof rg){const r=Dn.fromString(e,...n);return gw(r),new ql(t,null,r)}{if(!(t instanceof Ei||t instanceof ql))throw new at(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dn.fromString(e,...n));return gw(r),new ql(t.firestore,null,r)}}function ou(t,e,...n){if(t=Tr(t),arguments.length===1&&(e=NE.newId()),R4("doc","path",e),t instanceof rg){const r=Dn.fromString(e,...n);return mw(r),new Ei(t,null,new vt(r))}{if(!(t instanceof Ei||t instanceof ql))throw new at(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dn.fromString(e,...n));return mw(r),new Ei(t.firestore,t instanceof ql?t.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new h4(this,"async_queue_retry"),this.Vu=()=>{const r=bv();r&&ft("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=bv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ul;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!id(e))throw e;ft("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Za("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=B_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Ot()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function yw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Bu extends rg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _w,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _w(e),this._firestoreClient=void 0,await e}}}function HR(t,e){const n=typeof t=="object"?t:yE(),r=typeof t=="string"?t:"(default)",i=w_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=OL("firestore");s&&WR(i,...s)}return i}function q_(t){if(t._terminated)throw new at(je.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$R(t),t._firestoreClient}function $R(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,f,g){return new Sk(l,u,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,k4(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new jR(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ah(si.fromBase64String(e))}catch(n){throw new at(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ah(si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new at(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new at(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new at(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=/^__.*__$/;class KR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new iu(e,this.data,this.fieldMask,n,this.fieldTransforms):new sd(e,this.data,n,this.fieldTransforms)}}class O4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new iu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function M4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class $_{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(M4(this.Cu)&&GR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ZR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jm(e)}Qu(e,n,r,i=!1){return new $_({Cu:e,methodName:n,qu:r,path:ti.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function og(t){const e=t._freezeSettings(),n=Jm(t._databaseId);return new ZR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function D4(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);K_("Data must be an object, but it was:",a,r);const l=F4(r,a);let u,f;if(s.merge)u=new bs(a.fieldMask),f=a.fieldTransforms;else if(s.mergeFields){const g=[];for(const v of s.mergeFields){const b=a1(e,v,n);if(!a.contains(b))throw new at(je.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);B4(g,b)||g.push(b)}u=new bs(g),f=a.fieldTransforms.filter(v=>u.covers(v.field))}else u=null,f=a.fieldTransforms;return new KR(new es(l),u,f)}class ag extends sg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ag}}class G_ extends sg{_toFieldTransform(e){return new Kk(e.path,new Wf)}isEqual(e){return e instanceof G_}}function YR(t,e,n,r){const i=t.Qu(1,e,n);K_("Data must be an object, but it was:",i,r);const s=[],a=es.empty();$u(r,(u,f)=>{const g=Z_(e,u,n);f=Tr(f);const v=i.Nu(g);if(f instanceof ag)s.push(g);else{const b=ud(f,v);b!=null&&(s.push(g),a.set(g,b))}});const l=new bs(s);return new O4(a,l,i.fieldTransforms)}function QR(t,e,n,r,i,s){const a=t.Qu(1,e,n),l=[a1(e,r,n)],u=[i];if(s.length%2!=0)throw new at(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)l.push(a1(e,s[b])),u.push(s[b+1]);const f=[],g=es.empty();for(let b=l.length-1;b>=0;--b)if(!B4(f,l[b])){const _=l[b];let k=u[b];k=Tr(k);const C=a.Nu(_);if(k instanceof ag)f.push(_);else{const M=ud(k,C);M!=null&&(f.push(_),g.set(_,M))}}const v=new bs(f);return new O4(g,v,a.fieldTransforms)}function XR(t,e,n,r=!1){return ud(n,t.Qu(r?4:3,e))}function ud(t,e){if(j4(t=Tr(t)))return K_("Unsupported field value:",e,t),F4(t,e);if(t instanceof sg)return function(r,i){if(!M4(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let u=ud(l,i.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Tr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Hk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pr.fromDate(r);return{timestampValue:hm(i.serializer,s)}}if(r instanceof Pr){const s=new Pr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hm(i.serializer,s)}}if(r instanceof W_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ah)return{bytesValue:n4(i.serializer,r._byteString)};if(r instanceof Ei){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:C_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof H_)return function(a,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return I_(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ng(r)}`)}(t,e)}function F4(t,e){const n={};return LE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$u(t,(r,i)=>{const s=ud(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function j4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pr||t instanceof W_||t instanceof ah||t instanceof Ei||t instanceof sg||t instanceof H_)}function K_(t,e,n){if(!j4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ng(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function a1(t,e,n){if((e=Tr(e))instanceof ig)return e._internalPath;if(typeof e=="string")return Z_(t,e);throw pm("Field path arguments must be of type string or ",t,!1,void 0,n)}const JR=new RegExp("[~\\*/\\[\\]]");function Z_(t,e,n){if(e.search(JR)>=0)throw pm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ig(...e.split("."))._internalPath}catch{throw pm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pm(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new at(je.INVALID_ARGUMENT,l+t+u)}function B4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e8 extends V4{data(){return super.data()}}function lg(t,e){return typeof e=="string"?Z_(t,e):e instanceof ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new at(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Y_{}class Q_ extends Y_{}function l1(t,e,...n){let r=[];e instanceof Y_&&r.push(e),r=r.concat(n),function(s){const a=s.filter(u=>u instanceof X_).length,l=s.filter(u=>u instanceof ug).length;if(a>1||a>0&&l>0)throw new at(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ug extends Q_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ug(e,n,r)}_apply(e){const n=this._parse(e);return z4(e._query,n),new su(e.firestore,e.converter,Q0(e._query,n))}_parse(e){const n=og(e.firestore);return function(s,a,l,u,f,g,v){let b;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new at(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){Sw(v,g);const _=[];for(const k of v)_.push(xw(u,s,k));b={arrayValue:{values:_}}}else b=xw(u,s,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||Sw(v,g),b=XR(l,a,v,g==="in"||g==="not-in");return vr.create(f,g,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ww(t,e,n){const r=e,i=lg("where",t);return ug._create(i,r,n)}class X_ extends Y_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new X_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const l=s.getFlattenedFilters();for(const u of l)z4(a,u),a=Q0(a,u)}(e._query,n),new su(e.firestore,e.converter,Q0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class J_ extends Q_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new J_(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new at(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new at(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qf(s,a)}(e._query,this._field,this._direction);return new su(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new gh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function n8(t,e="asc"){const n=e,r=lg("orderBy",t);return J_._create(r,n)}class ey extends Q_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ey(e,n,r)}_apply(e){return new su(e.firestore,e.converter,um(e._query,this._limit,this._limitType))}}function bw(t){return qR("limit",t),ey._create("limit",t,"F")}function xw(t,e,n){if(typeof(n=Tr(n))=="string"){if(n==="")throw new at(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BE(e)&&n.indexOf("/")!==-1)throw new at(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dn.fromString(n));if(!vt.isDocumentKey(r))throw new at(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return z5(t,new vt(r))}if(n instanceof Ei)return z5(t,n._key);throw new at(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(n)}.`)}function Sw(t,e){if(!Array.isArray(t)||t.length===0)throw new at(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z4(t,e){const n=function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new at(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r8{convertValue(e,n="none"){switch(ju(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ot()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $u(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>or(a.doubleValue));return new H_(s)}convertGeoPoint(e){return new W_(or(e.latitude),or(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=E_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vf(e));default:return null}}convertTimestamp(e){const n=Yl(e);return new Pr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dn.fromString(e);bn(l4(r));const i=new zf(r.get(1),r.get(3)),s=new vt(r.popFirst(5));return i.isEqual(n)||Za(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q4 extends V4{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sp extends q4{data(e={}){return super.data(e)}}class i8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sp(this._firestore,this._userDataWriter,r.key,r,new Xh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const u=new Sp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Xh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Sp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Xh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),g=a.indexOf(l.doc.key)),{type:s8(l.type),doc:u,oldIndex:f,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){t=Do(t,Ei);const e=Do(t.firestore,Bu);return zR(q_(e),t._key).then(n=>K4(e,t,n))}class H4 extends r8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ah(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ei(this.firestore,null,n)}}function ty(t,e,n){t=Do(t,Ei);const r=Do(t.firestore,Bu),i=U4(t.converter,e,n);return ry(r,[D4(og(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mo.none())])}function $4(t,e,n,...r){t=Do(t,Ei);const i=Do(t.firestore,Bu),s=og(i);let a;return a=typeof(e=Tr(e))=="string"||e instanceof ig?QR(s,"updateDoc",t._key,e,n,r):YR(s,"updateDoc",t._key,e),ry(i,[a.toMutation(t._key,Mo.exists(!0))])}function G4(t,e){const n=Do(t.firestore,Bu),r=ou(t),i=U4(t.converter,e);return ry(n,[D4(og(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Mo.exists(!1))]).then(()=>r)}function ny(t,...e){var n,r,i;t=Tr(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||yw(e[a])||(s=e[a],a++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(yw(e[a])){const v=e[a];e[a]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[a+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[a+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let u,f,g;if(t instanceof Ei)f=Do(t.firestore,Bu),g=Gm(t._key.path),u={next:v=>{e[a]&&e[a](K4(f,t,v))},error:e[a+1],complete:e[a+2]};else{const v=Do(t,su);f=Do(v.firestore,Bu),g=v._query;const b=new H4(f);u={next:_=>{e[a]&&e[a](new i8(f,b,v,_))},error:e[a+1],complete:e[a+2]},t8(t._query)}return function(b,_,k,C){const M=new L4(C),E=new b4(_,M,k);return b.asyncQueue.enqueueAndForget(async()=>y4(await o1(b),E)),()=>{M.Za(),b.asyncQueue.enqueueAndForget(async()=>w4(await o1(b),E))}}(q_(f),g,l,u)}function ry(t,e){return function(r,i){const s=new Ul;return r.asyncQueue.enqueueAndForget(async()=>LR(await VR(r),i,s)),s.promise}(q_(t),e)}function K4(t,e,n){const r=n.docs.get(e._key),i=new H4(t);return new q4(t,i,e._key,r,new Xh(n.hasPendingWrites,n.fromCache),e.converter)}function Xl(){return new G_("serverTimestamp")}(function(e,n=!0){(function(i){mh=i})(ph),Jc(new Mu("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Bu(new lk(r.getProvider("auth-internal")),new fk(r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new at(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zf(f.options.projectId,g)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),zl(D5,"4.7.3",e),zl(D5,"4.7.3","esm2017")})();var o8="firebase",a8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zl(o8,a8,"app");function iy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Z4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const l8=Z4,Y4=new td("auth","Firebase",Z4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new __("@firebase/auth");function u8(t,...e){mm.logLevel<=en.WARN&&mm.warn(`Auth (${ph}): ${t}`,...e)}function Ep(t,...e){mm.logLevel<=en.ERROR&&mm.error(`Auth (${ph}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t,...e){throw sy(t,...e)}function ma(t,...e){return sy(t,...e)}function Q4(t,e,n){const r=Object.assign(Object.assign({},l8()),{[e]:n});return new td("auth","Firebase",r).create(e,{appName:t.name})}function Wl(t){return Q4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y4.create(t,...e)}function Nt(t,e,...n){if(!t)throw sy(e,...n)}function Ba(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ep(e),new Error(e)}function Qa(t,e){t||Ba(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function c8(){return Ew()==="http:"||Ew()==="https:"}function Ew(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c8()||VL()||"connection"in navigator)?navigator.onLine:!0}function f8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qa(n>e,"Short delay should be less than long delay!"),this.isMobile=FL()||zL()}get(){return h8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e){Qa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new cd(3e4,6e4);function Ku(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function au(t,e,n,r,i={}){return J4(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=nd(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:u},s);return BL()||(f.referrerPolicy="no-referrer"),X4.fetch()(eA(t,t.config.apiHost,n,l),f)})}async function J4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},d8),e);try{const i=new g8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw ep(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ep(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw ep(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw ep(t,"user-disabled",a);const g=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Q4(t,g,f);Bo(t,g)}}catch(i){if(i instanceof Ja)throw i;Bo(t,"network-request-failed",{message:String(i)})}}async function cg(t,e,n,r,i={}){const s=await au(t,e,n,r,i);return"mfaPendingCredential"in s&&Bo(t,"multi-factor-auth-required",{_serverResponse:s}),s}function eA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?oy(t.config,i):`${t.config.apiScheme}://${i}`}function m8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ma(this.auth,"network-request-failed")),p8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ep(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ma(t,e,r);return i.customData._tokenResponse=n,i}function Aw(t){return t!==void 0&&t.enterprise!==void 0}class v8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return m8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function _8(t,e){return au(t,"GET","/v2/recaptchaConfig",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e){return au(t,"POST","/v1/accounts:delete",e)}async function tA(t,e){return au(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w8(t,e=!1){const n=Tr(t),r=await n.getIdToken(e),i=ay(r);Nt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gf(Sv(i.auth_time)),issuedAtTime:gf(Sv(i.iat)),expirationTime:gf(Sv(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Sv(t){return Number(t)*1e3}function ay(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ep("JWT malformed, contained fewer than 3 sections"),null;try{const i=fE(n);return i?JSON.parse(i):(Ep("Failed to decode base64 JWT payload"),null)}catch(i){return Ep("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Pw(t){const e=ay(t);return Nt(e,"internal-error"),Nt(typeof e.exp<"u","internal-error"),Nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ja&&b8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gf(this.lastLoginAt),this.creationTime=gf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gf(t,tA(n,{idToken:r}));Nt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nA(s.providerUserInfo):[],l=E8(t.providerData,a),u=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),g=u?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new c1(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function S8(t){const e=Tr(t);await gm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nA(t){return t.map(e=>{var{providerId:n}=e,r=iy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e){const n=await J4(t,{},async()=>{const r=nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=eA(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",X4.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function P8(t,e){return au(t,"POST","/v2/accounts:revokeToken",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nt(e.idToken,"internal-error"),Nt(typeof e.idToken<"u","internal-error"),Nt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Pw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Nt(e.length!==0,"internal-error");const n=Pw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await A8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new qc;return r&&(Nt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Nt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Nt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qc,this.toJSON())}_performRefresh(){return Ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t,e){Nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Va{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=iy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new c1(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gf(this,this.stsTokenManager.getToken(this.auth,e));return Nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return w8(this,e)}reload(){return S8(this)}_assign(e){this!==e&&(Nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Va(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await gm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ja(this.auth.app))return Promise.reject(Wl(this.auth));const e=await this.getIdToken();return await Gf(this,y8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,u,f,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(a=n.photoURL)!==null&&a!==void 0?a:void 0,C=(l=n.tenantId)!==null&&l!==void 0?l:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(f=n.createdAt)!==null&&f!==void 0?f:void 0,T=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:j,emailVerified:te,isAnonymous:he,providerData:we,stsTokenManager:z}=n;Nt(j&&z,e,"internal-error");const R=qc.fromJSON(this.name,z);Nt(typeof j=="string",e,"internal-error"),gl(v,e.name),gl(b,e.name),Nt(typeof te=="boolean",e,"internal-error"),Nt(typeof he=="boolean",e,"internal-error"),gl(_,e.name),gl(k,e.name),gl(C,e.name),gl(M,e.name),gl(E,e.name),gl(T,e.name);const U=new Va({uid:j,auth:e,email:b,emailVerified:te,displayName:v,isAnonymous:he,photoURL:k,phoneNumber:_,tenantId:C,stsTokenManager:R,createdAt:E,lastLoginAt:T});return we&&Array.isArray(we)&&(U.providerData=we.map(K=>Object.assign({},K))),M&&(U._redirectEventId=M),U}static async _fromIdTokenResponse(e,n,r=!1){const i=new qc;i.updateFromServerResponse(n);const s=new Va({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await gm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Nt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?nA(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new qc;l.updateFromIdToken(r);const u=new Va({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new c1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Map;function za(t){Qa(t instanceof Function,"Expected a class definition");let e=Tw.get(t);return e?(Qa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rA.type="NONE";const Iw=rA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t,e,n){return`firebase:${t}:${e}:${n}`}class Wc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ap(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ap("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Va._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wc(za(Iw),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||za(Iw);const a=Ap(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const g=await f._get(a);if(g){const v=Va._fromJSON(e,g);f!==s&&(l=v),s=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Wc(s,e,r):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(a)}catch{}})),new Wc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uA(e))return"Blackberry";if(cA(e))return"Webos";if(sA(e))return"Safari";if((e.includes("chrome/")||oA(e))&&!e.includes("edge/"))return"Chrome";if(lA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function iA(t=Pi()){return/firefox\//i.test(t)}function sA(t=Pi()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oA(t=Pi()){return/crios\//i.test(t)}function aA(t=Pi()){return/iemobile/i.test(t)}function lA(t=Pi()){return/android/i.test(t)}function uA(t=Pi()){return/blackberry/i.test(t)}function cA(t=Pi()){return/webos/i.test(t)}function ly(t=Pi()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T8(t=Pi()){var e;return ly(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I8(){return UL()&&document.documentMode===10}function hA(t=Pi()){return ly(t)||lA(t)||cA(t)||uA(t)||/windows phone/i.test(t)||aA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(t,e=[]){let n;switch(t){case"Browser":n=Nw(Pi());break;case"Worker":n=`${Nw(Pi())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ph}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L8(t,e={}){return au(t,"GET","/v2/passwordPolicy",Ku(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8=6;class k8{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:C8,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lw(this),this.idTokenSubscription=new Lw(this),this.beforeStateQueue=new N8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=za(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Wc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tA(this,{idToken:e}),r=await Va._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ja(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ja(this.app))return Promise.reject(Wl(this));const n=e?Tr(e):null;return n&&Nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ja(this.app)?Promise.reject(Wl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ja(this.app)?Promise.reject(Wl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(za(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await L8(this),n=new k8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new td("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await P8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&za(e)||this._popupRedirectResolver;Nt(n,this,"argument-error"),this.redirectPersistenceManager=await Wc.create(this,[za(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nt(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&u8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yh(t){return Tr(t)}class Lw{constructor(e){this.auth=e,this.observer=null,this.addObserver=YL(n=>this.observer=n)}get next(){return Nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O8(t){hg=t}function dA(t){return hg.loadJS(t)}function M8(){return hg.recaptchaEnterpriseScript}function D8(){return hg.gapiScript}function F8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const j8="recaptcha-enterprise",B8="NO_RECAPTCHA";class V8{constructor(e){this.type=j8,this.auth=yh(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{_8(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new v8(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,a(f.siteKey)}}).catch(u=>{l(u)})})}function i(s,a,l){const u=window.grecaptcha;Aw(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(f=>{a(f)}).catch(()=>{a(B8)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&Aw(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=M8();u.length!==0&&(u+=l),dA(u).then(()=>{i(l,s,a)}).catch(f=>{a(f)})}}).catch(l=>{a(l)})})}}async function Cw(t,e,n,r=!1){const i=new V8(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function kw(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Cw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Cw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8(t,e){const n=w_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(sm(s,e??{}))return i;Bo(i,"already-initialized")}return n.initialize({options:e})}function U8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(za);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function q8(t,e,n){const r=yh(t);Nt(r._canInitEmulator,r,"emulator-config-failed"),Nt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=pA(e),{host:a,port:l}=W8(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),H8()}function pA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function W8(t){const e=pA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Rw(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Rw(a)}}}function Rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function H8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ba("not implemented")}_getIdTokenResponse(e){return Ba("not implemented")}_linkToIdToken(e,n){return Ba("not implemented")}_getReauthenticationResolver(e){return Ba("not implemented")}}async function $8(t,e){return au(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(t,e){return cg(t,"POST","/v1/accounts:signInWithPassword",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8(t,e){return cg(t,"POST","/v1/accounts:signInWithEmailLink",Ku(t,e))}async function Z8(t,e){return cg(t,"POST","/v1/accounts:signInWithEmailLink",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf extends uy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kw(e,n,"signInWithPassword",G8);case"emailLink":return K8(e,{email:this._email,oobCode:this._password});default:Bo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kw(e,r,"signUpPassword",$8);case"emailLink":return Z8(e,{idToken:n,email:this._email,oobCode:this._password});default:Bo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t,e){return cg(t,"POST","/v1/accounts:signInWithIdp",Ku(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8="http://localhost";class Vu extends uy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=iy(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Vu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Hc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hc(e,n)}buildRequest(){const e={requestUri:Y8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X8(t){const e=Gh(Kh(t)).link,n=e?Gh(Kh(e)).deep_link_id:null,r=Gh(Kh(t)).deep_link_id;return(r?Gh(Kh(r)).link:null)||r||n||e||t}class cy{constructor(e){var n,r,i,s,a,l;const u=Gh(Kh(e)),f=(n=u.apiKey)!==null&&n!==void 0?n:null,g=(r=u.oobCode)!==null&&r!==void 0?r:null,v=Q8((i=u.mode)!==null&&i!==void 0?i:null);Nt(f&&g&&v,"argument-error"),this.apiKey=f,this.operation=v,this.code=g,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=X8(e);try{return new cy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.providerId=wh.PROVIDER_ID}static credential(e,n){return Kf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cy.parseLink(n);return Nt(r,"argument-error"),Kf._fromEmailAndCode(e,r.code,r.tenantId)}}wh.PROVIDER_ID="password";wh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends mA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends hd{constructor(){super("facebook.com")}static credential(e){return Vu._fromParams({providerId:bl.PROVIDER_ID,signInMethod:bl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bl.credentialFromTaggedObject(e)}static credentialFromError(e){return bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bl.credential(e.oauthAccessToken)}catch{return null}}}bl.FACEBOOK_SIGN_IN_METHOD="facebook.com";bl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends hd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vu._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xl.credentialFromTaggedObject(e)}static credentialFromError(e){return xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xl.credential(n,r)}catch{return null}}}xl.GOOGLE_SIGN_IN_METHOD="google.com";xl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends hd{constructor(){super("github.com")}static credential(e){return Vu._fromParams({providerId:Sl.PROVIDER_ID,signInMethod:Sl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sl.credentialFromTaggedObject(e)}static credentialFromError(e){return Sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sl.credential(e.oauthAccessToken)}catch{return null}}}Sl.GITHUB_SIGN_IN_METHOD="github.com";Sl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends hd{constructor(){super("twitter.com")}static credential(e,n){return Vu._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return El.credentialFromTaggedObject(e)}static credentialFromError(e){return El.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return El.credential(n,r)}catch{return null}}}El.TWITTER_SIGN_IN_METHOD="twitter.com";El.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Va._fromIdTokenResponse(e,r,i),a=Ow(r);return new lh({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Ow(r);return new lh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Ow(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends Ja{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vm(e,n,r,i)}}function gA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vm._fromErrorAndOperation(t,s,e,r):s})}async function J8(t,e,n=!1){const r=await Gf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e,n=!1){const{auth:r}=t;if(ja(r.app))return Promise.reject(Wl(r));const i="reauthenticate";try{const s=await Gf(t,gA(r,i,e,t),n);Nt(s.idToken,r,"internal-error");const a=ay(s.idToken);Nt(a,r,"internal-error");const{sub:l}=a;return Nt(t.uid===l,r,"user-mismatch"),lh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Bo(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(t,e,n=!1){if(ja(t.app))return Promise.reject(Wl(t));const r="signIn",i=await gA(t,r,e),s=await lh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function tO(t,e){return vA(yh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nO(t){const e=yh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function rO(t,e,n){return ja(t.app)?Promise.reject(Wl(t)):tO(Tr(t),wh.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nO(t),r})}function iO(t,e,n,r){return Tr(t).onIdTokenChanged(e,n,r)}function sO(t,e,n){return Tr(t).beforeAuthStateChanged(e,n)}function oO(t,e,n,r){return Tr(t).onAuthStateChanged(e,n,r)}function aO(t){return Tr(t).signOut()}const _m="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_m,"1"),this.storage.removeItem(_m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=1e3,uO=10;class yA extends _A{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);I8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,uO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yA.type="LOCAL";const cO=yA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends _A{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wA.type="SESSION";const bA=wA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async f=>f(n.origin,s)),u=await hO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const f=hy("",20);i.port1.start();const g=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(v){const b=v;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(g),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(b.data.response);break;default:clearTimeout(g),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(){return window}function dO(t){ga().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return typeof ga().WorkerGlobalScope<"u"&&typeof ga().importScripts=="function"}async function pO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gO(){return xA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firebaseLocalStorageDb",vO=1,ym="firebaseLocalStorage",EA="fbase_key";class fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dg(t,e){return t.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function _O(){const t=indexedDB.deleteDatabase(SA);return new fd(t).toPromise()}function h1(){const t=indexedDB.open(SA,vO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ym,{keyPath:EA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ym)?e(r):(r.close(),await _O(),e(await h1()))})})}async function Mw(t,e,n){const r=dg(t,!0).put({[EA]:e,value:n});return new fd(r).toPromise()}async function yO(t,e){const n=dg(t,!1).get(e),r=await new fd(n).toPromise();return r===void 0?null:r.value}function Dw(t,e){const n=dg(t,!0).delete(e);return new fd(n).toPromise()}const wO=800,bO=3;class AA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fg._getInstance(gO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pO(),!this.activeServiceWorker)return;this.sender=new fO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h1();return await Mw(e,_m,"1"),await Dw(e,_m),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=dg(i,!1).getAll();return new fd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AA.type="LOCAL";const xO=AA;new cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e){return e?za(e):(Nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy extends uy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EO(t){return vA(t.auth,new fy(t),t.bypassAuthState)}function AO(t){const{auth:e,user:n}=t;return Nt(n,e,"internal-error"),eO(n,new fy(t),t.bypassAuthState)}async function PO(t){const{auth:e,user:n}=t;return Nt(n,e,"internal-error"),J8(n,new fy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EO;case"linkViaPopup":case"linkViaRedirect":return PO;case"reauthViaPopup":case"reauthViaRedirect":return AO;default:Bo(this.auth,"internal-error")}}resolve(e){Qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new cd(2e3,1e4);class Nc extends PA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Nc.currentPopupAction&&Nc.currentPopupAction.cancel(),Nc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nt(e,this.auth,"internal-error"),e}async onExecution(){Qa(this.filter.length===1,"Popup operations only handle one event");const e=hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ma(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ma(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ma(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TO.get())};e()}}Nc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="pendingRedirect",Pp=new Map;class NO extends PA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pp.get(this.auth._key());if(!e){try{const r=await LO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pp.set(this.auth._key(),e)}return this.bypassAuthState||Pp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LO(t,e){const n=RO(e),r=kO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function CO(t,e){Pp.set(t._key(),e)}function kO(t){return za(t._redirectPersistence)}function RO(t){return Ap(IO,t.config.apiKey,t.name)}async function OO(t,e,n=!1){if(ja(t.app))return Promise.reject(Wl(t));const r=yh(t),i=SO(r,e),a=await new NO(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=10*60*1e3;class DO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ma(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fw(e))}saveEventToCache(e){this.cachedEventUids.add(Fw(e)),this.lastProcessedEventTime=Date.now()}}function Fw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e={}){return au(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VO=/^https?/;async function zO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jO(t);for(const n of e)try{if(UO(n))return}catch{}Bo(t,"unauthorized-domain")}function UO(t){const e=u1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!VO.test(n))return!1;if(BO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new cd(3e4,6e4);function jw(){const t=ga().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WO(t){return new Promise((e,n)=>{var r,i,s;function a(){jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jw(),n(ma(t,"network-request-failed"))},timeout:qO.get()})}if(!((i=(r=ga().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ga().gapi)===null||s===void 0)&&s.load)a();else{const l=F8("iframefcb");return ga()[l]=()=>{gapi.load?a():n(ma(t,"network-request-failed"))},dA(`${D8()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw Tp=null,e})}let Tp=null;function HO(t){return Tp=Tp||WO(t),Tp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=new cd(5e3,15e3),GO="__/auth/iframe",KO="emulator/auth/iframe",ZO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QO(t){const e=t.config;Nt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oy(e,KO):`https://${t.config.authDomain}/${GO}`,r={apiKey:e.apiKey,appName:t.name,v:ph},i=YO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${nd(r).slice(1)}`}async function XO(t){const e=await HO(t),n=ga().gapi;return Nt(n,t,"internal-error"),e.open({where:document.body,url:QO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=ma(t,"network-request-failed"),l=ga().setTimeout(()=>{s(a)},$O.get());function u(){ga().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e7=500,t7=600,n7="_blank",r7="http://localhost";class Bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i7(t,e,n,r=e7,i=t7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},JO),{width:r.toString(),height:i.toString(),top:s,left:a}),f=Pi().toLowerCase();n&&(l=oA(f)?n7:n),iA(f)&&(e=e||r7,u.scrollbars="yes");const g=Object.entries(u).reduce((b,[_,k])=>`${b}${_}=${k},`,"");if(T8(f)&&l!=="_self")return s7(e||"",l),new Bw(null);const v=window.open(e||"",l,g);Nt(v,t,"popup-blocked");try{v.focus()}catch{}return new Bw(v)}function s7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="__/auth/handler",a7="emulator/auth/handler",l7=encodeURIComponent("fac");async function Vw(t,e,n,r,i,s){Nt(t.config.authDomain,t,"auth-domain-config-required"),Nt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ph,eventId:i};if(e instanceof mA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",ZL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))a[g]=v}if(e instanceof hd){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(a.scopes=g.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const g of Object.keys(l))l[g]===void 0&&delete l[g];const u=await t._getAppCheckToken(),f=u?`#${l7}=${encodeURIComponent(u)}`:"";return`${u7(t)}?${nd(l).slice(1)}${f}`}function u7({config:t}){return t.emulator?oy(t,a7):`https://${t.authDomain}/${o7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="webStorageSupport";class c7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bA,this._completeRedirectFn=OO,this._overrideRedirectResult=CO}async _openPopup(e,n,r,i){var s;Qa((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Vw(e,n,r,u1(),i);return i7(e,a,hy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Vw(e,n,r,u1(),i);return dO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qa(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XO(e),r=new DO(e);return n.register("authEvent",i=>(Nt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ev,{type:Ev},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ev];a!==void 0&&n(!!a),Bo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hA()||sA()||ly()}}const h7=c7;var zw="@firebase/auth",Uw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p7(t){Jc(new Mu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Nt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fA(t)},f=new R8(r,i,s,u);return U8(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jc(new Mu("auth-internal",e=>{const n=yh(e.getProvider("auth").getImmediate());return(r=>new f7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zl(zw,Uw,d7(t)),zl(zw,Uw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=5*60,g7=mE("authIdTokenMaxAge")||m7;let qw=null;const v7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g7)return;const i=n==null?void 0:n.token;qw!==i&&(qw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _7(t=yE()){const e=w_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=z8(t,{popupRedirectResolver:h7,persistence:[xO,cO,bA]}),r=mE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=v7(s.toString());sO(n,a,()=>a(n.currentUser)),iO(n,l=>a(l))}}const i=dE("auth");return i&&q8(n,`http://${i}`),n}function y7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}O8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ma("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",y7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p7("Browser");const w7={apiKey:"AIzaSyDbRe11Film814hormq14FCEcPJsVPmY68",authDomain:"darmax-fe29a.firebaseapp.com",projectId:"darmax-fe29a",storageBucket:"darmax-fe29a.appspot.com",messagingSenderId:"32747838110",appId:"1:32747838110:web:ed09dd90828a16d4f5f98f"},IA=_E(w7),oo=HR(IA),Av=_7(IA);function b7(t){const e=l1(oh(oo,"drivers"));return ny(e,n=>t(n.docs.map(r=>({id:r.id,...r.data()}))))}async function dy(t){if(!t)return null;const e=ou(oo,"drivers",t),n=await W4(e);return n.exists()?{id:t,...n.data()}:null}async function x7(t,e,n=null){if(!t||!e)throw new Error("Falta uid o role");return await ty(ou(oo,"users",t),{role:e,...n?{email:n}:{},updatedAt:Xl(),createdAt:Xl()},{merge:!0}),!0}async function NA(t){if(!t)return null;const e=await W4(ou(oo,"users",t));return e.exists()&&e.data().role||null}function S7(t,e,n){return t?ny(ou(oo,"users",t),r=>e(r.exists()&&r.data().role||null),r=>n&&n(r)):(e(null),()=>{})}function LA(t={},e,n){const{status:r,driver:i,max:s=200}=t,a=[];r&&a.push(ww("status","==",r)),i&&a.push(ww("assignedDriver","==",i));const l=a.length?l1(oh(oo,"orders"),...a,bw(s)):l1(oh(oo,"orders"),n8("createdAt","desc"),bw(s));return ny(l,u=>e(u.docs.map(f=>({id:f.id,...f.data()}))),u=>{console.error("[onOrders] ERROR:",u)})}async function E7(t){const{customer:e,notes:n,lat:r,lng:i,total:s,items:a}=t,l=new Date().toISOString().slice(0,10),u=await G4(oh(oo,"orders"),{folio:`PD-${l}`,status:"pendiente",assignedDriver:null,outAt:null,deliveredAt:null,customer:{name:(e==null?void 0:e.name)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||""},notes:n||"",lat:r??null,lng:i??null,total:Number(s||0),items:(a||[]).map(g=>({agua:g.agua||g.water_type||"premium",liters:Number(g.liters??g.litros??0),unit_price:Number(g.unit_price??g.precioUnit??0),qty:Number(g.qty||1)})),createdAt:Xl()}),f=u.id.slice(-4).toUpperCase();return await $4(u,{folio:`PD-${l}-${f}`}),{id:u.id,folio:`PD-${l}-${f}`}}async function Ip(t){const{id:e,status:n,assigned_driver:r}=t;if(!e)throw new Error("Falta id");const i={};return n&&(i.status=n,n==="en_camino"&&(i.outAt=Xl()),n==="entregado"&&(i.deliveredAt=Xl())),r!==void 0&&(i.assignedDriver=r||null),await $4(ou(oo,"orders",e),i),!0}async function A7(t,e,n,{keepHistory:r=!0}={}){!t||e==null||n==null||(await ty(ou(oo,"drivers",t),{lat:Number(e),lng:Number(n),updatedAt:Xl()},{merge:!0}),r&&await G4(oh(oo,"drivers",t,"locations"),{lat:Number(e),lng:Number(n),at:Xl()}))}const P7={premium:{mostrador:{1:5,4:15,10:20,20:30},domicilio:{10:24,20:35}},alcalina:{mostrador:{1:20,4:28,10:38,20:55},domicilio:{10:39,20:60}}},On=t=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",maximumFractionDigits:0}).format(t||0),T7="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",I7=Ou.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:T7,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function N7(){const[t]=Ie.useState(P7),[e,n]=Ie.useState("premium"),[r,i]=Ie.useState("domicilio"),[s,a]=Ie.useState([]),[l,u]=Ie.useState({nombre:"",direccion:"",telefono:"",notas:""}),[f,g]=Ie.useState({lat:null,lng:null}),[v,b]=Ie.useState(0),[_,k]=Ie.useState([]),C=s.reduce((pe,de)=>pe+de.precioUnit*de.qty,0),M=Math.max(Number(v||0)-Number(C||0),0),E=Math.min(Number(v||0),Number(C||0)),T=Ie.useMemo(()=>{const pe=t[e][r]||{};return Object.entries(pe).map(([de,re])=>({litros:de,precio:re}))},[e,r,t]),j=(pe,de)=>{a(re=>{const Y=`${e}-${r}-${pe}`,ce=re.findIndex(ae=>ae.key===Y);if(ce>=0){const ae=[...re];return ae[ce]={...ae[ce],qty:ae[ce].qty+1},ae}return[...re,{key:Y,agua:e,ventaTipo:r,litros:pe,precioUnit:de,qty:1}]})},te=(pe,de)=>{a(re=>re.map(Y=>Y.key===pe?{...Y,qty:Math.max(0,Y.qty+de)}:Y).filter(Y=>Y.qty>0))},he=()=>a([]),we=()=>{if(!navigator.geolocation)return alert("Geolocalizacin no disponible.");navigator.geolocation.getCurrentPosition(pe=>g({lat:pe.coords.latitude,lng:pe.coords.longitude}),()=>alert("No fue posible obtener ubicacin."))},z=async()=>{if(!s.length)return alert("Agrega productos.");if(r==="domicilio"&&!l.direccion.trim())return alert("Captura la direccin.");try{const pe={type:r,customer:{name:l.nombre,phone:l.telefono,address:l.direccion},notes:l.notas,lat:f.lat,lng:f.lng,total:C,cash_received:r==="mostrador"?Number(v||0):0,cash_change:r==="mostrador"?M:0,items:s.map(re=>({agua:re.agua,liters:Number(re.litros),unit_price:Number(re.precioUnit),qty:re.qty}))},de=await E7(pe);k(re=>[...re,{id:(de==null?void 0:de.id)||crypto.randomUUID(),folio:(de==null?void 0:de.folio)||"",type:r,ts:new Date,total:C,recibido:pe.cash_received,cambio:pe.cash_change}]),alert("Pedido creado: "+((de==null?void 0:de.folio)||"")),he(),u({nombre:"",direccion:"",telefono:"",notas:""}),g({lat:null,lng:null}),b(0)}catch(pe){alert("Error: "+((pe==null?void 0:pe.message)||pe))}},{ventasTotales:R,efectivoRecibido:U,cambioEntregado:K,netoCaja:N,totalMostrador:O,totalDomicilio:D}=Ie.useMemo(()=>{let pe=0,de=0,re=0,Y=0,ce=0;for(const Ne of _)pe+=Number(Ne.total||0),de+=Number(Ne.recibido||0),re+=Number(Ne.cambio||0),Ne.type==="mostrador"&&(Y+=Number(Ne.total||0)),Ne.type==="domicilio"&&(ce+=Number(Ne.total||0));const ae=Math.max(de-re,0);return{ventasTotales:pe,efectivoRecibido:de,cambioEntregado:re,netoCaja:ae,totalMostrador:Y,totalDomicilio:ce}},[_]),oe=()=>{var pe;try{const de=new xt({unit:"pt"}),re=new Date;de.setFontSize(14),de.text("Reporte de ventas (sesin)",40,40),de.setFontSize(10),de.text(`Fecha: ${re.toLocaleDateString("es-MX")} ${re.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"})}`,40,58);const Y=[["Folio","Tipo","Hora","Total","Recibido","Cambio"]],ce=_.map(F=>[F.folio||"",F.type,F.ts instanceof Date?F.ts.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"}):"",On(F.total),On(F.recibido),On(F.cambio)]),ae={head:Y,body:ce,startY:80,styles:{fontSize:9,cellPadding:6},headStyles:{fillColor:[17,24,39]},alternateRowStyles:{fillColor:[245,247,250]},columnStyles:{0:{cellWidth:120},1:{cellWidth:90},2:{cellWidth:80},3:{cellWidth:70,halign:"right"},4:{cellWidth:80,halign:"right"},5:{cellWidth:70,halign:"right"}}};typeof de.autoTable=="function"?de.autoTable(ae):uE(de,ae);const Ne=(((pe=de.lastAutoTable)==null?void 0:pe.finalY)||80)+20;de.setFontSize(11),de.text(`Ventas totales: ${On(R)}`,40,Ne),de.text(`Mostrador: ${On(O)}`,40,Ne+18),de.text(`Domicilio: ${On(D)}`,40,Ne+36),de.text(`Recibido: ${On(U)}`,260,Ne),de.text(`Cambio: ${On(K)}`,260,Ne+18),de.text(`En caja: ${On(N)}`,260,Ne+36),de.save(`reporte-ventas-${new Date().toISOString().slice(0,10)}.pdf`)}catch(de){alert("No se pudo generar el PDF: "+((de==null?void 0:de.message)||de))}};return W.jsxs("div",{className:"space-y-4",children:[W.jsxs("header",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[W.jsx("h1",{className:"text-2xl font-bold",children:"DARMAX  POS"}),W.jsx("div",{className:"text-sm text-slate-600",children:"Diseo responsive  Sesin local"})]}),W.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[W.jsx(Ww,{value:r,onChange:pe=>{i(pe),pe==="mostrador"&&u(de=>({...de,direccion:""}))},options:[["mostrador","Mostrador"],["domicilio","Domicilio"]],label:"Tipo de venta"}),W.jsx(Ww,{value:e,onChange:n,options:[["premium","Premium (smosis)"],["alcalina","Alcalina"]],label:"Tipo de agua"})]}),W.jsxs("section",{className:"bg-white rounded-2xl shadow p-4",children:[W.jsx("h2",{className:"font-semibold mb-2",children:"Presentaciones"}),W.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:T.map(pe=>W.jsxs("button",{onClick:()=>j(pe.litros,pe.precio),className:"rounded-2xl border bg-slate-50 hover:bg-slate-100 p-4 text-center transition",children:[W.jsxs("div",{className:"text-3xl font-bold",children:[pe.litros,"L"]}),W.jsx("div",{className:"text-xl",children:On(pe.precio)})]},pe.litros))})]}),W.jsxs("section",{className:"bg-white rounded-2xl shadow p-4",children:[W.jsx("h2",{className:"font-semibold mb-2",children:"Carrito"}),s.length===0?W.jsx("div",{className:"text-slate-500",children:"Toca para agregar productos."}):W.jsx("ul",{className:"divide-y",children:s.map(pe=>W.jsxs("li",{className:"py-2 flex items-center justify-between gap-2",children:[W.jsxs("div",{className:"min-w-0",children:[W.jsxs("div",{className:"font-medium capitalize",children:[pe.agua," ",pe.litros,"L"]}),W.jsxs("div",{className:"text-xs text-slate-500",children:[On(pe.precioUnit)," c/u"]})]}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx(L7,{qty:pe.qty,onDec:()=>te(pe.key,-1),onInc:()=>te(pe.key,1)}),W.jsx("div",{className:"w-20 text-right font-semibold",children:On(pe.qty*pe.precioUnit)})]})]},pe.key))}),r==="domicilio"?W.jsxs("div",{className:"grid gap-3 mt-4",children:[W.jsx(zh,{label:"Direccin",value:l.direccion,onChange:pe=>u({...l,direccion:pe}),placeholder:"Calle, nmero, colonia"}),W.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[W.jsx(zh,{label:"Nombre",value:l.nombre,onChange:pe=>u({...l,nombre:pe})}),W.jsx(zh,{label:"Telfono",value:l.telefono,onChange:pe=>u({...l,telefono:pe})})]}),W.jsx(zh,{label:"Notas",value:l.notas,onChange:pe=>u({...l,notas:pe}),placeholder:"Ej. dejar en portn"}),W.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[W.jsx("button",{className:"px-3 py-2 rounded-xl bg-white border",onClick:we,children:" Usar mi ubicacin"}),W.jsx("div",{className:"text-xs text-slate-600",children:f.lat&&f.lng?`(${Number(f.lat).toFixed(5)}, ${Number(f.lng).toFixed(5)})`:"Sin ubicacin"})]}),W.jsx("div",{className:"h-64 w-full overflow-hidden rounded-xl border",children:W.jsx(C7,{coords:f,setCoords:g})})]}):W.jsx("div",{className:"grid gap-3 mt-4",children:W.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[W.jsx(ka,{label:"Total",value:On(C)}),W.jsx(zh,{type:"number",label:"Recibido",value:v,onChange:pe=>b(Number(pe)),placeholder:"0"}),W.jsx(ka,{label:"Cambio",value:On(M),highlight:!0}),W.jsx(ka,{label:"Queda en caja",value:On(E)})]})}),W.jsxs("div",{className:"flex justify-between items-center mt-4",children:[W.jsxs("div",{className:"text-lg",children:[W.jsx("b",{children:"Total:"})," ",On(C)]}),W.jsxs("div",{className:"flex items-center gap-2",children:[!!s.length&&W.jsx("button",{className:"rounded-xl bg-white border py-3 px-4",onClick:he,children:"Vaciar"}),W.jsx("button",{className:"rounded-xl bg-emerald-600 text-white py-3 px-4 font-semibold",onClick:z,children:"Crear pedido"})]})]})]}),W.jsxs("section",{className:"bg-white rounded-2xl shadow p-4",children:[W.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[W.jsx("h2",{className:"font-semibold",children:"Caja  Reporte de la sesin"}),W.jsx("button",{onClick:oe,className:"px-3 py-2 rounded-xl bg-slate-900 text-white hover:bg-slate-800 text-sm",children:"Exportar PDF"})]}),W.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-2 mb-3",children:[W.jsx(ka,{label:"Ventas totales",value:On(R)}),W.jsx(ka,{label:"Mostrador",value:On(O)}),W.jsx(ka,{label:"Domicilio",value:On(D)}),W.jsx(ka,{label:"Recibido",value:On(U)}),W.jsx(ka,{label:"Cambio",value:On(K)}),W.jsx(ka,{label:"En caja",value:On(N),highlight:!0})]}),_.length?W.jsx("div",{className:"overflow-auto border rounded-xl",children:W.jsxs("table",{className:"w-full text-sm",children:[W.jsx("thead",{className:"sticky top-0 bg-white",children:W.jsxs("tr",{className:"text-left border-b",children:[W.jsx("th",{className:"py-2 px-2",children:"Folio"}),W.jsx("th",{children:"Tipo"}),W.jsx("th",{children:"Hora"}),W.jsx("th",{className:"text-right",children:"Total"}),W.jsx("th",{className:"text-right",children:"Recibido"}),W.jsx("th",{className:"text-right",children:"Cambio"})]})}),W.jsx("tbody",{children:_.map(pe=>W.jsxs("tr",{className:"border-b",children:[W.jsx("td",{className:"py-2 px-2",children:pe.folio}),W.jsx("td",{className:"capitalize",children:pe.type}),W.jsx("td",{children:pe.ts instanceof Date?pe.ts.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"}):""}),W.jsx("td",{className:"text-right",children:On(pe.total)}),W.jsx("td",{className:"text-right",children:On(pe.recibido)}),W.jsx("td",{className:"text-right",children:On(pe.cambio)})]},pe.id))})]})}):W.jsx("div",{className:"text-slate-500",children:"An no hay ventas en esta sesin."})]})]})}function Ww({label:t,value:e,onChange:n,options:r}){return W.jsxs("div",{children:[t&&W.jsx("div",{className:"text-sm text-slate-600 mb-1",children:t}),W.jsx("div",{className:"grid grid-cols-2 gap-2",children:r.map(([i,s])=>W.jsx("button",{onClick:()=>n(i),className:`rounded-2xl py-3 px-3 shadow-sm border ${e===i?"bg-emerald-600 text-white border-emerald-600":"bg-white"}`,children:s},i))})]})}function zh({label:t,value:e,onChange:n,placeholder:r,type:i="text"}){return W.jsxs("label",{className:"block",children:[W.jsx("div",{className:"text-sm text-slate-600 mb-1",children:t}),W.jsx("input",{className:"w-full border rounded-xl p-3 bg-white",value:e,onChange:s=>n(s.target.value),placeholder:r,type:i})]})}function ka({label:t,value:e,highlight:n}){return W.jsxs("div",{className:`rounded-2xl border p-3 ${n?"bg-emerald-50 border-emerald-200":"bg-white"}`,children:[W.jsx("div",{className:"text-xs text-slate-600",children:t}),W.jsx("div",{className:"text-lg font-semibold",children:e})]})}function L7({qty:t,onDec:e,onInc:n}){return W.jsxs("div",{className:"inline-flex items-center rounded-xl border overflow-hidden",children:[W.jsx("button",{onClick:e,className:"px-3 py-1.5 hover:bg-slate-100",children:""}),W.jsx("div",{className:"px-3 py-1.5 min-w-8 text-center",children:t}),W.jsx("button",{onClick:n,className:"px-3 py-1.5 hover:bg-slate-100",children:""})]})}function C7({coords:t,setCoords:e}){const n=t.lat&&t.lng?[t.lat,t.lng]:[19.4326,-99.1332],[r,i]=Ie.useState(n),s=Ie.useRef(null);Ie.useEffect(()=>{t.lat&&t.lng&&i([t.lat,t.lng])},[t]);const a=()=>(UI({click(l){i([l.latlng.lat,l.latlng.lng]),e({lat:l.latlng.lat,lng:l.latlng.lng})}}),null);return W.jsxs(d_,{center:n,zoom:14,className:"h-64 w-full",children:[W.jsx(p_,{attribution:' <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),W.jsx(a,{}),W.jsx(Dc,{draggable:!0,position:r,icon:I7,ref:s,eventHandlers:{dragend(){const l=s.current;if(!l)return;const u=l.getLatLng();i([u.lat,u.lng]),e({lat:u.lat,lng:u.lng})}}})]})}const CA=Ie.createContext(null);function k7({children:t}){const[e,n]=Ie.useState(null),[r,i]=Ie.useState(!1);Ie.useEffect(()=>{const l=oO(Av,u=>{n(u||null),i(!0)});return()=>l()},[]);const s=(l,u)=>rO(Av,l,u),a=()=>aO(Av);return W.jsx(CA.Provider,{value:{user:e,ready:r,login:s,logout:a},children:t})}function Zu(){return Ie.useContext(CA)}function Hw({children:t}){const{user:e,ready:n}=Zu(),r=encodeURIComponent(location.pathname+location.search);return n?e?t:(location.href=`/login?redirect=${r}`,null):W.jsx("div",{className:"p-6",children:"Cargando"})}const R7="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",py=t=>Ou.icon({iconUrl:t,shadowUrl:R7,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),O7=py("https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png"),M7=py("https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png"),D7=py("https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png"),er=t=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",maximumFractionDigits:0}).format(t||0);function F7(){const{user:t}=Zu(),[e,n]=Ie.useState([]),[r,i]=Ie.useState([]),[s,a]=Ie.useState(""),[l,u]=Ie.useState(""),[f,g]=Ie.useState(!1),[v,b]=Ie.useState(null),[_,k]=Ie.useState(0),[C,M]=Ie.useState(""),[E,T]=Ie.useState("pendientes");Ie.useEffect(()=>{const re=LA({},n),Y=b7(i);return()=>{re&&re(),Y&&Y()}},[]);const j=async(re,Y)=>{try{await Ip({id:re,status:Y})}catch(ce){alert(`Error al actualizar estado: ${(ce==null?void 0:ce.message)||ce}`)}},te=async(re,Y)=>{try{await Ip({id:re,assigned_driver:Y||null,status:"asignado"})}catch(ce){alert(`Error al asignar repartidor: ${(ce==null?void 0:ce.message)||ce}`)}},he=async()=>{const re=(s||"").trim(),Y=(l||"").trim();if(!re||!Y)return alert("Captura nombre y UID.");try{await ty(ou(oh(oo,"drivers"),Y),{name:re,active:!0},{merge:!0}),await x7(Y,"driver"),i(ce=>{const ae=ce.some(F=>F.id===Y),Ne={id:Y,name:re,active:!0};return ae?ce.map(F=>F.id===Y?{...F,...Ne}:F):[...ce,Ne]}),a(""),u(""),alert("Repartidor guardado con UID y rol 'driver' asignado.")}catch(ce){alert(`Error al guardar repartidor: ${(ce==null?void 0:ce.message)||ce}`)}},we=re=>{b(re),k(Number((re==null?void 0:re.cash_received)||0)),M((re==null?void 0:re.cash_notes)||""),g(!0)},z=()=>{g(!1),b(null),k(0),M("")},R=async()=>{if(v)try{const re=Number(v.total||0),Y=Number(_||0),ce=Math.max(Y-re,0),ae=Math.min(Y,re);if(await Ip({id:v.id,cash_received:Y,cash_change:ce,cash_notes:(C||"").trim(),paid:Y>0,paid_at:Xl()}),n(Ne=>Ne.map(F=>F.id===v.id?{...F,cash_received:Y,cash_change:ce,cash_notes:(C||"").trim(),paid:Y>0,paid_at:new Date}:F)),Y>=re&&v.status!=="entregado")try{await j(v.id,"entregado")}catch{}console.log("Queda en caja:",ae),z()}catch(re){alert(`Error al registrar cobro: ${(re==null?void 0:re.message)||re}`)}},{totalPedidos:U,totalRecibido:K,totalCambio:N,netoEnCaja:O}=Ie.useMemo(()=>{let re=0,Y=0,ce=0;for(const Ne of e){const F=Number(Ne.total||0),X=Number(Ne.cash_received||0),J=typeof Ne.cash_change=="number"?Number(Ne.cash_change):Math.max(X-F,0);re+=F,Y+=X,ce+=J}const ae=Math.max(Y-ce,0);return{totalPedidos:re,totalRecibido:Y,totalCambio:ce,netoEnCaja:ae}},[e]),D=()=>{var re;try{const Y=new xt({unit:"pt"}),ce=new Date;Y.setFontSize(14),Y.text("Cierre de pedidos",40,40),Y.setFontSize(10),Y.text(`Fecha: ${ce.toLocaleDateString("es-MX")} ${ce.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"})}`,40,58);const ae=[["Folio","Cliente","Estado","Total","Recibido","Cambio","Notas"]],Ne=e.map(J=>{var ie;return[J.folio||"",(((ie=J.customer)==null?void 0:ie.name)||"").slice(0,28),(J.status||"").replace("_"," "),er(Number(J.total||0)),er(Number(J.cash_received||0)),er(typeof J.cash_change=="number"?J.cash_change:Math.max(Number(J.cash_received||0)-Number(J.total||0),0)),(J.cash_notes||"").slice(0,36)]}),F={head:ae,body:Ne,startY:80,styles:{fontSize:9,cellPadding:6},headStyles:{fillColor:[17,24,39]},alternateRowStyles:{fillColor:[245,247,250]},columnStyles:{0:{cellWidth:60},1:{cellWidth:140},2:{cellWidth:90},3:{cellWidth:70,halign:"right"},4:{cellWidth:80,halign:"right"},5:{cellWidth:70,halign:"right"},6:{cellWidth:120}}};typeof Y.autoTable=="function"?Y.autoTable(F):uE(Y,F);const X=(((re=Y.lastAutoTable)==null?void 0:re.finalY)||80)+20;Y.setFontSize(11),Y.text(`Total pedidos: ${er(U)}`,40,X),Y.text(`Recibido: ${er(K)}`,40,X+18),Y.text(`Cambio entregado: ${er(N)}`,40,X+36),Y.text(`En caja: ${er(O)}`,40,X+54),Y.save(`cierre-pedidos-${new Date().toISOString().slice(0,10)}.pdf`)}catch(Y){alert(`No se pudo generar el PDF: ${(Y==null?void 0:Y.message)||Y}`)}},oe=Ie.useMemo(()=>e.filter(re=>!(re!=null&&re.paid)&&re.status!=="cancelado"),[e]),pe=Ie.useMemo(()=>e.filter(re=>!!(re!=null&&re.paid)||Number((re==null?void 0:re.cash_received)||0)>0),[e]),de=E==="pendientes"?oe:E==="cobrados"?pe:e;return W.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 space-y-4",children:[W.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-2",children:[W.jsx("h2",{className:"text-lg font-semibold",children:"Pedidos a domicilio"}),W.jsx("div",{className:"text-xs text-slate-600",children:t?W.jsxs(W.Fragment,{children:["Admin: ",W.jsx("b",{children:t.email})]}):"No autenticado"})]}),W.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[W.jsx(tp,{title:"Total pedidos",value:er(U),subtitle:"Suma de todos los pedidos"}),W.jsx(tp,{title:"Recibido",value:er(K),subtitle:"Efectivo recibido"}),W.jsx(tp,{title:"Cambio",value:er(N),subtitle:"Devuelto al cliente"}),W.jsx(tp,{title:"En caja",value:er(O),subtitle:"Neto despus de cambio",highlight:!0})]}),W.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto",children:[W.jsxs(Pv,{active:E==="pendientes",onClick:()=>T("pendientes"),children:["Pendientes ",W.jsx(Tv,{children:oe.length})]}),W.jsxs(Pv,{active:E==="cobrados",onClick:()=>T("cobrados"),children:["Cobrados ",W.jsx(Tv,{children:pe.length})]}),W.jsxs(Pv,{active:E==="todos",onClick:()=>T("todos"),children:["Todos ",W.jsx(Tv,{children:e.length})]}),W.jsx("div",{className:"ml-auto",children:W.jsx("button",{onClick:D,className:"px-3 py-2 rounded-xl bg-slate-900 text-white hover:bg-slate-800 transition text-sm",children:"Generar PDF de cierre"})})]}),W.jsxs("div",{className:"rounded-2xl border bg-white overflow-hidden shadow-sm",children:[W.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",children:[W.jsx("div",{className:"font-semibold",children:"Mapa (repartidores y pedidos)"}),W.jsx("div",{className:"text-xs text-slate-500",children:"Enfoca y arrastra para explorar"})]}),W.jsx("div",{className:"h-[360px] md:h-[420px] w-full",children:W.jsx(B7,{orders:e,drivers:r})})]}),W.jsxs("div",{className:"grid md:grid-cols-3 gap-2 items-end",children:[W.jsxs("label",{className:"text-sm",children:[W.jsx("div",{className:"text-slate-600",children:"Nombre del repartidor"}),W.jsx("input",{className:"border rounded-xl p-2 w-full",value:s,onChange:re=>a(re.target.value),placeholder:"Juan Prez"})]}),W.jsxs("label",{className:"text-sm",children:[W.jsx("div",{className:"text-slate-600",children:"UID (de Authentication)"}),W.jsx("input",{className:"border rounded-xl p-2 w-full",value:l,onChange:re=>u(re.target.value),placeholder:"pega aqu el UID"})]}),W.jsx("button",{className:"px-3 py-2 rounded-xl bg-slate-900 text-white hover:bg-slate-800 transition h-[42px]",onClick:he,children:"Guardar repartidor"})]}),W.jsxs("div",{className:"grid gap-2 md:hidden",children:[de.map(re=>W.jsx(j7,{o:re,drivers:r,abrirCobro:we,setEstado:j,asignar:te},re.id)),!de.length&&W.jsx("div",{className:"py-3 px-2 text-slate-500",children:"Sin pedidos."})]}),W.jsx("div",{className:"hidden md:block overflow-auto border rounded-xl",children:W.jsxs("table",{className:"w-full text-sm",children:[W.jsx("thead",{className:"sticky top-0 bg-white",children:W.jsxs("tr",{className:"text-left border-b",children:[W.jsx("th",{className:"py-2 px-2",children:"Folio"}),W.jsx("th",{children:"Hora"}),W.jsx("th",{children:"Cliente"}),W.jsx("th",{children:"Direccin"}),W.jsx("th",{children:"Tel."}),W.jsx("th",{children:"Total"}),W.jsx("th",{children:"Estado"}),W.jsx("th",{children:"Repartidor"}),W.jsx("th",{className:"text-right pr-2",children:"Acciones"})]})}),W.jsxs("tbody",{children:[de.map(re=>{var X,J,ie,le,xe;const Y=re.assignedDriver||re.assigned_driver||"",ce=r.find(Se=>Se.id===Y),ae=(X=re.createdAt)!=null&&X.seconds?new Date(re.createdAt.seconds*1e3).toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"}):"",Ne=Number(re.cash_received||0),F=typeof re.cash_change=="number"?Number(re.cash_change):Math.max(Ne-Number(re.total||0),0);return W.jsxs("tr",{className:"border-b align-top",children:[W.jsx("td",{className:"py-2 px-2",children:re.folio}),W.jsx("td",{children:ae}),W.jsxs("td",{children:[W.jsx("div",{className:"font-medium",children:((J=re.customer)==null?void 0:J.name)||""}),Ne||F?W.jsxs("div",{className:"text-[11px] text-emerald-700 mt-0.5",children:["Recibido ",er(Ne),"  Cambio ",er(F)]}):null]}),W.jsxs("td",{className:"max-w-[260px]",children:[((ie=re.customer)==null?void 0:ie.address)||"",W.jsx("br",{}),W.jsx("span",{className:"text-xs text-slate-500",children:re.notes||""})]}),W.jsx("td",{children:((le=re.customer)==null?void 0:le.phone)||""}),W.jsx("td",{className:"font-medium",children:er(re.total)}),W.jsx("td",{className:"capitalize",children:(xe=re.status)==null?void 0:xe.replace("_"," ")}),W.jsxs("td",{children:[W.jsxs("select",{className:"border rounded-lg p-1",value:Y,onChange:Se=>te(re.id,Se.target.value),title:"Selecciona el repartidor (UID)",children:[W.jsx("option",{value:"",children:" Asignar "}),r.map(Se=>W.jsxs("option",{value:Se.id,children:[Se.name,"  ",Se.id.slice(0,6),""]},Se.id))]}),W.jsx("div",{className:"text-[11px] text-slate-500 mt-1",children:ce!=null&&ce.lat&&(ce!=null&&ce.lng)?W.jsxs(W.Fragment,{children:[" ",Number(ce.lat).toFixed(5),", ",Number(ce.lng).toFixed(5)]}):"Sin ubicacin"})]}),W.jsxs("td",{className:"space-x-2 whitespace-nowrap text-right pr-2",children:[W.jsx("a",{className:"underline text-blue-700",href:kA(re,ce),target:"_blank",rel:"noreferrer",title:"Abrir ruta en Google Maps",children:"Ruta"}),re.status==="pendiente"&&W.jsx("button",{className:"px-2 py-1 rounded bg-slate-100 hover:bg-slate-200",onClick:()=>j(re.id,"asignado"),children:"Asignado"}),(re.status==="asignado"||re.status==="pendiente")&&W.jsx("button",{className:"px-2 py-1 rounded bg-slate-100 hover:bg-slate-200",onClick:()=>j(re.id,"en_camino"),children:"Sali"}),re.status!=="entregado"&&W.jsx("button",{className:"px-2 py-1 rounded bg-emerald-100 hover:bg-emerald-200",onClick:()=>j(re.id,"entregado"),children:"Entregado"}),W.jsx("button",{className:"px-2 py-1 rounded bg-amber-100 hover:bg-amber-200",onClick:()=>we(re),children:"Cobrar"})]})]},re.id)}),!de.length&&W.jsx("tr",{children:W.jsx("td",{className:"py-3 px-2 text-slate-500",colSpan:9,children:"Sin pedidos."})})]})]})}),W.jsxs("div",{className:"flex justify-between items-center mt-3 text-sm text-slate-600",children:[W.jsxs("div",{children:["Pendientes: ",W.jsx("b",{children:oe.length})]}),W.jsxs("div",{children:["Cobrados: ",W.jsx("b",{children:pe.length})]})]}),f&&W.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[W.jsx("div",{className:"absolute inset-0 bg-black/30",onClick:z}),W.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-2xl shadow-xl border",children:[W.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[W.jsx("div",{className:"font-semibold",children:"Cobrar pedido"}),W.jsx("button",{onClick:z,className:"text-slate-500 hover:text-slate-700",children:""})]}),W.jsxs("div",{className:"p-4 space-y-3",children:[W.jsxs("div",{className:"text-sm",children:[W.jsx("div",{className:"text-slate-600",children:"Folio"}),W.jsx("div",{className:"font-medium",children:v==null?void 0:v.folio})]}),W.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[W.jsx(np,{label:"Total",value:er(Number((v==null?void 0:v.total)||0))}),W.jsx(np,{label:"Recibido",value:er(Number(_||0))})]}),W.jsxs("label",{className:"text-sm block",children:[W.jsx("div",{className:"text-slate-600",children:"Cunto recibi?"}),W.jsx("input",{type:"number",min:"0",step:"1",className:"border rounded-xl p-2 w-full",value:_,onChange:re=>k(Number(re.target.value))}),W.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[50,100,150,200,300,500,1e3].map(re=>W.jsx("button",{type:"button",className:"px-2 py-1 rounded-lg bg-slate-100 hover:bg-slate-200",onClick:()=>k(re),children:er(re)},re))})]}),W.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[W.jsx(np,{label:"Cambio a regresar",value:er(Math.max(Number(_||0)-Number((v==null?void 0:v.total)||0),0)),highlight:!0}),W.jsx(np,{label:"Queda en caja",value:er(Math.min(Number(_||0),Number((v==null?void 0:v.total)||0)))})]}),W.jsxs("label",{className:"text-sm block",children:[W.jsx("div",{className:"text-slate-600",children:"Notas del cobro (opcional)"}),W.jsx("textarea",{className:"border rounded-xl p-2 w-full min-h-[70px]",value:C,onChange:re=>M(re.target.value),placeholder:"Ej. pag con 500, billete marcado, etc."})]}),W.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[W.jsx("button",{className:"px-3 py-2 rounded-xl bg-slate-100 hover:bg-slate-200",onClick:z,children:"Cancelar"}),W.jsx("button",{className:"px-3 py-2 rounded-xl bg-emerald-600 text-white hover:bg-emerald-700",onClick:R,children:"Guardar cobro"})]})]})]})]})]})}function Pv({active:t,onClick:e,children:n}){return W.jsx("button",{onClick:e,className:`px-3 py-1.5 rounded-xl text-sm border transition ${t?"bg-slate-900 text-white border-slate-900":"bg-white hover:bg-slate-50"}`,children:W.jsx("span",{className:"inline-flex items-center gap-2",children:n})})}function Tv({children:t}){return W.jsx("span",{className:"ml-1 inline-flex items-center justify-center text-[11px] px-2 py-0.5 rounded-full bg-slate-100",children:t})}function j7({o:t,drivers:e,abrirCobro:n,setEstado:r,asignar:i}){var g,v,b,_;const s=t.assignedDriver||t.assigned_driver||"",a=e.find(k=>k.id===s),l=(g=t.createdAt)!=null&&g.seconds?new Date(t.createdAt.seconds*1e3).toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"}):"",u=Number(t.cash_received||0),f=typeof t.cash_change=="number"?Number(t.cash_change):Math.max(u-Number(t.total||0),0);return W.jsxs("div",{className:"border rounded-2xl p-3",children:[W.jsxs("div",{className:"flex items-center justify-between",children:[W.jsx("div",{className:"font-semibold",children:t.folio}),W.jsx("div",{className:"text-xs text-slate-500",children:l})]}),W.jsxs("div",{className:"mt-1 text-sm",children:[W.jsx("div",{className:"font-medium",children:(v=t.customer)==null?void 0:v.name}),W.jsx("div",{className:"text-slate-600",children:(b=t.customer)==null?void 0:b.address}),t.notes&&W.jsx("div",{className:"text-xs text-slate-500 mt-1",children:t.notes})]}),W.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[W.jsxs("div",{children:[W.jsx("span",{className:"text-slate-500",children:"Tel: "}),((_=t.customer)==null?void 0:_.phone)||""]}),W.jsx("div",{className:"text-right font-medium",children:er(t.total)})]}),u||f?W.jsxs("div",{className:"text-[11px] text-emerald-700 mt-1",children:["Recibido ",er(u),"  Cambio ",er(f)]}):null,W.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[W.jsxs("select",{className:"border rounded-lg p-1 text-sm",value:s,onChange:k=>i(t.id,k.target.value),children:[W.jsx("option",{value:"",children:" Asignar "}),e.map(k=>W.jsxs("option",{value:k.id,children:[k.name,"  ",k.id.slice(0,6),""]},k.id))]}),W.jsx("a",{className:"underline text-blue-700 ml-auto text-sm",href:kA(t,a),target:"_blank",rel:"noreferrer",children:"Ruta"})]}),W.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[t.status==="pendiente"&&W.jsx("button",{className:"px-2 py-1 rounded bg-slate-100",onClick:()=>r(t.id,"asignado"),children:"Asignado"}),(t.status==="asignado"||t.status==="pendiente")&&W.jsx("button",{className:"px-2 py-1 rounded bg-slate-100",onClick:()=>r(t.id,"en_camino"),children:"Sali"}),t.status!=="entregado"&&W.jsx("button",{className:"px-2 py-1 rounded bg-emerald-100",onClick:()=>r(t.id,"entregado"),children:"Entregado"}),W.jsx("button",{className:"px-2 py-1 rounded bg-amber-100",onClick:()=>n(t),children:"Cobrar"})]})]})}function tp({title:t,value:e,subtitle:n,highlight:r}){return W.jsxs("div",{className:`rounded-2xl border p-3 ${r?"bg-emerald-50 border-emerald-200":"bg-white"}`,children:[W.jsx("div",{className:"text-xs text-slate-600",children:t}),W.jsx("div",{className:"text-xl font-semibold",children:e}),n&&W.jsx("div",{className:"text-[11px] text-slate-500",children:n})]})}function np({label:t,value:e,highlight:n}){return W.jsxs("div",{className:`rounded-xl border p-2 ${n?"bg-amber-50 border-amber-200":"bg-white"}`,children:[W.jsx("div",{className:"text-[11px] text-slate-500",children:t}),W.jsx("div",{className:"font-semibold",children:e})]})}function B7({orders:t,drivers:e}){const n=t.filter(s=>Number(s.lat)&&Number(s.lng)).map(s=>{var a;return{id:s.id,folio:s.folio,lat:Number(s.lat),lng:Number(s.lng),status:s.status,name:(a=s==null?void 0:s.customer)==null?void 0:a.name,assignedKey:s.assignedDriver||s.assigned_driver||""}}),r=e.filter(s=>Number(s.lat)&&Number(s.lng)).map(s=>({id:s.id,name:s.name||"Repartidor",lat:Number(s.lat),lng:Number(s.lng),updatedAt:s.updatedAt})),i=r[0]?[r[0].lat,r[0].lng]:n[0]?[n[0].lat,n[0].lng]:[19.4326,-99.1332];return W.jsxs(d_,{center:i,zoom:13,className:"h-full w-full",children:[W.jsx(p_,{attribution:' <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.map(s=>W.jsxs(Dc,{position:[s.lat,s.lng],icon:O7,children:[W.jsx(uf,{children:W.jsxs("div",{className:"text-sm",children:[W.jsx("div",{className:"font-semibold",children:s.name}),W.jsx("div",{className:"text-xs text-slate-600",children:s.id}),W.jsxs("div",{children:["Lat: ",s.lat.toFixed(5),", Lng: ",s.lng.toFixed(5)]})]})}),W.jsx(PS,{center:[s.lat,s.lng],radius:40,pathOptions:{fillOpacity:.1}})]},s.id)),n.map(s=>{const a=!!s.assignedKey;return W.jsx(Dc,{position:[s.lat,s.lng],icon:a?D7:M7,children:W.jsx(uf,{children:W.jsxs("div",{className:"text-sm",children:[W.jsx("div",{className:"font-semibold",children:s.folio}),W.jsx("div",{className:"text-xs text-slate-600",children:s.name||"Cliente"}),W.jsx("div",{className:"capitalize text-xs",children:(s.status||"").replace("_"," ")}),W.jsx("a",{className:"inline-block mt-2 underline",href:`https://www.google.com/maps/dir/?api=1&destination=${s.lat},${s.lng}`,target:"_blank",rel:"noreferrer",children:"Ir con Google Maps"})]})})},s.id)}),n.map(s=>{const a=r.find(l=>l.id===s.assignedKey);return a?W.jsx(WI,{positions:[[a.lat,a.lng],[s.lat,s.lng]],pathOptions:{weight:3}},`line-${s.id}`):null}),W.jsx(z7,{}),W.jsx(V7,{drivers:r,orders:n})]})}function V7({drivers:t,orders:e}){const n=Vm();return Ie.useEffect(()=>{const r=Ou.latLngBounds([]);t.forEach(i=>r.extend([i.lat,i.lng])),e.forEach(i=>r.extend([i.lat,i.lng])),r.isValid()&&n.fitBounds(r.pad(.2))},[t,e,n]),null}function z7(){const t=Vm();return Ie.useEffect(()=>{const e=Ou.control({position:"bottomleft"});return e.onAdd=()=>{const n=Ou.DomUtil.create("div");return n.style.background="rgba(255,255,255,0.9)",n.style.padding="8px 10px",n.style.borderRadius="12px",n.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)",n.style.fontSize="12px",n.style.lineHeight="16px",n.innerHTML=`
        <div style="font-weight:600; margin-bottom:6px;">Leyenda</div>
        <div style="display:flex;align-items:center;gap:6px;margin-bottom:4px;">
          <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png" width="12" height="20" />
          <span>Repartidor</span>
        </div>
        <div style="display:flex;align-items:center;gap:6px;margin-bottom:4px;">
          <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png" width="12" height="20" />
          <span>Pedido asignado</span>
        </div>
        <div style="display:flex;align-items:center;gap:6px;">
          <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png" width="12" height="20" />
          <span>Pedido sin asignar</span>
        </div>
      `,n},e.addTo(t),()=>e.remove()},[t]),null}function kA(t,e){var i;const n=Number(t.lat)&&Number(t.lng);return Number(e==null?void 0:e.lat)&&Number(e==null?void 0:e.lng)&&n?`https://www.google.com/maps/dir/?api=1&origin=${e.lat},${e.lng}&destination=${t.lat},${t.lng}`:n?`https://www.google.com/maps/dir/?api=1&destination=${t.lat},${t.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(((i=t.customer)==null?void 0:i.address)||"")}`}const my=t=>Ou.icon({iconUrl:t,shadowUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),U7=my("https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png"),q7=my("https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-gold.png"),W7=my("https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-grey.png"),H7=t=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",maximumFractionDigits:0}).format(t||0);function $7(){const{user:t}=Zu(),e=(t==null?void 0:t.uid)||"",[n,r]=Ie.useState([]),[i,s]=Ie.useState(!0),[a,l]=Ie.useState(""),[u,f]=Ie.useState(null),[g,v]=Ie.useState(!1);Ie.useEffect(()=>{if(!e)return;const M=LA({driver:e},r);return()=>M&&M()},[e]);const b=async(M,E)=>{await Ip({id:M,status:E})};Ie.useEffect(()=>{if(!i)return;if(!navigator.geolocation){l("Geolocalizacin no disponible en este dispositivo/navegador.");return}l("");const M=()=>navigator.geolocation.getCurrentPosition(T=>{const{latitude:j,longitude:te}=T.coords;f({lat:j,lng:te}),e&&A7(e,j,te).catch(()=>{})},T=>l((T==null?void 0:T.message)||"No fue posible obtener ubicacin."));M();const E=setInterval(M,15e3);return()=>clearInterval(E)},[i,e]);const _=Ie.useMemo(()=>n.filter(M=>M.status!=="entregado"&&M.status!=="cancelado"),[n]),k=Ie.useMemo(()=>n.filter(M=>M.status==="entregado"),[n]),C=Ie.useMemo(()=>_.reduce((M,E)=>M+Number(E.total||0),0),[_]);return e?W.jsxs("div",{className:"p-4 space-y-4 max-w-5xl mx-auto",children:[W.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[W.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Repartos"}),W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsxs("span",{className:"text-sm text-slate-600",children:["Pedidos activos: ",_.length,"  Total: ",W.jsx("b",{children:H7(C)})]}),W.jsx("button",{className:`px-3 py-2 rounded-xl border transition ${i?"bg-emerald-100":"bg-white hover:bg-slate-50"}`,onClick:()=>s(M=>!M),title:"Activar/desactivar envo de ubicacin",children:i?" Enviando ubicacin":" Iniciar ubicacin"})]})]}),a&&W.jsxs("div",{className:"text-xs text-amber-700",children:[" ",a]}),W.jsxs("div",{className:"rounded-2xl border bg-white overflow-hidden shadow-sm",children:[W.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",children:[W.jsx("div",{className:"font-semibold",children:"Mapa de ruta"}),W.jsx("div",{className:"text-xs text-slate-500",children:"Arrastra/zoom para explorar"})]}),W.jsx("div",{className:"h-[380px] w-full",children:W.jsx(G7,{driverPos:u,activos:_,entregados:k})})]}),W.jsxs($w,{title:"Pedidos activos",children:[!_.length&&W.jsx("div",{className:"text-slate-500",children:"Sin pedidos activos."}),W.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(M=>W.jsx(Gw,{o:M,setEstado:b},M.id))})]}),W.jsx($w,{title:`Entregados (${k.length})`,right:W.jsxs("label",{className:"text-sm flex items-center gap-2",children:[W.jsx("input",{type:"checkbox",className:"scale-110",checked:g,onChange:M=>v(M.target.checked)}),"Mostrar"]}),children:g?k.length?W.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.map(M=>W.jsx(Gw,{o:M,setEstado:b,delivered:!0},M.id))}):W.jsx("div",{className:"text-slate-500",children:"No hay entregados."}):W.jsx("div",{className:"text-slate-500",children:"Ocultos."})})]}):W.jsxs("div",{className:"p-4 space-y-3",children:[W.jsx("h1",{className:"text-xl font-bold",children:"Repartos"}),W.jsx("p",{className:"text-slate-600",children:"No se detect sesin de repartidor."})]})}function $w({title:t,right:e,children:n}){return W.jsxs("div",{className:"rounded-2xl border bg-white overflow-hidden shadow-sm",children:[W.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",children:[W.jsx("div",{className:"font-semibold",children:t}),e]}),W.jsx("div",{className:"p-3",children:n})]})}function Gw({o:t,setEstado:e,delivered:n=!1}){var s,a,l,u;const r=t.lat&&t.lng?`https://www.google.com/maps/dir/?api=1&destination=${t.lat},${t.lng}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(((s=t.customer)==null?void 0:s.address)||"")}`,i=(t.status||"").replace("_"," ");return W.jsxs("div",{className:`border rounded-2xl p-3 bg-white shadow-sm ${n?"opacity-80":""}`,children:[W.jsxs("div",{className:"flex justify-between items-start",children:[W.jsxs("div",{children:[W.jsx("div",{className:"font-semibold",children:t.folio}),W.jsx("div",{className:"text-xs text-slate-500",children:t.id})]}),W.jsx("span",{className:"text-xs px-2 py-1 rounded-full border capitalize bg-slate-50",children:i})]}),W.jsxs("div",{className:"mt-2 text-sm space-y-1",children:[W.jsxs("div",{children:[W.jsx("b",{children:"Cliente:"})," ",((a=t.customer)==null?void 0:a.name)||"","  ",((l=t.customer)==null?void 0:l.phone)||""]}),W.jsxs("div",{children:[W.jsx("b",{children:"Direccin:"})," ",((u=t.customer)==null?void 0:u.address)||""]}),t.notes&&W.jsx("div",{className:"text-slate-600",children:t.notes}),W.jsxs("div",{className:"mt-1",children:[W.jsx("b",{children:"Total:"})," ",new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",maximumFractionDigits:0}).format(t.total||0)]})]}),W.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[W.jsx("a",{className:"px-3 py-2 rounded-xl bg-slate-100 border hover:bg-slate-200",href:r,target:"_blank",rel:"noreferrer",children:" Abrir mapa"}),!n&&t.status!=="en_camino"&&W.jsx("button",{className:"px-3 py-2 rounded-xl bg-slate-100 border hover:bg-slate-200",onClick:()=>e(t.id,"en_camino"),children:"En camino"}),!n&&W.jsx("button",{className:"px-3 py-2 rounded-xl bg-emerald-100 border hover:bg-emerald-200",onClick:()=>e(t.id,"entregado"),children:"Entregado"})]})]})}function G7({driverPos:t,activos:e,entregados:n}){const r=e.filter(a=>Number(a.lat)&&Number(a.lng)).map(a=>({id:a.id,folio:a.folio,lat:Number(a.lat),lng:Number(a.lng)})),i=n.filter(a=>Number(a.lat)&&Number(a.lng)).map(a=>({id:a.id,folio:a.folio,lat:Number(a.lat),lng:Number(a.lng)})),s=t?[t.lat,t.lng]:r[0]?[r[0].lat,r[0].lng]:i[0]?[i[0].lat,i[0].lng]:[19.4326,-99.1332];return W.jsxs(d_,{center:s,zoom:13,className:"h-full w-full",children:[W.jsx(p_,{attribution:' <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t&&W.jsxs(W.Fragment,{children:[W.jsx(Dc,{position:[t.lat,t.lng],icon:U7,children:W.jsx(uf,{children:W.jsxs("div",{className:"text-sm",children:[W.jsx("div",{className:"font-semibold",children:"Tu ubicacin"}),W.jsxs("div",{children:["Lat: ",t.lat.toFixed(5),", Lng: ",t.lng.toFixed(5)]})]})})}),W.jsx(PS,{center:[t.lat,t.lng],radius:40,pathOptions:{fillOpacity:.1}})]}),r.map(a=>W.jsx(Dc,{position:[a.lat,a.lng],icon:q7,children:W.jsx(uf,{children:W.jsxs("div",{className:"text-sm",children:[W.jsx("div",{className:"font-semibold",children:a.folio}),W.jsx("a",{className:"inline-block mt-2 underline",href:`https://www.google.com/maps/dir/?api=1&destination=${a.lat},${a.lng}`,target:"_blank",rel:"noreferrer",children:"Ir con Google Maps"})]})})},`a-${a.id}`)),i.map(a=>W.jsx(Dc,{position:[a.lat,a.lng],icon:W7,children:W.jsx(uf,{children:W.jsxs("div",{className:"text-sm",children:[W.jsxs("div",{className:"font-semibold",children:[a.folio," (entregado)"]}),W.jsx("a",{className:"inline-block mt-2 underline",href:`https://www.google.com/maps/dir/?api=1&destination=${a.lat},${a.lng}`,target:"_blank",rel:"noreferrer",children:"Ver en Google Maps"})]})})},`d-${a.id}`)),W.jsx(K7,{driverPos:t,points:[...r,...i]})]})}function K7({driverPos:t,points:e}){const n=Vm();return Ie.useEffect(()=>{const r=Ou.latLngBounds([]);t&&r.extend([t.lat,t.lng]),e.forEach(i=>r.extend([i.lat,i.lng])),r.isValid()&&n.fitBounds(r.pad(.2))},[t,e,n]),null}function Z7(){const{login:t}=Zu(),[e,n]=Ie.useState(""),[r,i]=Ie.useState(""),[s,a]=Ie.useState(""),[l,u]=Ie.useState(!1),f=c_(),g=qu(),v=async b=>{var _;b.preventDefault(),a(""),u(!0);try{const k=await t(e,r),C=(_=k==null?void 0:k.user)==null?void 0:_.uid;let M=new URLSearchParams(g.search).get("redirect")||"/";C&&(await dy(C)?M="/repartidor":await NA(C)==="admin"&&(M="/pedidos")),f(M,{replace:!0})}catch(k){a((k==null?void 0:k.message)||"No fue posible iniciar sesin")}finally{u(!1)}};return W.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:W.jsxs("form",{onSubmit:v,className:"w-full max-w-sm bg-white rounded-2xl border p-6 space-y-3",children:[W.jsx("h1",{className:"text-xl font-bold",children:"Iniciar sesin"}),W.jsxs("label",{className:"block",children:[W.jsx("div",{className:"text-sm text-slate-600",children:"Correo"}),W.jsx("input",{className:"w-full border rounded-xl p-3",type:"email",value:e,onChange:b=>n(b.target.value),placeholder:"usuario@correo.com",required:!0})]}),W.jsxs("label",{className:"block",children:[W.jsx("div",{className:"text-sm text-slate-600",children:"Contrasea"}),W.jsx("input",{className:"w-full border rounded-xl p-3",type:"password",value:r,onChange:b=>i(b.target.value),placeholder:"",required:!0})]}),s&&W.jsx("div",{className:"text-red-600 text-sm",children:s}),W.jsx("button",{className:"w-full rounded-xl bg-emerald-600 text-white py-3 font-semibold disabled:opacity-60",disabled:l,children:l?"Entrando...":"Entrar"})]})})}function Y7({children:t}){const{user:e}=Zu(),[n,r]=Ie.useState(null);return Ie.useEffect(()=>{(async()=>{if(!e)return r(!1);const i=await dy(e.uid);r(!!i)})()},[e]),n===null?W.jsx("div",{className:"p-4",children:"Verificando acceso"}):n?t:W.jsx(_S,{to:"/",replace:!0})}function Q7({children:t}){const{user:e}=Zu(),[n,r]=Ie.useState(!0),[i,s]=Ie.useState(!1);return Ie.useEffect(()=>{if(!(e!=null&&e.uid)){r(!1),s(!1);return}const a=S7(e.uid,l=>{s(l==="admin"),r(!1)},()=>{s(!1),r(!1)});return()=>a&&a()},[e==null?void 0:e.uid]),n?W.jsx("div",{className:"p-4",children:"Verificando acceso"}):i?t:W.jsx(_S,{to:"/",replace:!0})}function X7(){const{user:t,logout:e}=Zu(),[n,r]=Ie.useState(!1),[i,s]=Ie.useState(!1),a=qu();Ie.useEffect(()=>{let u=!0;return(async()=>{if(!(t!=null&&t.uid)){r(!1),s(!1);return}const[f,g]=await Promise.all([dy(t.uid),NA(t.uid)]);u&&(r(!!f),s(g==="admin"))})(),()=>{u=!1}},[t==null?void 0:t.uid,a.pathname]);const l=({to:u,children:f})=>W.jsx(II,{className:"px-3 py-2 rounded-xl bg-white border text-sm",to:u,children:f});return W.jsxs("nav",{className:"mb-4 flex gap-2 items-center",children:[!n&&W.jsxs(W.Fragment,{children:[W.jsx(l,{to:"/",children:"POS"}),W.jsx(l,{to:"/pedidos",children:"Pedidos"})]}),W.jsx(l,{to:"/repartidor",children:"App Repartidor"}),W.jsx("span",{className:"flex-1"}),t?W.jsxs(W.Fragment,{children:[W.jsx("span",{className:"text-xs text-slate-600",children:t.email}),W.jsx("button",{className:"px-3 py-2 rounded-xl bg-white border text-sm",onClick:e,children:"Cerrar sesin"})]}):W.jsx(l,{to:"/login",children:"Login"})]})}function J7(){return W.jsxs("div",{className:"min-h-screen bg-slate-50 p-4 md:p-6 max-w-7xl mx-auto",children:[W.jsx(X7,{}),W.jsxs(_I,{children:[W.jsx($h,{path:"/",element:W.jsx(N7,{})}),W.jsx($h,{path:"/pedidos",element:W.jsx(Hw,{children:W.jsx(Q7,{children:W.jsx(F7,{})})})}),W.jsx($h,{path:"/repartidor",element:W.jsx(Hw,{children:W.jsx(Y7,{children:W.jsx($7,{})})})}),W.jsx($h,{path:"/login",element:W.jsx(Z7,{})})]})]})}Iv.createRoot(document.getElementById("root")).render(W.jsx(vf.StrictMode,{children:W.jsx(k7,{children:W.jsx(AI,{children:W.jsx(J7,{})})})}));export{yn as _,t3 as c,Kw as g};
